{"ast":null,"code":"import React,{useState}from'react';import{Card,Table,Tabs,Button,Space,Typography,Tag,Modal,Descriptions,List,Image,Empty,Steps,Badge,Row,Col,Divider}from'antd';import{EyeOutlined,FileTextOutlined,ShoppingCartOutlined,CarOutlined,CheckCircleOutlined,CloseCircleOutlined,WalletOutlined}from'@ant-design/icons';import{useNavigate}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const{Title,Text}=Typography;const{TabPane}=Tabs;const{Step}=Steps;// 模拟订单数据\nconst mockOrders=[{id:'ORD001',userId:1,items:[{product:{id:1,name:'iPhone 15 Pro',description:'Apple iPhone 15 Pro 256GB',price:8999,stockQuantity:50,categoryId:6,imageUrl:'https://via.placeholder.com/400x400',salesCount:128,status:1,createdAt:'2024-01-01',updatedAt:'2024-01-01',categoryName:'手机通讯'},quantity:1}],totalAmount:8999,status:'PENDING_PAYMENT',createdAt:'2024-01-15T10:30:00Z',addressId:1,paymentMethod:'credit_card'},{id:'ORD002',userId:1,items:[{product:{id:2,name:'华为 Mate 60 Pro',description:'华为 Mate 60 Pro 512GB',price:6999,stockQuantity:30,categoryId:6,imageUrl:'https://via.placeholder.com/400x400',salesCount:89,status:1,createdAt:'2024-01-01',updatedAt:'2024-01-01',categoryName:'手机通讯'},quantity:2}],totalAmount:13998,status:'SHIPPED',createdAt:'2024-01-10T14:20:00Z',addressId:1,paymentMethod:'bank_transfer'},{id:'ORD003',userId:1,items:[{product:{id:3,name:'MacBook Pro',description:'Apple MacBook Pro 14英寸',price:15999,stockQuantity:20,categoryId:7,imageUrl:'https://via.placeholder.com/400x400',salesCount:45,status:1,createdAt:'2024-01-01',updatedAt:'2024-01-01',categoryName:'电脑办公'},quantity:1}],totalAmount:15999,status:'COMPLETED',createdAt:'2024-01-05T09:15:00Z',addressId:2,paymentMethod:'credit_card'},{id:'ORD004',userId:1,items:[{product:{id:4,name:'索尼 WH-1000XM5',description:'索尼 WH-1000XM5 无线降噪耳机',price:2999,stockQuantity:100,categoryId:8,imageUrl:'https://via.placeholder.com/400x400',salesCount:67,status:1,createdAt:'2024-01-01',updatedAt:'2024-01-01',categoryName:'数码配件'},quantity:1}],totalAmount:2999,status:'CANCELLED',createdAt:'2024-01-02T16:45:00Z',addressId:1,paymentMethod:'balance'}];const OrderHistoryPage=()=>{const navigate=useNavigate();const[selectedOrder,setSelectedOrder]=useState(null);const[detailModalVisible,setDetailModalVisible]=useState(false);// 根据状态筛选订单\nconst getOrdersByStatus=status=>{if(!status||status==='all'){return mockOrders;}return mockOrders.filter(order=>order.status===status);};// 订单状态映射\nconst getStatusTag=status=>{const statusMap={PENDING_PAYMENT:{color:'orange',text:'待付款'},PAID:{color:'blue',text:'已付款'},PROCESSING:{color:'purple',text:'处理中'},SHIPPED:{color:'cyan',text:'已发货'},COMPLETED:{color:'green',text:'已完成'},CANCELLED:{color:'red',text:'已取消'}};const config=statusMap[status]||{color:'default',text:'未知'};return/*#__PURE__*/_jsx(Tag,{color:config.color,children:config.text});};// 获取订单当前步骤\nconst getOrderStep=status=>{const stepMap={PENDING_PAYMENT:0,PAID:1,PROCESSING:1,SHIPPED:2,COMPLETED:3,CANCELLED:-1};return stepMap[status]!==undefined?stepMap[status]:0;};// 显示订单详情\nconst showOrderDetail=order=>{setSelectedOrder(order);setDetailModalVisible(true);};// 处理订单操作\nconst handleOrderAction=(order,action)=>{if(action==='pay'){// 跳转到支付页面\nnavigate('/payment',{state:{orderId:order.id,amount:order.totalAmount}});}else if(action==='cancel'){Modal.confirm({title:'确认取消订单',content:`您确定要取消订单 ${order.id} 吗？`,onOk(){console.log('取消订单:',order.id);// 这里应该调用API取消订单\n}});}else if(action==='confirm'){Modal.confirm({title:'确认收货',content:`您确定已收到订单 ${order.id} 的商品吗？`,onOk(){console.log('确认收货:',order.id);// 这里应该调用API确认收货\n}});}};// 渲染订单操作按钮\nconst renderOrderActions=order=>{switch(order.status){case'PENDING_PAYMENT':return/*#__PURE__*/_jsxs(Space,{children:[/*#__PURE__*/_jsx(Button,{type:\"primary\",size:\"small\",onClick:()=>handleOrderAction(order,'pay'),children:\"\\u7ACB\\u5373\\u4ED8\\u6B3E\"}),/*#__PURE__*/_jsx(Button,{size:\"small\",onClick:()=>handleOrderAction(order,'cancel'),children:\"\\u53D6\\u6D88\\u8BA2\\u5355\"})]});case'SHIPPED':return/*#__PURE__*/_jsx(Button,{type:\"primary\",size:\"small\",onClick:()=>handleOrderAction(order,'confirm'),children:\"\\u786E\\u8BA4\\u6536\\u8D27\"});case'COMPLETED':return/*#__PURE__*/_jsx(Button,{size:\"small\",onClick:()=>navigate(`/review?orderId=${order.id}`),children:\"\\u8BC4\\u4EF7\\u5546\\u54C1\"});default:return null;}};// 表格列定义\nconst columns=[{title:'订单信息',key:'info',render:order=>/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{marginRight:16,minWidth:80},children:[order.items.slice(0,1).map((item,index)=>/*#__PURE__*/_jsx(Image,{width:80,height:80,src:item.product.imageUrl||'https://via.placeholder.com/80x80?text=暂无图片',alt:item.product.name,style:{objectFit:'cover'}},index)),order.items.length>1&&/*#__PURE__*/_jsx(\"div\",{style:{textAlign:'center',marginTop:4},children:/*#__PURE__*/_jsxs(Text,{type:\"secondary\",children:[\"\\u5171\",order.items.length,\"\\u4EF6\"]})})]}),/*#__PURE__*/_jsxs(\"div\",{children:[order.items.slice(0,2).map((item,index)=>/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:8},children:[/*#__PURE__*/_jsx(Text,{ellipsis:true,style:{maxWidth:300,display:'block'},children:item.product.name}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(Text,{type:\"secondary\",style:{fontSize:12},children:[item.product.categoryName,\" | \\u6570\\u91CF: \",item.quantity]})})]},index)),order.items.length>2&&/*#__PURE__*/_jsxs(Text,{type:\"secondary\",children:[\"\\u7B49 \",order.items.length,\" \\u4EF6\\u5546\\u54C1\"]})]})]})},{title:'订单金额',dataIndex:'totalAmount',key:'totalAmount',width:120,render:amount=>/*#__PURE__*/_jsxs(Text,{strong:true,style:{color:'#ff4d4f'},children:[\"\\xA5\",amount.toFixed(2)]})},{title:'订单状态',dataIndex:'status',key:'status',width:100,render:status=>getStatusTag(status)},{title:'下单时间',dataIndex:'createdAt',key:'createdAt',width:160,render:date=>new Date(date).toLocaleString('zh-CN')},{title:'操作',key:'action',width:180,render:record=>/*#__PURE__*/_jsxs(Space,{children:[renderOrderActions(record),/*#__PURE__*/_jsx(Button,{type:\"link\",size:\"small\",icon:/*#__PURE__*/_jsx(EyeOutlined,{}),onClick:()=>showOrderDetail(record),children:\"\\u67E5\\u770B\\u8BE6\\u60C5\"})]})}];return/*#__PURE__*/_jsxs(\"div\",{style:{padding:'20px'},children:[/*#__PURE__*/_jsx(Title,{level:2,children:\"\\u6211\\u7684\\u8BA2\\u5355\"}),/*#__PURE__*/_jsxs(Card,{bodyStyle:{padding:0},children:[/*#__PURE__*/_jsxs(Tabs,{defaultActiveKey:\"all\",size:\"large\",style:{padding:'0 16px'},children:[/*#__PURE__*/_jsx(TabPane,{tab:\"\\u5168\\u90E8\\u8BA2\\u5355\",children:/*#__PURE__*/_jsx(Table,{columns:columns,dataSource:getOrdersByStatus('all'),rowKey:\"id\",pagination:{pageSize:10}})},\"all\"),/*#__PURE__*/_jsx(TabPane,{tab:/*#__PURE__*/_jsx(Badge,{count:getOrdersByStatus('PENDING_PAYMENT').length,offset:[10,0],children:\"\\u5F85\\u4ED8\\u6B3E\"}),children:/*#__PURE__*/_jsx(Table,{columns:columns,dataSource:getOrdersByStatus('PENDING_PAYMENT'),rowKey:\"id\",pagination:{pageSize:10}})},\"PENDING_PAYMENT\"),/*#__PURE__*/_jsx(TabPane,{tab:\"\\u5F85\\u53D1\\u8D27\",children:/*#__PURE__*/_jsx(Table,{columns:columns,dataSource:getOrdersByStatus('PAID'),rowKey:\"id\",pagination:{pageSize:10}})},\"PAID\"),/*#__PURE__*/_jsx(TabPane,{tab:\"\\u5F85\\u6536\\u8D27\",children:/*#__PURE__*/_jsx(Table,{columns:columns,dataSource:getOrdersByStatus('SHIPPED'),rowKey:\"id\",pagination:{pageSize:10}})},\"SHIPPED\"),/*#__PURE__*/_jsx(TabPane,{tab:\"\\u5DF2\\u5B8C\\u6210\",children:/*#__PURE__*/_jsx(Table,{columns:columns,dataSource:getOrdersByStatus('COMPLETED'),rowKey:\"id\",pagination:{pageSize:10}})},\"COMPLETED\")]}),mockOrders.length===0&&/*#__PURE__*/_jsx(Empty,{image:/*#__PURE__*/_jsx(FileTextOutlined,{style:{fontSize:64,color:'#ccc'}}),description:\"\\u6682\\u65E0\\u8BA2\\u5355\",style:{padding:'60px 0'}})]}),/*#__PURE__*/_jsx(Modal,{title:\"\\u8BA2\\u5355\\u8BE6\\u60C5\",open:detailModalVisible,onCancel:()=>setDetailModalVisible(false),footer:null,width:800,children:selectedOrder&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{style:{margin:'20px 0 40px'},children:[/*#__PURE__*/_jsxs(Steps,{current:getOrderStep(selectedOrder.status),status:selectedOrder.status==='CANCELLED'?'error':'process',children:[/*#__PURE__*/_jsx(Step,{title:\"\\u63D0\\u4EA4\\u8BA2\\u5355\",icon:/*#__PURE__*/_jsx(ShoppingCartOutlined,{})}),/*#__PURE__*/_jsx(Step,{title:\"\\u5546\\u5BB6\\u53D1\\u8D27\",icon:/*#__PURE__*/_jsx(CarOutlined,{})}),/*#__PURE__*/_jsx(Step,{title:\"\\u4EA4\\u6613\\u5B8C\\u6210\",icon:/*#__PURE__*/_jsx(CheckCircleOutlined,{})})]}),selectedOrder.status==='CANCELLED'&&/*#__PURE__*/_jsx(\"div\",{style:{textAlign:'center',marginTop:16},children:/*#__PURE__*/_jsxs(Text,{type:\"danger\",strong:true,children:[/*#__PURE__*/_jsx(CloseCircleOutlined,{style:{marginRight:8}}),\"\\u8BA2\\u5355\\u5DF2\\u53D6\\u6D88\"]})})]}),/*#__PURE__*/_jsxs(Row,{gutter:24,children:[/*#__PURE__*/_jsxs(Col,{span:16,children:[/*#__PURE__*/_jsx(Card,{title:\"\\u8BA2\\u5355\\u4FE1\\u606F\",style:{marginBottom:16},children:/*#__PURE__*/_jsxs(Descriptions,{column:1,bordered:true,size:\"small\",children:[/*#__PURE__*/_jsx(Descriptions.Item,{label:\"\\u8BA2\\u5355\\u7F16\\u53F7\",children:selectedOrder.id}),/*#__PURE__*/_jsx(Descriptions.Item,{label:\"\\u4E0B\\u5355\\u65F6\\u95F4\",children:new Date(selectedOrder.createdAt).toLocaleString('zh-CN')}),/*#__PURE__*/_jsxs(Descriptions.Item,{label:\"\\u652F\\u4ED8\\u65B9\\u5F0F\",children:[selectedOrder.paymentMethod==='credit_card'&&/*#__PURE__*/_jsxs(\"span\",{children:[/*#__PURE__*/_jsx(WalletOutlined,{style:{marginRight:8}}),\"\\u4FE1\\u7528\\u5361\\u652F\\u4ED8\"]}),selectedOrder.paymentMethod==='bank_transfer'&&/*#__PURE__*/_jsxs(\"span\",{children:[/*#__PURE__*/_jsx(WalletOutlined,{style:{marginRight:8}}),\"\\u94F6\\u884C\\u8F6C\\u8D26\"]}),selectedOrder.paymentMethod==='balance'&&/*#__PURE__*/_jsxs(\"span\",{children:[/*#__PURE__*/_jsx(WalletOutlined,{style:{marginRight:8}}),\"\\u4F59\\u989D\\u652F\\u4ED8\"]})]})]})}),/*#__PURE__*/_jsx(Card,{title:\"\\u5546\\u54C1\\u6E05\\u5355\",style:{marginBottom:16},children:/*#__PURE__*/_jsx(List,{dataSource:selectedOrder.items,renderItem:item=>/*#__PURE__*/_jsxs(List.Item,{children:[/*#__PURE__*/_jsx(List.Item.Meta,{avatar:/*#__PURE__*/_jsx(Image,{width:60,height:60,src:item.product.imageUrl||'https://via.placeholder.com/60x60?text=暂无图片',alt:item.product.name,style:{objectFit:'cover'}}),title:item.product.name,description:/*#__PURE__*/_jsxs(Space,{direction:\"vertical\",size:\"small\",children:[/*#__PURE__*/_jsx(Text,{type:\"secondary\",children:item.product.categoryName}),/*#__PURE__*/_jsxs(Text,{children:[\"\\u6570\\u91CF: \",item.quantity]})]})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(Text,{strong:true,style:{color:'#ff4d4f'},children:[\"\\xA5\",item.product.price]})})]})})})]}),/*#__PURE__*/_jsxs(Col,{span:8,children:[/*#__PURE__*/_jsx(Card,{title:\"\\u91D1\\u989D\\u4FE1\\u606F\",children:/*#__PURE__*/_jsxs(\"div\",{style:{padding:'0 16px'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',marginBottom:8},children:[/*#__PURE__*/_jsx(Text,{children:\"\\u5546\\u54C1\\u603B\\u4EF7:\"}),/*#__PURE__*/_jsxs(Text,{children:[\"\\xA5\",selectedOrder.totalAmount.toFixed(2)]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',marginBottom:8},children:[/*#__PURE__*/_jsx(Text,{children:\"\\u8FD0\\u8D39:\"}),/*#__PURE__*/_jsx(Text,{children:\"\\xA50.00\"})]}),/*#__PURE__*/_jsx(Divider,{style:{margin:'12px 0'}}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',marginBottom:8},children:[/*#__PURE__*/_jsx(Text,{strong:true,children:\"\\u5B9E\\u4ED8\\u6B3E:\"}),/*#__PURE__*/_jsxs(Text,{strong:true,style:{color:'#ff4d4f',fontSize:16},children:[\"\\xA5\",selectedOrder.totalAmount.toFixed(2)]})]})]})}),renderOrderActions(selectedOrder)&&/*#__PURE__*/_jsx(Card,{title:\"\\u8BA2\\u5355\\u64CD\\u4F5C\",style:{marginTop:16},children:/*#__PURE__*/_jsx(\"div\",{style:{textAlign:'center',padding:'16px 0'},children:renderOrderActions(selectedOrder)})})]})]})]})})]});};export default OrderHistoryPage;","map":{"version":3,"names":["React","useState","Card","Table","Tabs","Button","Space","Typography","Tag","Modal","Descriptions","List","Image","Empty","Steps","Badge","Row","Col","Divider","EyeOutlined","FileTextOutlined","ShoppingCartOutlined","CarOutlined","CheckCircleOutlined","CloseCircleOutlined","WalletOutlined","useNavigate","jsx","_jsx","jsxs","_jsxs","Title","Text","TabPane","Step","mockOrders","id","userId","items","product","name","description","price","stockQuantity","categoryId","imageUrl","salesCount","status","createdAt","updatedAt","categoryName","quantity","totalAmount","addressId","paymentMethod","OrderHistoryPage","navigate","selectedOrder","setSelectedOrder","detailModalVisible","setDetailModalVisible","getOrdersByStatus","filter","order","getStatusTag","statusMap","PENDING_PAYMENT","color","text","PAID","PROCESSING","SHIPPED","COMPLETED","CANCELLED","config","children","getOrderStep","stepMap","undefined","showOrderDetail","handleOrderAction","action","state","orderId","amount","confirm","title","content","onOk","console","log","renderOrderActions","type","size","onClick","columns","key","render","style","display","marginRight","minWidth","slice","map","item","index","width","height","src","alt","objectFit","length","textAlign","marginTop","marginBottom","ellipsis","maxWidth","fontSize","dataIndex","strong","toFixed","date","Date","toLocaleString","record","icon","padding","level","bodyStyle","defaultActiveKey","tab","dataSource","rowKey","pagination","pageSize","count","offset","image","open","onCancel","footer","margin","current","gutter","span","column","bordered","Item","label","renderItem","Meta","avatar","direction","justifyContent"],"sources":["D:/luckymall/frontend/src/pages/OrderHistoryPage.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { \r\n  Card, \r\n  Table, \r\n  Tabs, \r\n  Button, \r\n  Space, \r\n  Typography, \r\n  Tag, \r\n  Modal, \r\n  Descriptions,\r\n  List,\r\n  Image,\r\n  Empty,\r\n  Steps,\r\n  Badge,\r\n  Row,\r\n  Col,\r\n  Divider\r\n} from 'antd';\r\nimport { \r\n  EyeOutlined, \r\n  FileTextOutlined, \r\n  ShoppingCartOutlined,\r\n  CarOutlined,\r\n  CheckCircleOutlined,\r\n  CloseCircleOutlined,\r\n  WalletOutlined\r\n} from '@ant-design/icons';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { CartItem, Order } from '../types';\r\n\r\nconst { Title, Text } = Typography;\r\nconst { TabPane } = Tabs;\r\nconst { Step } = Steps;\r\n\r\n// 模拟订单数据\r\nconst mockOrders: Order[] = [\r\n  {\r\n    id: 'ORD001',\r\n    userId: 1,\r\n    items: [\r\n      {\r\n        product: {\r\n          id: 1,\r\n          name: 'iPhone 15 Pro',\r\n          description: 'Apple iPhone 15 Pro 256GB',\r\n          price: 8999,\r\n          stockQuantity: 50,\r\n          categoryId: 6,\r\n          imageUrl: 'https://via.placeholder.com/400x400',\r\n          salesCount: 128,\r\n          status: 1,\r\n          createdAt: '2024-01-01',\r\n          updatedAt: '2024-01-01',\r\n          categoryName: '手机通讯'\r\n        },\r\n        quantity: 1\r\n      }\r\n    ],\r\n    totalAmount: 8999,\r\n    status: 'PENDING_PAYMENT',\r\n    createdAt: '2024-01-15T10:30:00Z',\r\n    addressId: 1,\r\n    paymentMethod: 'credit_card'\r\n  },\r\n  {\r\n    id: 'ORD002',\r\n    userId: 1,\r\n    items: [\r\n      {\r\n        product: {\r\n          id: 2,\r\n          name: '华为 Mate 60 Pro',\r\n          description: '华为 Mate 60 Pro 512GB',\r\n          price: 6999,\r\n          stockQuantity: 30,\r\n          categoryId: 6,\r\n          imageUrl: 'https://via.placeholder.com/400x400',\r\n          salesCount: 89,\r\n          status: 1,\r\n          createdAt: '2024-01-01',\r\n          updatedAt: '2024-01-01',\r\n          categoryName: '手机通讯'\r\n        },\r\n        quantity: 2\r\n      }\r\n    ],\r\n    totalAmount: 13998,\r\n    status: 'SHIPPED',\r\n    createdAt: '2024-01-10T14:20:00Z',\r\n    addressId: 1,\r\n    paymentMethod: 'bank_transfer'\r\n  },\r\n  {\r\n    id: 'ORD003',\r\n    userId: 1,\r\n    items: [\r\n      {\r\n        product: {\r\n          id: 3,\r\n          name: 'MacBook Pro',\r\n          description: 'Apple MacBook Pro 14英寸',\r\n          price: 15999,\r\n          stockQuantity: 20,\r\n          categoryId: 7,\r\n          imageUrl: 'https://via.placeholder.com/400x400',\r\n          salesCount: 45,\r\n          status: 1,\r\n          createdAt: '2024-01-01',\r\n          updatedAt: '2024-01-01',\r\n          categoryName: '电脑办公'\r\n        },\r\n        quantity: 1\r\n      }\r\n    ],\r\n    totalAmount: 15999,\r\n    status: 'COMPLETED',\r\n    createdAt: '2024-01-05T09:15:00Z',\r\n    addressId: 2,\r\n    paymentMethod: 'credit_card'\r\n  },\r\n  {\r\n    id: 'ORD004',\r\n    userId: 1,\r\n    items: [\r\n      {\r\n        product: {\r\n          id: 4,\r\n          name: '索尼 WH-1000XM5',\r\n          description: '索尼 WH-1000XM5 无线降噪耳机',\r\n          price: 2999,\r\n          stockQuantity: 100,\r\n          categoryId: 8,\r\n          imageUrl: 'https://via.placeholder.com/400x400',\r\n          salesCount: 67,\r\n          status: 1,\r\n          createdAt: '2024-01-01',\r\n          updatedAt: '2024-01-01',\r\n          categoryName: '数码配件'\r\n        },\r\n        quantity: 1\r\n      }\r\n    ],\r\n    totalAmount: 2999,\r\n    status: 'CANCELLED',\r\n    createdAt: '2024-01-02T16:45:00Z',\r\n    addressId: 1,\r\n    paymentMethod: 'balance'\r\n  }\r\n];\r\n\r\nconst OrderHistoryPage: React.FC = () => {\r\n  const navigate = useNavigate();\r\n  const [selectedOrder, setSelectedOrder] = useState<Order | null>(null);\r\n  const [detailModalVisible, setDetailModalVisible] = useState(false);\r\n  \r\n  // 根据状态筛选订单\r\n  const getOrdersByStatus = (status?: string) => {\r\n    if (!status || status === 'all') {\r\n      return mockOrders;\r\n    }\r\n    return mockOrders.filter(order => order.status === status);\r\n  };\r\n  \r\n  // 订单状态映射\r\n  const getStatusTag = (status: string) => {\r\n    const statusMap: Record<string, { color: string; text: string }> = {\r\n      PENDING_PAYMENT: { color: 'orange', text: '待付款' },\r\n      PAID: { color: 'blue', text: '已付款' },\r\n      PROCESSING: { color: 'purple', text: '处理中' },\r\n      SHIPPED: { color: 'cyan', text: '已发货' },\r\n      COMPLETED: { color: 'green', text: '已完成' },\r\n      CANCELLED: { color: 'red', text: '已取消' }\r\n    };\r\n    \r\n    const config = statusMap[status] || { color: 'default', text: '未知' };\r\n    return <Tag color={config.color}>{config.text}</Tag>;\r\n  };\r\n  \r\n  // 获取订单当前步骤\r\n  const getOrderStep = (status: string) => {\r\n    const stepMap: Record<string, number> = {\r\n      PENDING_PAYMENT: 0,\r\n      PAID: 1,\r\n      PROCESSING: 1,\r\n      SHIPPED: 2,\r\n      COMPLETED: 3,\r\n      CANCELLED: -1\r\n    };\r\n    \r\n    return stepMap[status] !== undefined ? stepMap[status] : 0;\r\n  };\r\n  \r\n  // 显示订单详情\r\n  const showOrderDetail = (order: Order) => {\r\n    setSelectedOrder(order);\r\n    setDetailModalVisible(true);\r\n  };\r\n  \r\n  // 处理订单操作\r\n  const handleOrderAction = (order: Order, action: string) => {\r\n    if (action === 'pay') {\r\n      // 跳转到支付页面\r\n      navigate('/payment', { state: { orderId: order.id, amount: order.totalAmount } });\r\n    } else if (action === 'cancel') {\r\n      Modal.confirm({\r\n        title: '确认取消订单',\r\n        content: `您确定要取消订单 ${order.id} 吗？`,\r\n        onOk() {\r\n          console.log('取消订单:', order.id);\r\n          // 这里应该调用API取消订单\r\n        }\r\n      });\r\n    } else if (action === 'confirm') {\r\n      Modal.confirm({\r\n        title: '确认收货',\r\n        content: `您确定已收到订单 ${order.id} 的商品吗？`,\r\n        onOk() {\r\n          console.log('确认收货:', order.id);\r\n          // 这里应该调用API确认收货\r\n        }\r\n      });\r\n    }\r\n  };\r\n  \r\n  // 渲染订单操作按钮\r\n  const renderOrderActions = (order: Order) => {\r\n    switch (order.status) {\r\n      case 'PENDING_PAYMENT':\r\n        return (\r\n          <Space>\r\n            <Button type=\"primary\" size=\"small\" onClick={() => handleOrderAction(order, 'pay')}>\r\n              立即付款\r\n            </Button>\r\n            <Button size=\"small\" onClick={() => handleOrderAction(order, 'cancel')}>\r\n              取消订单\r\n            </Button>\r\n          </Space>\r\n        );\r\n      case 'SHIPPED':\r\n        return (\r\n          <Button type=\"primary\" size=\"small\" onClick={() => handleOrderAction(order, 'confirm')}>\r\n            确认收货\r\n          </Button>\r\n        );\r\n      case 'COMPLETED':\r\n        return (\r\n          <Button size=\"small\" onClick={() => navigate(`/review?orderId=${order.id}`)}>\r\n            评价商品\r\n          </Button>\r\n        );\r\n      default:\r\n        return null;\r\n    }\r\n  };\r\n  \r\n  // 表格列定义\r\n  const columns = [\r\n    {\r\n      title: '订单信息',\r\n      key: 'info',\r\n      render: (order: Order) => (\r\n        <div style={{ display: 'flex' }}>\r\n          <div style={{ marginRight: 16, minWidth: 80 }}>\r\n            {order.items.slice(0, 1).map((item, index) => (\r\n              <Image\r\n                key={index}\r\n                width={80}\r\n                height={80}\r\n                src={item.product.imageUrl || 'https://via.placeholder.com/80x80?text=暂无图片'}\r\n                alt={item.product.name}\r\n                style={{ objectFit: 'cover' }}\r\n              />\r\n            ))}\r\n            {order.items.length > 1 && (\r\n              <div style={{ textAlign: 'center', marginTop: 4 }}>\r\n                <Text type=\"secondary\">共{order.items.length}件</Text>\r\n              </div>\r\n            )}\r\n          </div>\r\n          <div>\r\n            {order.items.slice(0, 2).map((item, index) => (\r\n              <div key={index} style={{ marginBottom: 8 }}>\r\n                <Text ellipsis style={{ maxWidth: 300, display: 'block' }}>\r\n                  {item.product.name}\r\n                </Text>\r\n                <div>\r\n                  <Text type=\"secondary\" style={{ fontSize: 12 }}>\r\n                    {item.product.categoryName} | 数量: {item.quantity}\r\n                  </Text>\r\n                </div>\r\n              </div>\r\n            ))}\r\n            {order.items.length > 2 && (\r\n              <Text type=\"secondary\">等 {order.items.length} 件商品</Text>\r\n            )}\r\n          </div>\r\n        </div>\r\n      ),\r\n    },\r\n    {\r\n      title: '订单金额',\r\n      dataIndex: 'totalAmount',\r\n      key: 'totalAmount',\r\n      width: 120,\r\n      render: (amount: number) => (\r\n        <Text strong style={{ color: '#ff4d4f' }}>\r\n          ¥{amount.toFixed(2)}\r\n        </Text>\r\n      ),\r\n    },\r\n    {\r\n      title: '订单状态',\r\n      dataIndex: 'status',\r\n      key: 'status',\r\n      width: 100,\r\n      render: (status: string) => getStatusTag(status),\r\n    },\r\n    {\r\n      title: '下单时间',\r\n      dataIndex: 'createdAt',\r\n      key: 'createdAt',\r\n      width: 160,\r\n      render: (date: string) => new Date(date).toLocaleString('zh-CN'),\r\n    },\r\n    {\r\n      title: '操作',\r\n      key: 'action',\r\n      width: 180,\r\n      render: (record: Order) => (\r\n        <Space>\r\n          {renderOrderActions(record)}\r\n          <Button\r\n            type=\"link\"\r\n            size=\"small\"\r\n            icon={<EyeOutlined />}\r\n            onClick={() => showOrderDetail(record)}\r\n          >\r\n            查看详情\r\n          </Button>\r\n        </Space>\r\n      ),\r\n    },\r\n  ];\r\n  \r\n  return (\r\n    <div style={{ padding: '20px' }}>\r\n      <Title level={2}>我的订单</Title>\r\n      \r\n      <Card bodyStyle={{ padding: 0 }}>\r\n        <Tabs defaultActiveKey=\"all\" size=\"large\" style={{ padding: '0 16px' }}>\r\n          <TabPane tab=\"全部订单\" key=\"all\">\r\n            <Table\r\n              columns={columns}\r\n              dataSource={getOrdersByStatus('all')}\r\n              rowKey=\"id\"\r\n              pagination={{ pageSize: 10 }}\r\n            />\r\n          </TabPane>\r\n          <TabPane tab={\r\n            <Badge count={getOrdersByStatus('PENDING_PAYMENT').length} offset={[10, 0]}>\r\n              待付款\r\n            </Badge>\r\n          } key=\"PENDING_PAYMENT\">\r\n            <Table\r\n              columns={columns}\r\n              dataSource={getOrdersByStatus('PENDING_PAYMENT')}\r\n              rowKey=\"id\"\r\n              pagination={{ pageSize: 10 }}\r\n            />\r\n          </TabPane>\r\n          <TabPane tab=\"待发货\" key=\"PAID\">\r\n            <Table\r\n              columns={columns}\r\n              dataSource={getOrdersByStatus('PAID')}\r\n              rowKey=\"id\"\r\n              pagination={{ pageSize: 10 }}\r\n            />\r\n          </TabPane>\r\n          <TabPane tab=\"待收货\" key=\"SHIPPED\">\r\n            <Table\r\n              columns={columns}\r\n              dataSource={getOrdersByStatus('SHIPPED')}\r\n              rowKey=\"id\"\r\n              pagination={{ pageSize: 10 }}\r\n            />\r\n          </TabPane>\r\n          <TabPane tab=\"已完成\" key=\"COMPLETED\">\r\n            <Table\r\n              columns={columns}\r\n              dataSource={getOrdersByStatus('COMPLETED')}\r\n              rowKey=\"id\"\r\n              pagination={{ pageSize: 10 }}\r\n            />\r\n          </TabPane>\r\n        </Tabs>\r\n        \r\n        {mockOrders.length === 0 && (\r\n          <Empty\r\n            image={<FileTextOutlined style={{ fontSize: 64, color: '#ccc' }} />}\r\n            description=\"暂无订单\"\r\n            style={{ padding: '60px 0' }}\r\n          />\r\n        )}\r\n      </Card>\r\n      \r\n      {/* 订单详情模态框 */}\r\n      <Modal\r\n        title=\"订单详情\"\r\n        open={detailModalVisible}\r\n        onCancel={() => setDetailModalVisible(false)}\r\n        footer={null}\r\n        width={800}\r\n      >\r\n        {selectedOrder && (\r\n          <div>\r\n            {/* 订单状态进度条 */}\r\n            <div style={{ margin: '20px 0 40px' }}>\r\n              <Steps current={getOrderStep(selectedOrder.status)} status={selectedOrder.status === 'CANCELLED' ? 'error' : 'process'}>\r\n                <Step title=\"提交订单\" icon={<ShoppingCartOutlined />} />\r\n                <Step title=\"商家发货\" icon={<CarOutlined />} />\r\n                <Step title=\"交易完成\" icon={<CheckCircleOutlined />} />\r\n              </Steps>\r\n              {selectedOrder.status === 'CANCELLED' && (\r\n                <div style={{ textAlign: 'center', marginTop: 16 }}>\r\n                  <Text type=\"danger\" strong>\r\n                    <CloseCircleOutlined style={{ marginRight: 8 }} />\r\n                    订单已取消\r\n                  </Text>\r\n                </div>\r\n              )}\r\n            </div>\r\n            \r\n            <Row gutter={24}>\r\n              <Col span={16}>\r\n                {/* 订单信息 */}\r\n                <Card title=\"订单信息\" style={{ marginBottom: 16 }}>\r\n                  <Descriptions column={1} bordered size=\"small\">\r\n                    <Descriptions.Item label=\"订单编号\">{selectedOrder.id}</Descriptions.Item>\r\n                    <Descriptions.Item label=\"下单时间\">\r\n                      {new Date(selectedOrder.createdAt).toLocaleString('zh-CN')}\r\n                    </Descriptions.Item>\r\n                    <Descriptions.Item label=\"支付方式\">\r\n                      {selectedOrder.paymentMethod === 'credit_card' && (\r\n                        <span><WalletOutlined style={{ marginRight: 8 }} />信用卡支付</span>\r\n                      )}\r\n                      {selectedOrder.paymentMethod === 'bank_transfer' && (\r\n                        <span><WalletOutlined style={{ marginRight: 8 }} />银行转账</span>\r\n                      )}\r\n                      {selectedOrder.paymentMethod === 'balance' && (\r\n                        <span><WalletOutlined style={{ marginRight: 8 }} />余额支付</span>\r\n                      )}\r\n                    </Descriptions.Item>\r\n                  </Descriptions>\r\n                </Card>\r\n                \r\n                {/* 商品清单 */}\r\n                <Card title=\"商品清单\" style={{ marginBottom: 16 }}>\r\n                  <List\r\n                    dataSource={selectedOrder.items}\r\n                    renderItem={(item: CartItem) => (\r\n                      <List.Item>\r\n                        <List.Item.Meta\r\n                          avatar={\r\n                            <Image\r\n                              width={60}\r\n                              height={60}\r\n                              src={item.product.imageUrl || 'https://via.placeholder.com/60x60?text=暂无图片'}\r\n                              alt={item.product.name}\r\n                              style={{ objectFit: 'cover' }}\r\n                            />\r\n                          }\r\n                          title={item.product.name}\r\n                          description={\r\n                            <Space direction=\"vertical\" size=\"small\">\r\n                              <Text type=\"secondary\">{item.product.categoryName}</Text>\r\n                              <Text>数量: {item.quantity}</Text>\r\n                            </Space>\r\n                          }\r\n                        />\r\n                        <div>\r\n                          <Text strong style={{ color: '#ff4d4f' }}>\r\n                            ¥{item.product.price}\r\n                          </Text>\r\n                        </div>\r\n                      </List.Item>\r\n                    )}\r\n                  />\r\n                </Card>\r\n              </Col>\r\n              \r\n              <Col span={8}>\r\n                {/* 金额信息 */}\r\n                <Card title=\"金额信息\">\r\n                  <div style={{ padding: '0 16px' }}>\r\n                    <div style={{ display: 'flex', justifyContent: 'space-between', marginBottom: 8 }}>\r\n                      <Text>商品总价:</Text>\r\n                      <Text>¥{selectedOrder.totalAmount.toFixed(2)}</Text>\r\n                    </div>\r\n                    <div style={{ display: 'flex', justifyContent: 'space-between', marginBottom: 8 }}>\r\n                      <Text>运费:</Text>\r\n                      <Text>¥0.00</Text>\r\n                    </div>\r\n                    <Divider style={{ margin: '12px 0' }} />\r\n                    <div style={{ display: 'flex', justifyContent: 'space-between', marginBottom: 8 }}>\r\n                      <Text strong>实付款:</Text>\r\n                      <Text strong style={{ color: '#ff4d4f', fontSize: 16 }}>\r\n                        ¥{selectedOrder.totalAmount.toFixed(2)}\r\n                      </Text>\r\n                    </div>\r\n                  </div>\r\n                </Card>\r\n                \r\n                {/* 订单操作 */}\r\n                {renderOrderActions(selectedOrder) && (\r\n                  <Card title=\"订单操作\" style={{ marginTop: 16 }}>\r\n                    <div style={{ textAlign: 'center', padding: '16px 0' }}>\r\n                      {renderOrderActions(selectedOrder)}\r\n                    </div>\r\n                  </Card>\r\n                )}\r\n              </Col>\r\n            </Row>\r\n          </div>\r\n        )}\r\n      </Modal>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default OrderHistoryPage; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}