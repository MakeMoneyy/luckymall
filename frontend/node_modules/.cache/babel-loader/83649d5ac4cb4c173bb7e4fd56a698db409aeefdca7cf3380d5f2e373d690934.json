{"ast":null,"code":"import api from'./api';/**\r\n * 购物车服务类\r\n */export class CartService{/**\r\n   * 获取用户购物车商品列表\r\n   */static async getCartItems(userId){const response=await api.get(`/api/cart/${userId}`);return response.data.data;}/**\r\n   * 添加商品到购物车\r\n   */static async addToCart(userId,productId,quantity){const response=await api.post(`/api/cart/${userId}/add`,{productId,quantity});return response.data.message;}/**\r\n   * 更新购物车商品数量\r\n   */static async updateCartItemQuantity(userId,cartItemId,quantity){const response=await api.put(`/api/cart/${userId}/update`,{cartItemId,quantity});return response.data.message;}/**\r\n   * 从购物车删除商品\r\n   */static async removeFromCart(userId,cartItemId){const response=await api.delete(`/api/cart/${userId}/item/${cartItemId}`);return response.data.message;}/**\r\n   * 根据商品ID从购物车删除商品\r\n   */static async removeFromCartByProductId(userId,productId){const response=await api.delete(`/api/cart/${userId}/product/${productId}`);return response.data.message;}/**\r\n   * 清空用户购物车\r\n   */static async clearCart(userId){const response=await api.delete(`/api/cart/${userId}/clear`);return response.data.message;}/**\r\n   * 获取用户购物车商品数量\r\n   */static async getCartItemCount(userId){const response=await api.get(`/api/cart/${userId}/count`);return response.data.data;}}","map":{"version":3,"names":["api","CartService","getCartItems","userId","response","get","data","addToCart","productId","quantity","post","message","updateCartItemQuantity","cartItemId","put","removeFromCart","delete","removeFromCartByProductId","clearCart","getCartItemCount"],"sources":["D:/luckymall/frontend/src/services/cartService.ts"],"sourcesContent":["import api from './api';\r\nimport { ApiResponse, CartItem, Product } from '../types';\r\n\r\n/**\r\n * 购物车服务类\r\n */\r\nexport class CartService {\r\n  /**\r\n   * 获取用户购物车商品列表\r\n   */\r\n  static async getCartItems(userId: number): Promise<CartItem[]> {\r\n    const response = await api.get<ApiResponse<CartItem[]>>(`/api/cart/${userId}`);\r\n    return response.data.data;\r\n  }\r\n\r\n  /**\r\n   * 添加商品到购物车\r\n   */\r\n  static async addToCart(userId: number, productId: number, quantity: number): Promise<string> {\r\n    const response = await api.post<ApiResponse<string>>(`/api/cart/${userId}/add`, {\r\n      productId,\r\n      quantity\r\n    });\r\n    return response.data.message;\r\n  }\r\n\r\n  /**\r\n   * 更新购物车商品数量\r\n   */\r\n  static async updateCartItemQuantity(userId: number, cartItemId: number, quantity: number): Promise<string> {\r\n    const response = await api.put<ApiResponse<string>>(`/api/cart/${userId}/update`, {\r\n      cartItemId,\r\n      quantity\r\n    });\r\n    return response.data.message;\r\n  }\r\n\r\n  /**\r\n   * 从购物车删除商品\r\n   */\r\n  static async removeFromCart(userId: number, cartItemId: number): Promise<string> {\r\n    const response = await api.delete<ApiResponse<string>>(`/api/cart/${userId}/item/${cartItemId}`);\r\n    return response.data.message;\r\n  }\r\n\r\n  /**\r\n   * 根据商品ID从购物车删除商品\r\n   */\r\n  static async removeFromCartByProductId(userId: number, productId: number): Promise<string> {\r\n    const response = await api.delete<ApiResponse<string>>(`/api/cart/${userId}/product/${productId}`);\r\n    return response.data.message;\r\n  }\r\n\r\n  /**\r\n   * 清空用户购物车\r\n   */\r\n  static async clearCart(userId: number): Promise<string> {\r\n    const response = await api.delete<ApiResponse<string>>(`/api/cart/${userId}/clear`);\r\n    return response.data.message;\r\n  }\r\n\r\n  /**\r\n   * 获取用户购物车商品数量\r\n   */\r\n  static async getCartItemCount(userId: number): Promise<number> {\r\n    const response = await api.get<ApiResponse<number>>(`/api/cart/${userId}/count`);\r\n    return response.data.data;\r\n  }\r\n} "],"mappings":"AAAA,MAAO,CAAAA,GAAG,KAAM,OAAO,CAGvB;AACA;AACA,GACA,MAAO,MAAM,CAAAC,WAAY,CACvB;AACF;AACA,KACE,YAAa,CAAAC,YAAYA,CAACC,MAAc,CAAuB,CAC7D,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAJ,GAAG,CAACK,GAAG,CAA0B,aAAaF,MAAM,EAAE,CAAC,CAC9E,MAAO,CAAAC,QAAQ,CAACE,IAAI,CAACA,IAAI,CAC3B,CAEA;AACF;AACA,KACE,YAAa,CAAAC,SAASA,CAACJ,MAAc,CAAEK,SAAiB,CAAEC,QAAgB,CAAmB,CAC3F,KAAM,CAAAL,QAAQ,CAAG,KAAM,CAAAJ,GAAG,CAACU,IAAI,CAAsB,aAAaP,MAAM,MAAM,CAAE,CAC9EK,SAAS,CACTC,QACF,CAAC,CAAC,CACF,MAAO,CAAAL,QAAQ,CAACE,IAAI,CAACK,OAAO,CAC9B,CAEA;AACF;AACA,KACE,YAAa,CAAAC,sBAAsBA,CAACT,MAAc,CAAEU,UAAkB,CAAEJ,QAAgB,CAAmB,CACzG,KAAM,CAAAL,QAAQ,CAAG,KAAM,CAAAJ,GAAG,CAACc,GAAG,CAAsB,aAAaX,MAAM,SAAS,CAAE,CAChFU,UAAU,CACVJ,QACF,CAAC,CAAC,CACF,MAAO,CAAAL,QAAQ,CAACE,IAAI,CAACK,OAAO,CAC9B,CAEA;AACF;AACA,KACE,YAAa,CAAAI,cAAcA,CAACZ,MAAc,CAAEU,UAAkB,CAAmB,CAC/E,KAAM,CAAAT,QAAQ,CAAG,KAAM,CAAAJ,GAAG,CAACgB,MAAM,CAAsB,aAAab,MAAM,SAASU,UAAU,EAAE,CAAC,CAChG,MAAO,CAAAT,QAAQ,CAACE,IAAI,CAACK,OAAO,CAC9B,CAEA;AACF;AACA,KACE,YAAa,CAAAM,yBAAyBA,CAACd,MAAc,CAAEK,SAAiB,CAAmB,CACzF,KAAM,CAAAJ,QAAQ,CAAG,KAAM,CAAAJ,GAAG,CAACgB,MAAM,CAAsB,aAAab,MAAM,YAAYK,SAAS,EAAE,CAAC,CAClG,MAAO,CAAAJ,QAAQ,CAACE,IAAI,CAACK,OAAO,CAC9B,CAEA;AACF;AACA,KACE,YAAa,CAAAO,SAASA,CAACf,MAAc,CAAmB,CACtD,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAJ,GAAG,CAACgB,MAAM,CAAsB,aAAab,MAAM,QAAQ,CAAC,CACnF,MAAO,CAAAC,QAAQ,CAACE,IAAI,CAACK,OAAO,CAC9B,CAEA;AACF;AACA,KACE,YAAa,CAAAQ,gBAAgBA,CAAChB,MAAc,CAAmB,CAC7D,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAJ,GAAG,CAACK,GAAG,CAAsB,aAAaF,MAAM,QAAQ,CAAC,CAChF,MAAO,CAAAC,QAAQ,CAACE,IAAI,CAACA,IAAI,CAC3B,CACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}