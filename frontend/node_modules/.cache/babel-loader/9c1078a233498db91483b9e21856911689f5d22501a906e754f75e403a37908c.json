{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Card,Typography,Button,Space,Row,Col,Radio,Input,message,Table,Image,Form,Modal,Select}from'antd';import{EditOutlined,PlusOutlined,CreditCardOutlined,BankOutlined,WalletOutlined,DeleteOutlined}from'@ant-design/icons';import{useLocation,useNavigate}from'react-router-dom';import{useDispatch}from'react-redux';import{clearCart}from'../store/slices/cartSlice';import{OrderService}from'../services/orderService';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const{Title,Text}=Typography;const{TextArea}=Input;const{Option}=Select;// 模拟用户地址数据\nconst mockAddresses=[{id:1,userId:1,receiverName:'张三',phone:'13800138000',province:'广东省',city:'深圳市',district:'南山区',detailAddress:'科技园南路XX号XX大厦XX室',postalCode:'518000',isDefault:true},{id:2,userId:1,receiverName:'李四',phone:'13900139000',province:'广东省',city:'广州市',district:'天河区',detailAddress:'天河路XX号XX公寓XX室',postalCode:'510000',isDefault:false}];// 模拟用户信用卡数据\nconst mockCreditCards=[{id:1,userId:1,cardNumber:'6225 **** **** 8888',cardType:'VISA',expiryDate:'12/25',isDefault:true},{id:2,userId:1,cardNumber:'6222 **** **** 9999',cardType:'MasterCard',expiryDate:'09/24',isDefault:false}];// 模拟分期方案数据\nconst mockInstallmentPlans=[{id:1,planName:'3期免息',installmentCount:3,interestRate:0,minAmount:500,maxAmount:50000,status:1},{id:2,planName:'6期免息',installmentCount:6,interestRate:0,minAmount:1000,maxAmount:30000,status:1},{id:3,planName:'12期免息',installmentCount:12,interestRate:0,minAmount:2000,maxAmount:20000,status:1}];// 模拟用户ID\nconst MOCK_USER_ID=1;const OrderPage=()=>{const location=useLocation();const navigate=useNavigate();const dispatch=useDispatch();// 从路由状态中获取数据\nconst state=location.state;// 如果没有传递状态，重定向到首页\nuseEffect(()=>{if(!state||!state.selectedItems||state.selectedItems.length===0){navigate('/');message.error('订单信息不完整');}},[state,navigate]);// 订单状态\nconst[selectedAddress,setSelectedAddress]=useState(mockAddresses.find(a=>a.isDefault)||null);const[paymentMethod,setPaymentMethod]=useState('credit_card');const[selectedCard,setSelectedCard]=useState(mockCreditCards.find(c=>c.isDefault)||null);const[installmentPlan,setInstallmentPlan]=useState(null);const[remark,setRemark]=useState('');const[loading,setLoading]=useState(false);// 模态框状态\nconst[addressModalVisible,setAddressModalVisible]=useState(false);const[cardModalVisible,setCardModalVisible]=useState(false);// Form实例\nconst[form]=Form.useForm();// 可用的分期方案\nconst[availableInstallmentPlans,setAvailableInstallmentPlans]=useState([]);// 加载用户地址\nuseEffect(()=>{const fetchAddresses=async()=>{try{// 这里可以从后端加载用户地址\n// const addresses = await UserService.getUserAddresses(MOCK_USER_ID);\n// setAddresses(addresses);\n// setSelectedAddress(addresses.find(a => a.isDefault) || addresses[0] || null);\n}catch(error){console.error('获取地址数据失败:',error);}};fetchAddresses();},[]);// 加载用户信用卡\nuseEffect(()=>{const fetchCreditCards=async()=>{try{// 这里可以从后端加载用户信用卡\n// const cards = await PaymentService.getUserCreditCards(MOCK_USER_ID);\n// setCreditCards(cards);\n// setSelectedCard(cards.find(c => c.isDefault) || cards[0] || null);\n}catch(error){console.error('获取信用卡数据失败:',error);}};if(paymentMethod==='credit_card'){fetchCreditCards();}},[paymentMethod]);// 加载分期方案\nuseEffect(()=>{const fetchInstallmentPlans=async()=>{try{if(state!==null&&state!==void 0&&state.actualAmount){// 这里可以从后端加载分期方案\n// const plans = await PaymentService.getAvailableInstallmentPlans(state.actualAmount);\n// setInstallmentPlans(plans);\n}}catch(error){console.error('获取分期方案数据失败:',error);}};if(paymentMethod==='credit_card'){fetchInstallmentPlans();}},[paymentMethod,state===null||state===void 0?void 0:state.actualAmount]);// 处理地址选择\nconst handleAddressSelect=address=>{setSelectedAddress(address);};// 处理支付方式选择\nconst handlePaymentMethodChange=e=>{setPaymentMethod(e.target.value);if(e.target.value!=='credit_card'){setInstallmentPlan(null);}};// 处理信用卡选择\nconst handleCardSelect=card=>{setSelectedCard(card);};// 处理分期方案选择\nconst handleInstallmentChange=planId=>{if(planId===null){setInstallmentPlan(null);}else{const plan=mockInstallmentPlans.find(p=>p.id===planId)||null;setInstallmentPlan(plan);}};// 处理提交订单\nconst handleSubmitOrder=async()=>{if(!state)return;if(!selectedAddress){message.error('请选择收货地址');return;}if(paymentMethod==='credit_card'&&!selectedCard){message.error('请选择信用卡');return;}try{var _state$coupon;setLoading(true);// 构建订单请求\nconst orderRequest={cartItemIds:state.cartItemIds,addressId:selectedAddress.id,paymentMethod,creditCardId:selectedCard===null||selectedCard===void 0?void 0:selectedCard.id,installmentPlanId:installmentPlan===null||installmentPlan===void 0?void 0:installmentPlan.id,couponId:(_state$coupon=state.coupon)===null||_state$coupon===void 0?void 0:_state$coupon.id,pointsUsed:state.pointsUsed,expectedAmount:state.actualAmount,remark};// 调用后端API创建订单\nconst response=await OrderService.createOrder(MOCK_USER_ID,orderRequest);// 清空购物车\ndispatch(clearCart());// 跳转到支付页面\nnavigate('/payment',{state:{orderId:response.orderNo,amount:response.actualAmount}});message.success('订单提交成功！');}catch(error){console.error('提交订单失败:',error);message.error('提交订单失败，请稍后重试');}finally{setLoading(false);}};// 渲染地址列表\nconst renderAddressList=()=>{return/*#__PURE__*/_jsxs(\"div\",{children:[mockAddresses.map(address=>/*#__PURE__*/_jsx(Card,{size:\"small\",style:{marginBottom:10,cursor:'pointer',border:(selectedAddress===null||selectedAddress===void 0?void 0:selectedAddress.id)===address.id?'2px solid #1890ff':'1px solid #d9d9d9'},onClick:()=>handleAddressSelect(address),children:/*#__PURE__*/_jsxs(Row,{justify:\"space-between\",align:\"middle\",children:[/*#__PURE__*/_jsxs(Col,{children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Text,{strong:true,children:address.receiverName}),/*#__PURE__*/_jsx(Text,{style:{marginLeft:8},children:address.phone}),address.isDefault&&/*#__PURE__*/_jsx(Text,{type:\"secondary\",style:{marginLeft:8},children:\"\\u9ED8\\u8BA4\"})]}),/*#__PURE__*/_jsx(\"div\",{style:{marginTop:4},children:/*#__PURE__*/_jsxs(Text,{type:\"secondary\",children:[address.province,\" \",address.city,\" \",address.district,\" \",address.detailAddress]})})]}),/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsxs(Space,{children:[/*#__PURE__*/_jsx(Button,{type:\"text\",icon:/*#__PURE__*/_jsx(EditOutlined,{}),onClick:e=>{e.stopPropagation();// 这里应该打开编辑地址的模态框\nmessage.info('编辑地址功能待实现');}}),/*#__PURE__*/_jsx(Button,{type:\"text\",danger:true,icon:/*#__PURE__*/_jsx(DeleteOutlined,{}),onClick:e=>{e.stopPropagation();// 这里应该删除地址\nmessage.info('删除地址功能待实现');}})]})})]})},address.id)),/*#__PURE__*/_jsx(Button,{type:\"dashed\",block:true,icon:/*#__PURE__*/_jsx(PlusOutlined,{}),onClick:()=>setAddressModalVisible(true),children:\"\\u6DFB\\u52A0\\u65B0\\u5730\\u5740\"})]});};// 渲染信用卡列表\nconst renderCreditCardList=()=>{if(paymentMethod!=='credit_card'){return null;}return/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:16},children:[/*#__PURE__*/_jsx(Title,{level:5,children:\"\\u9009\\u62E9\\u4FE1\\u7528\\u5361\"}),mockCreditCards.map(card=>/*#__PURE__*/_jsx(Card,{size:\"small\",style:{marginBottom:10,cursor:'pointer',border:(selectedCard===null||selectedCard===void 0?void 0:selectedCard.id)===card.id?'2px solid #1890ff':'1px solid #d9d9d9'},onClick:()=>handleCardSelect(card),children:/*#__PURE__*/_jsxs(Row,{justify:\"space-between\",align:\"middle\",children:[/*#__PURE__*/_jsxs(Col,{children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(CreditCardOutlined,{style:{marginRight:8}}),/*#__PURE__*/_jsx(Text,{strong:true,children:card.cardNumber})]}),/*#__PURE__*/_jsx(\"div\",{style:{marginTop:4},children:/*#__PURE__*/_jsxs(Text,{type:\"secondary\",children:[card.cardholderName,\" | \\u6709\\u6548\\u671F: \",card.expiryDate]})})]}),/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsx(Space,{children:/*#__PURE__*/_jsx(Button,{type:\"text\",icon:/*#__PURE__*/_jsx(EditOutlined,{}),onClick:e=>{e.stopPropagation();// 这里应该打开编辑信用卡的模态框\nmessage.info('编辑信用卡功能待实现');}})})})]})},card.id)),/*#__PURE__*/_jsx(Button,{type:\"dashed\",block:true,icon:/*#__PURE__*/_jsx(PlusOutlined,{}),onClick:()=>setCardModalVisible(true),children:\"\\u6DFB\\u52A0\\u65B0\\u4FE1\\u7528\\u5361\"}),selectedCard&&mockInstallmentPlans.length>0&&/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:16},children:[/*#__PURE__*/_jsx(Title,{level:5,children:\"\\u5206\\u671F\\u4ED8\\u6B3E\"}),/*#__PURE__*/_jsx(Select,{style:{width:'100%'},placeholder:\"\\u8BF7\\u9009\\u62E9\\u5206\\u671F\\u65B9\\u6848\",value:(installmentPlan===null||installmentPlan===void 0?void 0:installmentPlan.id)||null,onChange:handleInstallmentChange,allowClear:true,children:mockInstallmentPlans.map(plan=>/*#__PURE__*/_jsxs(Option,{value:plan.id,children:[plan.planName,\" (\",plan.installmentCount,\"\\u671F)\"]},plan.id))}),installmentPlan&&/*#__PURE__*/_jsx(\"div\",{style:{marginTop:8},children:/*#__PURE__*/_jsxs(Text,{type:\"secondary\",children:[\"\\u6BCF\\u671F \\xA5\",(state.actualAmount/(installmentPlan.installmentCount||1)).toFixed(2),\"\\uFF0C\",installmentPlan.interestRate>0?`年化利率 ${installmentPlan.interestRate*100}%`:'免息']})})]})]});};// 渲染商品列表\nconst renderProductList=()=>{if(!state||!state.selectedItems){return null;}const columns=[{title:'商品信息',dataIndex:'product',key:'product',render:product=>/*#__PURE__*/_jsxs(Space,{children:[/*#__PURE__*/_jsx(Image,{width:50,height:50,src:product.imageUrl||'https://via.placeholder.com/50x50?text=暂无图片',alt:product.name,style:{objectFit:'cover'}}),/*#__PURE__*/_jsx(Text,{children:product.name})]})},{title:'单价',dataIndex:'product',key:'price',width:100,render:product=>/*#__PURE__*/_jsxs(Text,{children:[\"\\xA5\",product.price]})},{title:'数量',dataIndex:'quantity',key:'quantity',width:80,render:quantity=>/*#__PURE__*/_jsx(Text,{children:quantity})},{title:'小计',key:'subtotal',width:100,render:record=>/*#__PURE__*/_jsxs(Text,{children:[\"\\xA5\",(record.product.price*record.quantity).toFixed(2)]})}];return/*#__PURE__*/_jsx(Table,{columns:columns,dataSource:state.selectedItems,rowKey:record=>record.product.id,pagination:false,size:\"small\"});};if(!state||!state.selectedItems){return null;}return/*#__PURE__*/_jsxs(\"div\",{style:{padding:'20px'},children:[/*#__PURE__*/_jsx(Title,{level:2,children:\"\\u786E\\u8BA4\\u8BA2\\u5355\"}),/*#__PURE__*/_jsx(Card,{title:\"\\u6536\\u8D27\\u5730\\u5740\",style:{marginBottom:20},children:renderAddressList()}),/*#__PURE__*/_jsx(Card,{title:\"\\u5546\\u54C1\\u4FE1\\u606F\",style:{marginBottom:20},children:renderProductList()}),/*#__PURE__*/_jsxs(Card,{title:\"\\u652F\\u4ED8\\u65B9\\u5F0F\",style:{marginBottom:20},children:[/*#__PURE__*/_jsx(Radio.Group,{value:paymentMethod,onChange:handlePaymentMethodChange,children:/*#__PURE__*/_jsxs(Space,{direction:\"vertical\",style:{width:'100%'},children:[/*#__PURE__*/_jsx(Radio,{value:\"credit_card\",children:/*#__PURE__*/_jsxs(Space,{children:[/*#__PURE__*/_jsx(CreditCardOutlined,{}),\"\\u4FE1\\u7528\\u5361\\u652F\\u4ED8\"]})}),/*#__PURE__*/_jsx(Radio,{value:\"bank_transfer\",children:/*#__PURE__*/_jsxs(Space,{children:[/*#__PURE__*/_jsx(BankOutlined,{}),\"\\u94F6\\u884C\\u8F6C\\u8D26\"]})}),/*#__PURE__*/_jsx(Radio,{value:\"wallet\",children:/*#__PURE__*/_jsxs(Space,{children:[/*#__PURE__*/_jsx(WalletOutlined,{}),\"\\u94B1\\u5305\\u652F\\u4ED8\"]})})]})}),renderCreditCardList()]}),/*#__PURE__*/_jsx(Card,{title:\"\\u8BA2\\u5355\\u5907\\u6CE8\",style:{marginBottom:20},children:/*#__PURE__*/_jsx(TextArea,{rows:3,placeholder:\"\\u8BF7\\u8F93\\u5165\\u8BA2\\u5355\\u5907\\u6CE8\\u4FE1\\u606F\",value:remark,onChange:e=>setRemark(e.target.value),maxLength:200})}),/*#__PURE__*/_jsx(Card,{style:{marginBottom:20},children:/*#__PURE__*/_jsx(Row,{justify:\"end\",children:/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsxs(Space,{direction:\"vertical\",align:\"end\",style:{width:'100%'},children:[/*#__PURE__*/_jsxs(Text,{children:[\"\\u5546\\u54C1\\u603B\\u4EF7: \\xA5\",state.selectedItems.reduce((total,item)=>total+item.product.price*item.quantity,0).toFixed(2)]}),state.discountAmount>0&&/*#__PURE__*/_jsxs(Text,{children:[\"\\u4F18\\u60E0\\u91D1\\u989D: -\\xA5\",state.discountAmount.toFixed(2)]}),state.pointsUsed>0&&/*#__PURE__*/_jsxs(Text,{children:[\"\\u79EF\\u5206\\u62B5\\u6263: \",state.pointsUsed,\" \\u79EF\\u5206\"]}),/*#__PURE__*/_jsxs(Text,{strong:true,style:{fontSize:16},children:[\"\\u5E94\\u4ED8\\u91D1\\u989D: \",/*#__PURE__*/_jsxs(\"span\",{style:{color:'#ff4d4f'},children:[\"\\xA5\",state.actualAmount.toFixed(2)]})]})]})})})}),/*#__PURE__*/_jsx(Row,{justify:\"end\",children:/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsx(Button,{type:\"primary\",size:\"large\",onClick:handleSubmitOrder,children:\"\\u63D0\\u4EA4\\u8BA2\\u5355\"})})}),/*#__PURE__*/_jsx(Modal,{title:\"\\u6DFB\\u52A0\\u6536\\u8D27\\u5730\\u5740\",open:addressModalVisible,onCancel:()=>setAddressModalVisible(false),onOk:()=>{form.validateFields().then(values=>{console.log('新增地址:',values);message.success('地址添加成功');setAddressModalVisible(false);form.resetFields();}).catch(info=>{console.log('验证失败:',info);});},children:/*#__PURE__*/_jsxs(Form,{form:form,layout:\"vertical\",children:[/*#__PURE__*/_jsx(Form.Item,{name:\"receiverName\",label:\"\\u6536\\u8D27\\u4EBA\",rules:[{required:true,message:'请输入收货人姓名'}],children:/*#__PURE__*/_jsx(Input,{placeholder:\"\\u8BF7\\u8F93\\u5165\\u6536\\u8D27\\u4EBA\\u59D3\\u540D\"})}),/*#__PURE__*/_jsx(Form.Item,{name:\"phone\",label:\"\\u624B\\u673A\\u53F7\\u7801\",rules:[{required:true,message:'请输入手机号码'}],children:/*#__PURE__*/_jsx(Input,{placeholder:\"\\u8BF7\\u8F93\\u5165\\u624B\\u673A\\u53F7\\u7801\"})}),/*#__PURE__*/_jsx(Form.Item,{name:\"province\",label:\"\\u7701\\u4EFD\",rules:[{required:true,message:'请选择省份'}],children:/*#__PURE__*/_jsxs(Select,{placeholder:\"\\u8BF7\\u9009\\u62E9\\u7701\\u4EFD\",children:[/*#__PURE__*/_jsx(Option,{value:\"\\u5E7F\\u4E1C\\u7701\",children:\"\\u5E7F\\u4E1C\\u7701\"}),/*#__PURE__*/_jsx(Option,{value:\"\\u5317\\u4EAC\\u5E02\",children:\"\\u5317\\u4EAC\\u5E02\"}),/*#__PURE__*/_jsx(Option,{value:\"\\u4E0A\\u6D77\\u5E02\",children:\"\\u4E0A\\u6D77\\u5E02\"})]})}),/*#__PURE__*/_jsx(Form.Item,{name:\"city\",label:\"\\u57CE\\u5E02\",rules:[{required:true,message:'请选择城市'}],children:/*#__PURE__*/_jsxs(Select,{placeholder:\"\\u8BF7\\u9009\\u62E9\\u57CE\\u5E02\",children:[/*#__PURE__*/_jsx(Option,{value:\"\\u6DF1\\u5733\\u5E02\",children:\"\\u6DF1\\u5733\\u5E02\"}),/*#__PURE__*/_jsx(Option,{value:\"\\u5E7F\\u5DDE\\u5E02\",children:\"\\u5E7F\\u5DDE\\u5E02\"}),/*#__PURE__*/_jsx(Option,{value:\"\\u4E1C\\u839E\\u5E02\",children:\"\\u4E1C\\u839E\\u5E02\"})]})}),/*#__PURE__*/_jsx(Form.Item,{name:\"district\",label:\"\\u533A/\\u53BF\",rules:[{required:true,message:'请选择区/县'}],children:/*#__PURE__*/_jsxs(Select,{placeholder:\"\\u8BF7\\u9009\\u62E9\\u533A/\\u53BF\",children:[/*#__PURE__*/_jsx(Option,{value:\"\\u5357\\u5C71\\u533A\",children:\"\\u5357\\u5C71\\u533A\"}),/*#__PURE__*/_jsx(Option,{value:\"\\u798F\\u7530\\u533A\",children:\"\\u798F\\u7530\\u533A\"}),/*#__PURE__*/_jsx(Option,{value:\"\\u7F57\\u6E56\\u533A\",children:\"\\u7F57\\u6E56\\u533A\"})]})}),/*#__PURE__*/_jsx(Form.Item,{name:\"detailAddress\",label:\"\\u8BE6\\u7EC6\\u5730\\u5740\",rules:[{required:true,message:'请输入详细地址'}],children:/*#__PURE__*/_jsx(TextArea,{rows:2,placeholder:\"\\u8BF7\\u8F93\\u5165\\u8BE6\\u7EC6\\u5730\\u5740\"})}),/*#__PURE__*/_jsx(Form.Item,{name:\"isDefault\",valuePropName:\"checked\",children:/*#__PURE__*/_jsx(Radio,{children:\"\\u8BBE\\u4E3A\\u9ED8\\u8BA4\\u5730\\u5740\"})})]})}),/*#__PURE__*/_jsx(Modal,{title:\"\\u6DFB\\u52A0\\u4FE1\\u7528\\u5361\",open:cardModalVisible,onCancel:()=>setCardModalVisible(false),onOk:()=>{form.validateFields().then(values=>{console.log('新增信用卡:',values);message.success('信用卡添加成功');setCardModalVisible(false);form.resetFields();}).catch(info=>{console.log('验证失败:',info);});},children:/*#__PURE__*/_jsxs(Form,{form:form,layout:\"vertical\",children:[/*#__PURE__*/_jsx(Form.Item,{name:\"cardNumber\",label:\"\\u5361\\u53F7\",rules:[{required:true,message:'请输入信用卡卡号'}],children:/*#__PURE__*/_jsx(Input,{placeholder:\"\\u8BF7\\u8F93\\u5165\\u4FE1\\u7528\\u5361\\u5361\\u53F7\"})}),/*#__PURE__*/_jsx(Form.Item,{name:\"cardholderName\",label:\"\\u6301\\u5361\\u4EBA\\u59D3\\u540D\",rules:[{required:true,message:'请输入持卡人姓名'}],children:/*#__PURE__*/_jsx(Input,{placeholder:\"\\u8BF7\\u8F93\\u5165\\u6301\\u5361\\u4EBA\\u59D3\\u540D\"})}),/*#__PURE__*/_jsxs(Row,{gutter:16,children:[/*#__PURE__*/_jsx(Col,{span:12,children:/*#__PURE__*/_jsx(Form.Item,{name:\"expiryMonth\",label:\"\\u6709\\u6548\\u671F(\\u6708)\",rules:[{required:true,message:'请选择月份'}],children:/*#__PURE__*/_jsx(Select,{placeholder:\"\\u6708\",children:Array.from({length:12},(_,i)=>/*#__PURE__*/_jsx(Option,{value:i+1,children:String(i+1).padStart(2,'0')},i+1))})})}),/*#__PURE__*/_jsx(Col,{span:12,children:/*#__PURE__*/_jsx(Form.Item,{name:\"expiryYear\",label:\"\\u6709\\u6548\\u671F(\\u5E74)\",rules:[{required:true,message:'请选择年份'}],children:/*#__PURE__*/_jsx(Select,{placeholder:\"\\u5E74\",children:Array.from({length:10},(_,i)=>{const year=new Date().getFullYear()+i;return/*#__PURE__*/_jsx(Option,{value:year,children:year},year);})})})})]}),/*#__PURE__*/_jsx(Form.Item,{name:\"cvv\",label:\"\\u5B89\\u5168\\u7801\",rules:[{required:true,message:'请输入安全码'}],children:/*#__PURE__*/_jsx(Input,{placeholder:\"\\u8BF7\\u8F93\\u5165\\u5361\\u80CC\\u9762\\u76843\\u4F4D\\u5B89\\u5168\\u7801\",maxLength:3})}),/*#__PURE__*/_jsx(Form.Item,{name:\"isDefault\",valuePropName:\"checked\",children:/*#__PURE__*/_jsx(Radio,{children:\"\\u8BBE\\u4E3A\\u9ED8\\u8BA4\\u5361\"})})]})})]});};export default OrderPage;","map":{"version":3,"names":["React","useState","useEffect","Card","Typography","Button","Space","Row","Col","Radio","Input","message","Table","Image","Form","Modal","Select","EditOutlined","PlusOutlined","CreditCardOutlined","BankOutlined","WalletOutlined","DeleteOutlined","useLocation","useNavigate","useDispatch","clearCart","OrderService","jsx","_jsx","jsxs","_jsxs","Title","Text","TextArea","Option","mockAddresses","id","userId","receiverName","phone","province","city","district","detailAddress","postalCode","isDefault","mockCreditCards","cardNumber","cardType","expiryDate","mockInstallmentPlans","planName","installmentCount","interestRate","minAmount","maxAmount","status","MOCK_USER_ID","OrderPage","location","navigate","dispatch","state","selectedItems","length","error","selectedAddress","setSelectedAddress","find","a","paymentMethod","setPaymentMethod","selectedCard","setSelectedCard","c","installmentPlan","setInstallmentPlan","remark","setRemark","loading","setLoading","addressModalVisible","setAddressModalVisible","cardModalVisible","setCardModalVisible","form","useForm","availableInstallmentPlans","setAvailableInstallmentPlans","fetchAddresses","console","fetchCreditCards","fetchInstallmentPlans","actualAmount","handleAddressSelect","address","handlePaymentMethodChange","e","target","value","handleCardSelect","card","handleInstallmentChange","planId","plan","p","handleSubmitOrder","_state$coupon","orderRequest","cartItemIds","addressId","creditCardId","installmentPlanId","couponId","coupon","pointsUsed","expectedAmount","response","createOrder","orderId","orderNo","amount","success","renderAddressList","children","map","size","style","marginBottom","cursor","border","onClick","justify","align","strong","marginLeft","type","marginTop","icon","stopPropagation","info","danger","block","renderCreditCardList","level","marginRight","cardholderName","width","placeholder","onChange","allowClear","toFixed","renderProductList","columns","title","dataIndex","key","render","product","height","src","imageUrl","alt","name","objectFit","price","quantity","record","dataSource","rowKey","pagination","padding","Group","direction","rows","maxLength","reduce","total","item","discountAmount","fontSize","color","open","onCancel","onOk","validateFields","then","values","log","resetFields","catch","layout","Item","label","rules","required","valuePropName","gutter","span","Array","from","_","i","String","padStart","year","Date","getFullYear"],"sources":["D:/luckymall/frontend/src/pages/OrderPage.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { \n  Card, \n  Typography, \n  Button, \n  Space, \n  Row, \n  Col, \n  Divider, \n  Radio, \n  Input, \n  message,\n  Table,\n  Image,\n  Form,\n  Modal,\n  Select\n} from 'antd';\nimport { \n  EditOutlined, \n  PlusOutlined, \n  CreditCardOutlined, \n  BankOutlined, \n  WalletOutlined,\n  DeleteOutlined\n} from '@ant-design/icons';\nimport { useLocation, useNavigate } from 'react-router-dom';\nimport { useDispatch } from 'react-redux';\nimport { clearCart } from '../store/slices/cartSlice';\nimport { CartItem, Coupon, UserAddress, UserCreditCard, InstallmentPlan } from '../types';\nimport { OrderService, CreateOrderRequest } from '../services/orderService';\nimport { PaymentService } from '../services/paymentService';\n\nconst { Title, Text } = Typography;\nconst { TextArea } = Input;\nconst { Option } = Select;\n\n// 模拟用户地址数据\nconst mockAddresses: UserAddress[] = [\n  {\n    id: 1,\n    userId: 1,\n    receiverName: '张三',\n    phone: '13800138000',\n    province: '广东省',\n    city: '深圳市',\n    district: '南山区',\n    detailAddress: '科技园南路XX号XX大厦XX室',\n    postalCode: '518000',\n    isDefault: true\n  },\n  {\n    id: 2,\n    userId: 1,\n    receiverName: '李四',\n    phone: '13900139000',\n    province: '广东省',\n    city: '广州市',\n    district: '天河区',\n    detailAddress: '天河路XX号XX公寓XX室',\n    postalCode: '510000',\n    isDefault: false\n  }\n];\n\n// 模拟用户信用卡数据\nconst mockCreditCards: UserCreditCard[] = [\n  {\n    id: 1,\n    userId: 1,\n    cardNumber: '6225 **** **** 8888',\n    cardType: 'VISA',\n    expiryDate: '12/25',\n    isDefault: true\n  },\n  {\n    id: 2,\n    userId: 1,\n    cardNumber: '6222 **** **** 9999',\n    cardType: 'MasterCard',\n    expiryDate: '09/24',\n    isDefault: false\n  }\n];\n\n// 模拟分期方案数据\nconst mockInstallmentPlans: InstallmentPlan[] = [\n  {\n    id: 1,\n    planName: '3期免息',\n    installmentCount: 3,\n    interestRate: 0,\n    minAmount: 500,\n    maxAmount: 50000,\n    status: 1\n  },\n  {\n    id: 2,\n    planName: '6期免息',\n    installmentCount: 6,\n    interestRate: 0,\n    minAmount: 1000,\n    maxAmount: 30000,\n    status: 1\n  },\n  {\n    id: 3,\n    planName: '12期免息',\n    installmentCount: 12,\n    interestRate: 0,\n    minAmount: 2000,\n    maxAmount: 20000,\n    status: 1\n  }\n];\n\n// 模拟用户ID\nconst MOCK_USER_ID = 1;\n\ninterface OrderPageState {\n  cartItemIds: number[];\n  selectedItems: CartItem[];\n  coupon: Coupon | null;\n  pointsUsed: number;\n  discountAmount: number;\n  actualAmount: number;\n}\n\nconst OrderPage: React.FC = () => {\n  const location = useLocation();\n  const navigate = useNavigate();\n  const dispatch = useDispatch();\n  \n  // 从路由状态中获取数据\n  const state = location.state as OrderPageState;\n  \n  // 如果没有传递状态，重定向到首页\n  useEffect(() => {\n    if (!state || !state.selectedItems || state.selectedItems.length === 0) {\n      navigate('/');\n      message.error('订单信息不完整');\n    }\n  }, [state, navigate]);\n  \n  // 订单状态\n  const [selectedAddress, setSelectedAddress] = useState<UserAddress | null>(mockAddresses.find(a => a.isDefault) || null);\n  const [paymentMethod, setPaymentMethod] = useState<string>('credit_card');\n  const [selectedCard, setSelectedCard] = useState<UserCreditCard | null>(mockCreditCards.find(c => c.isDefault) || null);\n  const [installmentPlan, setInstallmentPlan] = useState<InstallmentPlan | null>(null);\n  const [remark, setRemark] = useState<string>('');\n  const [loading, setLoading] = useState<boolean>(false);\n  \n  // 模态框状态\n  const [addressModalVisible, setAddressModalVisible] = useState<boolean>(false);\n  const [cardModalVisible, setCardModalVisible] = useState<boolean>(false);\n  \n  // Form实例\n  const [form] = Form.useForm();\n  \n  // 可用的分期方案\n  const [availableInstallmentPlans, setAvailableInstallmentPlans] = useState<InstallmentPlan[]>([]);\n  \n  // 加载用户地址\n  useEffect(() => {\n    const fetchAddresses = async () => {\n      try {\n        // 这里可以从后端加载用户地址\n        // const addresses = await UserService.getUserAddresses(MOCK_USER_ID);\n        // setAddresses(addresses);\n        // setSelectedAddress(addresses.find(a => a.isDefault) || addresses[0] || null);\n      } catch (error) {\n        console.error('获取地址数据失败:', error);\n      }\n    };\n    \n    fetchAddresses();\n  }, []);\n  \n  // 加载用户信用卡\n  useEffect(() => {\n    const fetchCreditCards = async () => {\n      try {\n        // 这里可以从后端加载用户信用卡\n        // const cards = await PaymentService.getUserCreditCards(MOCK_USER_ID);\n        // setCreditCards(cards);\n        // setSelectedCard(cards.find(c => c.isDefault) || cards[0] || null);\n      } catch (error) {\n        console.error('获取信用卡数据失败:', error);\n      }\n    };\n    \n    if (paymentMethod === 'credit_card') {\n      fetchCreditCards();\n    }\n  }, [paymentMethod]);\n  \n  // 加载分期方案\n  useEffect(() => {\n    const fetchInstallmentPlans = async () => {\n      try {\n        if (state?.actualAmount) {\n          // 这里可以从后端加载分期方案\n          // const plans = await PaymentService.getAvailableInstallmentPlans(state.actualAmount);\n          // setInstallmentPlans(plans);\n        }\n      } catch (error) {\n        console.error('获取分期方案数据失败:', error);\n      }\n    };\n    \n    if (paymentMethod === 'credit_card') {\n      fetchInstallmentPlans();\n    }\n  }, [paymentMethod, state?.actualAmount]);\n  \n  // 处理地址选择\n  const handleAddressSelect = (address: UserAddress) => {\n    setSelectedAddress(address);\n  };\n  \n  // 处理支付方式选择\n  const handlePaymentMethodChange = (e: any) => {\n    setPaymentMethod(e.target.value);\n    if (e.target.value !== 'credit_card') {\n      setInstallmentPlan(null);\n    }\n  };\n  \n  // 处理信用卡选择\n  const handleCardSelect = (card: UserCreditCard) => {\n    setSelectedCard(card);\n  };\n  \n  // 处理分期方案选择\n  const handleInstallmentChange = (planId: number | null) => {\n    if (planId === null) {\n      setInstallmentPlan(null);\n    } else {\n      const plan = mockInstallmentPlans.find(p => p.id === planId) || null;\n      setInstallmentPlan(plan);\n    }\n  };\n  \n  // 处理提交订单\n  const handleSubmitOrder = async () => {\n    if (!state) return;\n    \n    if (!selectedAddress) {\n      message.error('请选择收货地址');\n      return;\n    }\n    \n    if (paymentMethod === 'credit_card' && !selectedCard) {\n      message.error('请选择信用卡');\n      return;\n    }\n    \n    try {\n      setLoading(true);\n      \n      // 构建订单请求\n      const orderRequest: CreateOrderRequest = {\n        cartItemIds: state.cartItemIds,\n        addressId: selectedAddress.id,\n        paymentMethod,\n        creditCardId: selectedCard?.id,\n        installmentPlanId: installmentPlan?.id,\n        couponId: state.coupon?.id,\n        pointsUsed: state.pointsUsed,\n        expectedAmount: state.actualAmount,\n        remark\n      };\n      \n      // 调用后端API创建订单\n      const response = await OrderService.createOrder(MOCK_USER_ID, orderRequest);\n      \n      // 清空购物车\n      dispatch(clearCart());\n      \n      // 跳转到支付页面\n      navigate('/payment', { \n        state: { \n          orderId: response.orderNo,\n          amount: response.actualAmount\n        } \n      });\n      \n      message.success('订单提交成功！');\n    } catch (error) {\n      console.error('提交订单失败:', error);\n      message.error('提交订单失败，请稍后重试');\n    } finally {\n      setLoading(false);\n    }\n  };\n  \n  // 渲染地址列表\n  const renderAddressList = () => {\n    return (\n      <div>\n        {mockAddresses.map(address => (\n          <Card\n            key={address.id}\n            size=\"small\"\n            style={{ \n              marginBottom: 10, \n              cursor: 'pointer',\n              border: selectedAddress?.id === address.id ? '2px solid #1890ff' : '1px solid #d9d9d9'\n            }}\n            onClick={() => handleAddressSelect(address)}\n          >\n            <Row justify=\"space-between\" align=\"middle\">\n              <Col>\n                <div>\n                  <Text strong>{address.receiverName}</Text>\n                  <Text style={{ marginLeft: 8 }}>{address.phone}</Text>\n                  {address.isDefault && (\n                    <Text type=\"secondary\" style={{ marginLeft: 8 }}>默认</Text>\n                  )}\n                </div>\n                <div style={{ marginTop: 4 }}>\n                  <Text type=\"secondary\">\n                    {address.province} {address.city} {address.district} {address.detailAddress}\n                  </Text>\n                </div>\n              </Col>\n              <Col>\n                <Space>\n                  <Button \n                    type=\"text\" \n                    icon={<EditOutlined />} \n                    onClick={(e) => {\n                      e.stopPropagation();\n                      // 这里应该打开编辑地址的模态框\n                      message.info('编辑地址功能待实现');\n                    }}\n                  />\n                  <Button \n                    type=\"text\" \n                    danger \n                    icon={<DeleteOutlined />} \n                    onClick={(e) => {\n                      e.stopPropagation();\n                      // 这里应该删除地址\n                      message.info('删除地址功能待实现');\n                    }}\n                  />\n                </Space>\n              </Col>\n            </Row>\n          </Card>\n        ))}\n        <Button \n          type=\"dashed\" \n          block \n          icon={<PlusOutlined />}\n          onClick={() => setAddressModalVisible(true)}\n        >\n          添加新地址\n        </Button>\n      </div>\n    );\n  };\n  \n  // 渲染信用卡列表\n  const renderCreditCardList = () => {\n    if (paymentMethod !== 'credit_card') {\n      return null;\n    }\n    \n    return (\n      <div style={{ marginTop: 16 }}>\n        <Title level={5}>选择信用卡</Title>\n        {mockCreditCards.map(card => (\n          <Card\n            key={card.id}\n            size=\"small\"\n            style={{ \n              marginBottom: 10, \n              cursor: 'pointer',\n              border: selectedCard?.id === card.id ? '2px solid #1890ff' : '1px solid #d9d9d9'\n            }}\n            onClick={() => handleCardSelect(card)}\n          >\n            <Row justify=\"space-between\" align=\"middle\">\n              <Col>\n                <div>\n                  <CreditCardOutlined style={{ marginRight: 8 }} />\n                  <Text strong>{card.cardNumber}</Text>\n                </div>\n                <div style={{ marginTop: 4 }}>\n                  <Text type=\"secondary\">\n                    {card.cardholderName} | 有效期: {card.expiryDate}\n                  </Text>\n                </div>\n              </Col>\n              <Col>\n                <Space>\n                  <Button \n                    type=\"text\" \n                    icon={<EditOutlined />} \n                    onClick={(e) => {\n                      e.stopPropagation();\n                      // 这里应该打开编辑信用卡的模态框\n                      message.info('编辑信用卡功能待实现');\n                    }}\n                  />\n                </Space>\n              </Col>\n            </Row>\n          </Card>\n        ))}\n        <Button \n          type=\"dashed\" \n          block \n          icon={<PlusOutlined />}\n          onClick={() => setCardModalVisible(true)}\n        >\n          添加新信用卡\n        </Button>\n        \n        {/* 分期选择 */}\n        {selectedCard && mockInstallmentPlans.length > 0 && (\n          <div style={{ marginTop: 16 }}>\n            <Title level={5}>分期付款</Title>\n            <Select\n              style={{ width: '100%' }}\n              placeholder=\"请选择分期方案\"\n              value={installmentPlan?.id || null}\n              onChange={handleInstallmentChange}\n              allowClear\n            >\n              {mockInstallmentPlans.map(plan => (\n                <Option key={plan.id} value={plan.id}>\n                  {plan.planName} ({plan.installmentCount}期)\n                </Option>\n              ))}\n            </Select>\n            {installmentPlan && (\n              <div style={{ marginTop: 8 }}>\n                <Text type=\"secondary\">\n                  每期 ¥{(state.actualAmount / (installmentPlan.installmentCount || 1)).toFixed(2)}，\n                  {installmentPlan.interestRate > 0 \n                    ? `年化利率 ${installmentPlan.interestRate * 100}%` \n                    : '免息'}\n                </Text>\n              </div>\n            )}\n          </div>\n        )}\n      </div>\n    );\n  };\n  \n  // 渲染商品列表\n  const renderProductList = () => {\n    if (!state || !state.selectedItems) {\n      return null;\n    }\n    \n    const columns = [\n      {\n        title: '商品信息',\n        dataIndex: 'product',\n        key: 'product',\n        render: (product: any) => (\n          <Space>\n            <Image\n              width={50}\n              height={50}\n              src={product.imageUrl || 'https://via.placeholder.com/50x50?text=暂无图片'}\n              alt={product.name}\n              style={{ objectFit: 'cover' }}\n            />\n            <Text>{product.name}</Text>\n          </Space>\n        ),\n      },\n      {\n        title: '单价',\n        dataIndex: 'product',\n        key: 'price',\n        width: 100,\n        render: (product: any) => (\n          <Text>¥{product.price}</Text>\n        ),\n      },\n      {\n        title: '数量',\n        dataIndex: 'quantity',\n        key: 'quantity',\n        width: 80,\n        render: (quantity: number) => (\n          <Text>{quantity}</Text>\n        ),\n      },\n      {\n        title: '小计',\n        key: 'subtotal',\n        width: 100,\n        render: (record: CartItem) => (\n          <Text>¥{(record.product.price * record.quantity).toFixed(2)}</Text>\n        ),\n      },\n    ];\n    \n    return (\n      <Table\n        columns={columns}\n        dataSource={state.selectedItems}\n        rowKey={(record) => record.product.id}\n        pagination={false}\n        size=\"small\"\n      />\n    );\n  };\n  \n  if (!state || !state.selectedItems) {\n    return null;\n  }\n  \n  return (\n    <div style={{ padding: '20px' }}>\n      <Title level={2}>确认订单</Title>\n      \n      {/* 收货地址 */}\n      <Card title=\"收货地址\" style={{ marginBottom: 20 }}>\n        {renderAddressList()}\n      </Card>\n      \n      {/* 商品信息 */}\n      <Card title=\"商品信息\" style={{ marginBottom: 20 }}>\n        {renderProductList()}\n      </Card>\n      \n      {/* 支付方式 */}\n      <Card title=\"支付方式\" style={{ marginBottom: 20 }}>\n        <Radio.Group value={paymentMethod} onChange={handlePaymentMethodChange}>\n          <Space direction=\"vertical\" style={{ width: '100%' }}>\n            {/* 模拟支付方式列表 */}\n            <Radio value=\"credit_card\">\n              <Space>\n                <CreditCardOutlined />\n                信用卡支付\n              </Space>\n            </Radio>\n            <Radio value=\"bank_transfer\">\n              <Space>\n                <BankOutlined />\n                银行转账\n              </Space>\n            </Radio>\n            <Radio value=\"wallet\">\n              <Space>\n                <WalletOutlined />\n                钱包支付\n              </Space>\n            </Radio>\n          </Space>\n        </Radio.Group>\n        \n        {renderCreditCardList()}\n      </Card>\n      \n      {/* 订单备注 */}\n      <Card title=\"订单备注\" style={{ marginBottom: 20 }}>\n        <TextArea\n          rows={3}\n          placeholder=\"请输入订单备注信息\"\n          value={remark}\n          onChange={(e) => setRemark(e.target.value)}\n          maxLength={200}\n        />\n      </Card>\n      \n      {/* 订单金额 */}\n      <Card style={{ marginBottom: 20 }}>\n        <Row justify=\"end\">\n          <Col>\n            <Space direction=\"vertical\" align=\"end\" style={{ width: '100%' }}>\n              <Text>商品总价: ¥{state.selectedItems.reduce((total, item) => \n                total + item.product.price * item.quantity, 0).toFixed(2)}</Text>\n              \n              {state.discountAmount > 0 && (\n                <Text>优惠金额: -¥{state.discountAmount.toFixed(2)}</Text>\n              )}\n              \n              {state.pointsUsed > 0 && (\n                <Text>积分抵扣: {state.pointsUsed} 积分</Text>\n              )}\n              \n              <Text strong style={{ fontSize: 16 }}>\n                应付金额: <span style={{ color: '#ff4d4f' }}>¥{state.actualAmount.toFixed(2)}</span>\n              </Text>\n            </Space>\n          </Col>\n        </Row>\n      </Card>\n      \n      {/* 提交订单 */}\n      <Row justify=\"end\">\n        <Col>\n          <Button type=\"primary\" size=\"large\" onClick={handleSubmitOrder}>\n            提交订单\n          </Button>\n        </Col>\n      </Row>\n      \n      {/* 添加地址模态框 */}\n      <Modal\n        title=\"添加收货地址\"\n        open={addressModalVisible}\n        onCancel={() => setAddressModalVisible(false)}\n        onOk={() => {\n          form.validateFields()\n            .then(values => {\n              console.log('新增地址:', values);\n              message.success('地址添加成功');\n              setAddressModalVisible(false);\n              form.resetFields();\n            })\n            .catch(info => {\n              console.log('验证失败:', info);\n            });\n        }}\n      >\n        <Form\n          form={form}\n          layout=\"vertical\"\n        >\n          <Form.Item\n            name=\"receiverName\"\n            label=\"收货人\"\n            rules={[{ required: true, message: '请输入收货人姓名' }]}\n          >\n            <Input placeholder=\"请输入收货人姓名\" />\n          </Form.Item>\n          \n          <Form.Item\n            name=\"phone\"\n            label=\"手机号码\"\n            rules={[{ required: true, message: '请输入手机号码' }]}\n          >\n            <Input placeholder=\"请输入手机号码\" />\n          </Form.Item>\n          \n          <Form.Item\n            name=\"province\"\n            label=\"省份\"\n            rules={[{ required: true, message: '请选择省份' }]}\n          >\n            <Select placeholder=\"请选择省份\">\n              <Option value=\"广东省\">广东省</Option>\n              <Option value=\"北京市\">北京市</Option>\n              <Option value=\"上海市\">上海市</Option>\n            </Select>\n          </Form.Item>\n          \n          <Form.Item\n            name=\"city\"\n            label=\"城市\"\n            rules={[{ required: true, message: '请选择城市' }]}\n          >\n            <Select placeholder=\"请选择城市\">\n              <Option value=\"深圳市\">深圳市</Option>\n              <Option value=\"广州市\">广州市</Option>\n              <Option value=\"东莞市\">东莞市</Option>\n            </Select>\n          </Form.Item>\n          \n          <Form.Item\n            name=\"district\"\n            label=\"区/县\"\n            rules={[{ required: true, message: '请选择区/县' }]}\n          >\n            <Select placeholder=\"请选择区/县\">\n              <Option value=\"南山区\">南山区</Option>\n              <Option value=\"福田区\">福田区</Option>\n              <Option value=\"罗湖区\">罗湖区</Option>\n            </Select>\n          </Form.Item>\n          \n          <Form.Item\n            name=\"detailAddress\"\n            label=\"详细地址\"\n            rules={[{ required: true, message: '请输入详细地址' }]}\n          >\n            <TextArea rows={2} placeholder=\"请输入详细地址\" />\n          </Form.Item>\n          \n          <Form.Item name=\"isDefault\" valuePropName=\"checked\">\n            <Radio>设为默认地址</Radio>\n          </Form.Item>\n        </Form>\n      </Modal>\n      \n      {/* 添加信用卡模态框 */}\n      <Modal\n        title=\"添加信用卡\"\n        open={cardModalVisible}\n        onCancel={() => setCardModalVisible(false)}\n        onOk={() => {\n          form.validateFields()\n            .then(values => {\n              console.log('新增信用卡:', values);\n              message.success('信用卡添加成功');\n              setCardModalVisible(false);\n              form.resetFields();\n            })\n            .catch(info => {\n              console.log('验证失败:', info);\n            });\n        }}\n      >\n        <Form\n          form={form}\n          layout=\"vertical\"\n        >\n          <Form.Item\n            name=\"cardNumber\"\n            label=\"卡号\"\n            rules={[{ required: true, message: '请输入信用卡卡号' }]}\n          >\n            <Input placeholder=\"请输入信用卡卡号\" />\n          </Form.Item>\n          \n          <Form.Item\n            name=\"cardholderName\"\n            label=\"持卡人姓名\"\n            rules={[{ required: true, message: '请输入持卡人姓名' }]}\n          >\n            <Input placeholder=\"请输入持卡人姓名\" />\n          </Form.Item>\n          \n          <Row gutter={16}>\n            <Col span={12}>\n              <Form.Item\n                name=\"expiryMonth\"\n                label=\"有效期(月)\"\n                rules={[{ required: true, message: '请选择月份' }]}\n              >\n                <Select placeholder=\"月\">\n                  {Array.from({ length: 12 }, (_, i) => (\n                    <Option key={i + 1} value={i + 1}>\n                      {String(i + 1).padStart(2, '0')}\n                    </Option>\n                  ))}\n                </Select>\n              </Form.Item>\n            </Col>\n            <Col span={12}>\n              <Form.Item\n                name=\"expiryYear\"\n                label=\"有效期(年)\"\n                rules={[{ required: true, message: '请选择年份' }]}\n              >\n                <Select placeholder=\"年\">\n                  {Array.from({ length: 10 }, (_, i) => {\n                    const year = new Date().getFullYear() + i;\n                    return (\n                      <Option key={year} value={year}>\n                        {year}\n                      </Option>\n                    );\n                  })}\n                </Select>\n              </Form.Item>\n            </Col>\n          </Row>\n          \n          <Form.Item\n            name=\"cvv\"\n            label=\"安全码\"\n            rules={[{ required: true, message: '请输入安全码' }]}\n          >\n            <Input placeholder=\"请输入卡背面的3位安全码\" maxLength={3} />\n          </Form.Item>\n          \n          <Form.Item name=\"isDefault\" valuePropName=\"checked\">\n            <Radio>设为默认卡</Radio>\n          </Form.Item>\n        </Form>\n      </Modal>\n    </div>\n  );\n};\n\nexport default OrderPage; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}