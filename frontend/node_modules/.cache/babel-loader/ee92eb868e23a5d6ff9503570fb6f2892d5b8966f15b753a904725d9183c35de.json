{"ast":null,"code":"var _jsxFileName = \"D:\\\\\\u62DB\\u8D22\\u5546\\u57CE\\\\frontend\\\\src\\\\pages\\\\CheckoutPage.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { Card, Form, Button, Input, Space, Divider, message, Row, Col, Typography, Spin, FloatButton } from 'antd';\nimport { useNavigate, useLocation } from 'react-router-dom';\nimport { EnvironmentOutlined, CustomerServiceOutlined } from '@ant-design/icons';\nimport { PaymentMethod } from '../types/order';\nimport { installmentApi, orderApi } from '../services/orderApi';\nimport CustomerServiceChat from '../components/CustomerServiceChat';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst {\n  Title,\n  Text\n} = Typography;\nconst {\n  TextArea\n} = Input;\nconst CheckoutPage = () => {\n  _s();\n  const navigate = useNavigate();\n  const location = useLocation();\n  const {\n    selectedItems\n  } = location.state || {\n    selectedItems: []\n  };\n  console.log('CheckoutPage mounted');\n  console.log('location.state:', location.state);\n  console.log('selectedItems:', selectedItems);\n  console.log('selectedItems length:', selectedItems === null || selectedItems === void 0 ? void 0 : selectedItems.length);\n  const [form] = Form.useForm();\n  const [loading, setLoading] = useState(false);\n  const [submitting, setSubmitting] = useState(false);\n  const [selectedInstallment, setSelectedInstallment] = useState(null);\n  const [paymentMethod, setPaymentMethod] = useState(PaymentMethod.ALIPAY);\n  const [showInstallmentOptions, setShowInstallmentOptions] = useState(false);\n  const [showCustomerService, setShowCustomerService] = useState(false);\n\n  // 计算总金额\n  const totalAmount = selectedItems.reduce((sum, item) => sum + item.product.price * item.quantity, 0);\n  const shippingFee = 0; // 假设免运费\n  const finalAmount = totalAmount + shippingFee;\n\n  // 使用实际金额，如果没有商品则使用测试金额\n  const actualAmount = finalAmount > 0 ? finalAmount : 5999.00;\n\n  // 直接初始化分期方案数据\n  const [installmentPlans, setInstallmentPlans] = useState([{\n    id: 1,\n    planName: '3期免息',\n    installmentCount: 3,\n    interestRate: 0,\n    minAmount: 0,\n    maxAmount: 100000,\n    status: 1\n  }, {\n    id: 2,\n    planName: '6期免息',\n    installmentCount: 6,\n    interestRate: 0,\n    minAmount: 0,\n    maxAmount: 100000,\n    status: 1\n  }, {\n    id: 3,\n    planName: '12期免息',\n    installmentCount: 12,\n    interestRate: 0,\n    minAmount: 0,\n    maxAmount: 100000,\n    status: 1\n  }, {\n    id: 4,\n    planName: '24期免息',\n    installmentCount: 24,\n    interestRate: 0,\n    minAmount: 0,\n    maxAmount: 100000,\n    status: 1\n  }]);\n  console.log('订单金额调试信息:', {\n    selectedItems,\n    totalAmount,\n    finalAmount,\n    actualAmount,\n    installmentPlansCount: installmentPlans.length\n  });\n  useEffect(() => {\n    if (!selectedItems || selectedItems.length === 0) {\n      message.warning('未检测到商品，使用测试金额演示分期功能');\n      // 不直接跳转，允许用户测试分期功能\n    }\n    // 可选择性加载后端数据，但不依赖它\n    loadInstallmentPlans();\n  }, [selectedItems, navigate]);\n\n  // 加载分期方案（可选）\n  const loadInstallmentPlans = async () => {\n    try {\n      const response = await installmentApi.getPlansByAmount(actualAmount);\n      if (response.code === 200 && response.data && response.data.length > 0) {\n        setInstallmentPlans(response.data);\n        console.log('从后端加载分期方案成功:', response.data);\n      }\n    } catch (error) {\n      console.log('使用本地分期方案数据，后端加载失败:', error);\n      // 保持使用本地初始化的数据\n    }\n  };\n\n  // 计算月供\n  const calculateMonthlyPayment = plan => {\n    const amount = actualAmount;\n    if (plan.interestRate === 0) {\n      return amount / plan.installmentCount;\n    }\n    // 简化的有息计算\n    const monthlyRate = plan.interestRate / 100;\n    const totalWithInterest = amount * (1 + monthlyRate * plan.installmentCount);\n    return totalWithInterest / plan.installmentCount;\n  };\n\n  // 处理支付方式选择\n  const handlePaymentMethodChange = method => {\n    setPaymentMethod(method);\n    // 如果选择信用卡，显示分期选项；否则隐藏\n    if (method === PaymentMethod.CREDIT_CARD) {\n      setShowInstallmentOptions(true);\n    } else {\n      setShowInstallmentOptions(false);\n      setSelectedInstallment(null);\n    }\n  };\n\n  // 提交订单\n  const handleSubmit = async values => {\n    console.log('=== 开始提交订单 ===');\n    console.log('提交状态:', submitting);\n    console.log('表单数据:', values);\n    console.log('支付方式:', paymentMethod);\n    console.log('选中商品:', selectedItems);\n    console.log('商品数量:', selectedItems === null || selectedItems === void 0 ? void 0 : selectedItems.length);\n\n    // 防止重复提交\n    if (submitting) {\n      console.log('❌ 正在提交中，忽略重复点击');\n      return;\n    }\n\n    // 立即设置提交状态，防止重复点击\n    setSubmitting(true);\n\n    // 验证是否有选中的商品\n    if (!selectedItems || selectedItems.length === 0) {\n      message.error('请先选择要购买的商品');\n      console.error('selectedItems为空:', selectedItems);\n      setSubmitting(false);\n      return;\n    }\n\n    // 验证支付方式是否选择\n    if (!paymentMethod) {\n      message.error('请选择支付方式');\n      setSubmitting(false);\n      return;\n    }\n\n    // 验证收货地址是否选择\n    if (!values.addressId) {\n      message.error('请选择收货地址');\n      console.error('addressId为空:', values.addressId);\n      setSubmitting(false);\n      return;\n    }\n    try {\n      // 构建订单创建请求\n      const orderRequest = {\n        cartItemIds: selectedItems.map(item => item.id),\n        addressId: values.addressId,\n        paymentMethod: paymentMethod,\n        isInstallment: !!selectedInstallment,\n        installmentPlanId: selectedInstallment || undefined,\n        orderRemark: values.orderRemark || '',\n        expectedAmount: actualAmount\n      };\n      console.log('创建订单请求:', orderRequest);\n      console.log('选中的商品数量:', selectedItems.length);\n      console.log('购物车商品IDs:', orderRequest.cartItemIds);\n\n      // 调用真实的订单创建API（假设用户ID为1，实际应从用户状态获取）\n      const userId = 1; // TODO: 从用户状态获取真实的用户ID\n      const response = await orderApi.createOrder(userId, orderRequest);\n      console.log('订单创建API响应:', response);\n\n      // 检查响应是否成功\n      if (response && response.data) {\n        message.success('订单创建成功！订单号：' + response.data.orderNo);\n        console.log('订单创建成功:', response.data);\n\n        // 延迟1秒后跳转，让用户看到成功消息\n        setTimeout(() => {\n          navigate('/orders');\n        }, 1500);\n      } else {\n        message.error('订单创建失败：响应数据异常');\n        console.error('API响应异常:', response);\n      }\n    } catch (error) {\n      var _error$response, _error$response$data;\n      console.error('创建订单失败:', error);\n      const errorMessage = ((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.message) || error.message || '创建订单失败，请稍后重试';\n      message.error(errorMessage);\n    } finally {\n      setSubmitting(false);\n    }\n  };\n\n  // 渲染支付方式选择组件\n  const renderPaymentMethods = () => {\n    return /*#__PURE__*/_jsxDEV(Card, {\n      title: \"\\u652F\\u4ED8\\u65B9\\u5F0F\",\n      style: {\n        marginBottom: '16px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'grid',\n          gridTemplateColumns: '1fr 1fr',\n          gap: '12px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          size: \"large\",\n          style: {\n            height: '60px',\n            display: 'flex',\n            flexDirection: 'column',\n            justifyContent: 'center',\n            alignItems: 'center',\n            backgroundColor: paymentMethod === PaymentMethod.ALIPAY ? '#e7f4ff' : '#ffffff',\n            borderColor: paymentMethod === PaymentMethod.ALIPAY ? '#1890ff' : '#d9d9d9',\n            color: paymentMethod === PaymentMethod.ALIPAY ? '#1890ff' : '#000000'\n          },\n          onClick: () => handlePaymentMethodChange(PaymentMethod.ALIPAY),\n          children: \"\\u652F\\u4ED8\\u5B9D\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 242,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          size: \"large\",\n          style: {\n            height: '60px',\n            display: 'flex',\n            flexDirection: 'column',\n            justifyContent: 'center',\n            alignItems: 'center',\n            backgroundColor: paymentMethod === PaymentMethod.WECHAT ? '#e7f4ff' : '#ffffff',\n            borderColor: paymentMethod === PaymentMethod.WECHAT ? '#1890ff' : '#d9d9d9',\n            color: paymentMethod === PaymentMethod.WECHAT ? '#1890ff' : '#000000'\n          },\n          onClick: () => handlePaymentMethodChange(PaymentMethod.WECHAT),\n          children: \"\\u5FAE\\u4FE1\\u652F\\u4ED8\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 259,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          size: \"large\",\n          style: {\n            height: '60px',\n            display: 'flex',\n            flexDirection: 'column',\n            justifyContent: 'center',\n            alignItems: 'center',\n            backgroundColor: paymentMethod === PaymentMethod.UNION_PAY ? '#e7f4ff' : '#ffffff',\n            borderColor: paymentMethod === PaymentMethod.UNION_PAY ? '#1890ff' : '#d9d9d9',\n            color: paymentMethod === PaymentMethod.UNION_PAY ? '#1890ff' : '#000000'\n          },\n          onClick: () => handlePaymentMethodChange(PaymentMethod.UNION_PAY),\n          children: \"\\u94F6\\u8054\\u652F\\u4ED8\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 276,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          size: \"large\",\n          style: {\n            height: '60px',\n            display: 'flex',\n            flexDirection: 'column',\n            justifyContent: 'center',\n            alignItems: 'center',\n            backgroundColor: paymentMethod === PaymentMethod.CREDIT_CARD ? '#e7f4ff' : '#ffffff',\n            borderColor: paymentMethod === PaymentMethod.CREDIT_CARD ? '#1890ff' : '#d9d9d9',\n            color: paymentMethod === PaymentMethod.CREDIT_CARD ? '#1890ff' : '#000000'\n          },\n          onClick: () => handlePaymentMethodChange(PaymentMethod.CREDIT_CARD),\n          children: \"\\u4FE1\\u7528\\u5361\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 293,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 241,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginTop: '16px'\n        },\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          size: \"large\",\n          style: {\n            width: '100%',\n            height: '50px',\n            backgroundColor: paymentMethod && !selectedInstallment ? '#f0f9ff' : '#f5f5f5',\n            borderColor: paymentMethod && !selectedInstallment ? '#1890ff' : '#d9d9d9',\n            color: paymentMethod && !selectedInstallment ? '#1890ff' : '#666666'\n          },\n          disabled: !paymentMethod,\n          children: [actualAmount.toFixed(2), \"\\u5143\\u30FB\\u5168\\u6B3E\\u652F\\u4ED8\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 313,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 312,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 240,\n      columnNumber: 7\n    }, this);\n  };\n\n  // 渲染分期方式选择组件\n  const renderInstallmentOptions = () => {\n    if (!showInstallmentOptions) return null;\n\n    // 筛选可用的分期方案\n    const availablePlans = installmentPlans.filter(plan => actualAmount >= plan.minAmount && actualAmount <= plan.maxAmount);\n    console.log('分期方案调试信息:', {\n      actualAmount,\n      installmentPlansCount: installmentPlans.length,\n      installmentPlans,\n      availablePlansCount: availablePlans.length,\n      availablePlans,\n      showInstallmentOptions,\n      筛选条件: `${actualAmount} >= minAmount && ${actualAmount} <= maxAmount`\n    });\n    return /*#__PURE__*/_jsxDEV(Card, {\n      title: \"\\u5206\\u671F\\u65B9\\u5F0F\",\n      style: {\n        marginBottom: '16px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(Text, {\n        type: \"secondary\",\n        style: {\n          marginBottom: '16px',\n          display: 'block'\n        },\n        children: \"\\u4EC5\\u73B0\\u91D1\\u90E8\\u5206\\u53C2\\u4E0E\\u5206\\u671F\\uFF0C\\u79EF\\u5206\\u4E0D\\u53C2\\u4E0E\\u5206\\u671F\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 352,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginBottom: '16px'\n        },\n        children: [installmentPlans.length > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'grid',\n            gridTemplateColumns: '1fr 1fr',\n            gap: '12px',\n            marginBottom: '12px'\n          },\n          children: installmentPlans.map(plan => {\n            const monthlyAmount = calculateMonthlyPayment(plan);\n            const isSelected = selectedInstallment === plan.id;\n            return /*#__PURE__*/_jsxDEV(Button, {\n              size: \"large\",\n              style: {\n                height: '60px',\n                display: 'flex',\n                flexDirection: 'column',\n                justifyContent: 'center',\n                alignItems: 'center',\n                backgroundColor: isSelected ? '#ffe7e7' : '#ffffff',\n                borderColor: isSelected ? '#ff4757' : '#d9d9d9',\n                color: isSelected ? '#ff4757' : '#000000',\n                fontSize: '14px',\n                fontWeight: 'bold'\n              },\n              onClick: () => setSelectedInstallment(plan.id),\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [monthlyAmount.toFixed(2), \"\\u5143\\xD7\", plan.installmentCount, \"\\u671F\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 382,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  fontSize: '12px',\n                  marginTop: '2px'\n                },\n                children: plan.interestRate === 0 ? '免息' : '低息'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 385,\n                columnNumber: 21\n              }, this)]\n            }, plan.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 365,\n              columnNumber: 19\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 359,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            textAlign: 'center',\n            padding: '20px',\n            color: '#999'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: \"\\u5206\\u671F\\u65B9\\u6848\\u52A0\\u8F7D\\u4E2D...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 394,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              fontSize: '12px',\n              marginTop: '8px',\n              color: '#666'\n            },\n            children: [\"\\u5F53\\u524D\\u91D1\\u989D: \", actualAmount, \"\\u5143\\uFF0C\\u5206\\u671F\\u65B9\\u6848\\u6570\\u91CF: \", installmentPlans.length]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 395,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 393,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          size: \"large\",\n          style: {\n            width: '100%',\n            height: '50px',\n            backgroundColor: selectedInstallment ? '#f5f5f5' : '#e7f4ff',\n            borderColor: selectedInstallment ? '#d9d9d9' : '#1890ff',\n            color: selectedInstallment ? '#666666' : '#1890ff',\n            fontSize: '16px'\n          },\n          onClick: () => setSelectedInstallment(null),\n          children: [actualAmount.toFixed(2), \"\\u5143\\u30FB\\u5168\\u6B3E\\u652F\\u4ED8\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 402,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 356,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Text, {\n        type: \"secondary\",\n        style: {\n          fontSize: '12px'\n        },\n        children: \"*\\u514D\\u606F\\u5206\\u671F\\u4EC5\\u652F\\u6301\\u62DB\\u5546\\u94F6\\u884C\\u4FE1\\u7528\\u5361\\u652F\\u4ED8\\uFF0C\\u8BF7\\u786E\\u4FDD\\u60A8\\u5361\\u7247\\u7684\\u53EF\\u7528\\u989D\\u5EA6\\u5927\\u4E8E\\u8BA2\\u5355\\u603B\\u91D1\\u989D\\u3002\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 418,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 351,\n      columnNumber: 7\n    }, this);\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        padding: '50px',\n        textAlign: 'center'\n      },\n      children: /*#__PURE__*/_jsxDEV(Spin, {\n        size: \"large\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 428,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 427,\n      columnNumber: 7\n    }, this);\n  }\n\n  // 如果没有选中的商品，显示提示\n  if (!selectedItems || selectedItems.length === 0) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        padding: '50px',\n        textAlign: 'center'\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(Title, {\n          level: 3,\n          children: \"\\u6CA1\\u6709\\u9009\\u4E2D\\u7684\\u5546\\u54C1\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 438,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"\\u8BF7\\u5148\\u6DFB\\u52A0\\u5546\\u54C1\\u5230\\u8D2D\\u7269\\u8F66\\uFF0C\\u7136\\u540E\\u9009\\u62E9\\u8981\\u8D2D\\u4E70\\u7684\\u5546\\u54C1\\u3002\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 439,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          type: \"primary\",\n          onClick: () => navigate('/'),\n          children: \"\\u53BB\\u8D2D\\u7269\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 440,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 437,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 436,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      padding: '20px',\n      backgroundColor: '#f5f5f5',\n      minHeight: '100vh'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        maxWidth: '1200px',\n        margin: '0 auto'\n      },\n      children: [/*#__PURE__*/_jsxDEV(Title, {\n        level: 2,\n        children: \"\\u786E\\u8BA4\\u8BA2\\u5355\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 451,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Form, {\n        form: form,\n        onFinish: handleSubmit,\n        layout: \"vertical\",\n        children: /*#__PURE__*/_jsxDEV(Row, {\n          gutter: 24,\n          children: [/*#__PURE__*/_jsxDEV(Col, {\n            span: 16,\n            children: [/*#__PURE__*/_jsxDEV(Card, {\n              title: /*#__PURE__*/_jsxDEV(Space, {\n                children: [/*#__PURE__*/_jsxDEV(EnvironmentOutlined, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 461,\n                  columnNumber: 21\n                }, this), \"\\u6536\\u8D27\\u5730\\u5740\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 460,\n                columnNumber: 19\n              }, this),\n              style: {\n                marginBottom: '16px'\n              },\n              children: [/*#__PURE__*/_jsxDEV(Form.Item, {\n                name: \"addressId\",\n                initialValue: 1,\n                style: {\n                  display: 'none'\n                },\n                children: /*#__PURE__*/_jsxDEV(Input, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 469,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 468,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n                name: \"receiverName\",\n                label: \"\\u6536\\u8D27\\u4EBA\",\n                rules: [{\n                  required: true,\n                  message: '请输入收货人'\n                }],\n                initialValue: \"\\u5F20\\u4E09\",\n                children: /*#__PURE__*/_jsxDEV(Input, {\n                  placeholder: \"\\u8BF7\\u8F93\\u5165\\u6536\\u8D27\\u4EBA\\u59D3\\u540D\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 473,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 472,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n                name: \"receiverPhone\",\n                label: \"\\u8054\\u7CFB\\u7535\\u8BDD\",\n                rules: [{\n                  required: true,\n                  message: '请输入联系电话'\n                }],\n                initialValue: \"13800138001\",\n                children: /*#__PURE__*/_jsxDEV(Input, {\n                  placeholder: \"\\u8BF7\\u8F93\\u5165\\u8054\\u7CFB\\u7535\\u8BDD\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 476,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 475,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n                name: \"address\",\n                label: \"\\u8BE6\\u7EC6\\u5730\\u5740\",\n                rules: [{\n                  required: true,\n                  message: '请输入详细地址'\n                }],\n                initialValue: \"\\u5317\\u4EAC\\u5E02\\u671D\\u9633\\u533A\\u5EFA\\u56FD\\u95E8\\u5916\\u5927\\u88571\\u53F7\",\n                children: /*#__PURE__*/_jsxDEV(TextArea, {\n                  rows: 2,\n                  placeholder: \"\\u8BF7\\u8F93\\u5165\\u8BE6\\u7EC6\\u5730\\u5740\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 479,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 478,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 458,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Card, {\n              title: \"\\u5546\\u54C1\\u4FE1\\u606F\",\n              style: {\n                marginBottom: '16px'\n              },\n              children: selectedItems.map(item => /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  display: 'flex',\n                  padding: '12px 0',\n                  borderBottom: '1px solid #f0f0f0'\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                  src: item.product.imageUrl || '/placeholder.jpg',\n                  alt: item.product.name,\n                  style: {\n                    width: '80px',\n                    height: '80px',\n                    objectFit: 'cover',\n                    marginRight: '12px'\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 487,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    flex: 1\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(Text, {\n                    strong: true,\n                    children: item.product.name\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 493,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 494,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(Text, {\n                    type: \"secondary\",\n                    children: [\"\\u6570\\u91CF: \", item.quantity]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 495,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 496,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(Text, {\n                    type: \"danger\",\n                    children: [\"\\xA5\", item.product.price.toFixed(2)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 497,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 492,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: /*#__PURE__*/_jsxDEV(Text, {\n                    strong: true,\n                    children: [\"\\xA5\", (item.product.price * item.quantity).toFixed(2)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 500,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 499,\n                  columnNumber: 21\n                }, this)]\n              }, item.id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 486,\n                columnNumber: 19\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 484,\n              columnNumber: 15\n            }, this), renderPaymentMethods(), renderInstallmentOptions(), /*#__PURE__*/_jsxDEV(Card, {\n              title: \"\\u8BA2\\u5355\\u5907\\u6CE8\",\n              children: /*#__PURE__*/_jsxDEV(Form.Item, {\n                name: \"orderRemark\",\n                children: /*#__PURE__*/_jsxDEV(TextArea, {\n                  rows: 3,\n                  placeholder: \"\\u8BF7\\u8F93\\u5165\\u8BA2\\u5355\\u5907\\u6CE8\\uFF08\\u53EF\\u9009\\uFF09\",\n                  maxLength: 200\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 515,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 514,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 513,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 456,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Col, {\n            span: 8,\n            children: /*#__PURE__*/_jsxDEV(Card, {\n              title: \"\\u8BA2\\u5355\\u6C47\\u603B\",\n              style: {\n                position: 'sticky',\n                top: '20px'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  marginBottom: '12px'\n                },\n                children: /*#__PURE__*/_jsxDEV(Space, {\n                  style: {\n                    width: '100%',\n                    justifyContent: 'space-between'\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(Text, {\n                    children: \"\\u5546\\u54C1\\u603B\\u989D:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 529,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(Text, {\n                    children: [\"\\xA5\", totalAmount.toFixed(2)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 530,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 528,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 527,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  marginBottom: '12px'\n                },\n                children: /*#__PURE__*/_jsxDEV(Space, {\n                  style: {\n                    width: '100%',\n                    justifyContent: 'space-between'\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(Text, {\n                    children: \"\\u8FD0\\u8D39:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 535,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(Text, {\n                    children: [\"\\xA5\", shippingFee.toFixed(2)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 536,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 534,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 533,\n                columnNumber: 17\n              }, this), selectedInstallment && /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: [/*#__PURE__*/_jsxDEV(Divider, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 543,\n                  columnNumber: 21\n                }, this), (() => {\n                  const selectedPlan = installmentPlans.find(p => p.id === selectedInstallment);\n                  if (selectedPlan) {\n                    const monthlyAmount = calculateMonthlyPayment(selectedPlan);\n                    return /*#__PURE__*/_jsxDEV(\"div\", {\n                      style: {\n                        marginBottom: '12px'\n                      },\n                      children: [/*#__PURE__*/_jsxDEV(Space, {\n                        style: {\n                          width: '100%',\n                          justifyContent: 'space-between'\n                        },\n                        children: [/*#__PURE__*/_jsxDEV(Text, {\n                          strong: true,\n                          children: \"\\u5206\\u671F\\u65B9\\u6848:\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 551,\n                          columnNumber: 31\n                        }, this), /*#__PURE__*/_jsxDEV(Text, {\n                          strong: true,\n                          style: {\n                            color: '#ff4d4f'\n                          },\n                          children: selectedPlan.planName\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 552,\n                          columnNumber: 31\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 550,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        style: {\n                          marginTop: '8px'\n                        },\n                        children: /*#__PURE__*/_jsxDEV(Space, {\n                          style: {\n                            width: '100%',\n                            justifyContent: 'space-between'\n                          },\n                          children: [/*#__PURE__*/_jsxDEV(Text, {\n                            children: \"\\u6BCF\\u671F\\u91D1\\u989D:\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 558,\n                            columnNumber: 33\n                          }, this), /*#__PURE__*/_jsxDEV(Text, {\n                            strong: true,\n                            style: {\n                              color: '#ff4d4f'\n                            },\n                            children: [\"\\xA5\", monthlyAmount.toFixed(2)]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 559,\n                            columnNumber: 33\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 557,\n                          columnNumber: 31\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 556,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 549,\n                      columnNumber: 27\n                    }, this);\n                  }\n                  return null;\n                })()]\n              }, void 0, true), /*#__PURE__*/_jsxDEV(Divider, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 572,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  marginBottom: '20px'\n                },\n                children: /*#__PURE__*/_jsxDEV(Space, {\n                  style: {\n                    width: '100%',\n                    justifyContent: 'space-between'\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(Text, {\n                    strong: true,\n                    children: paymentMethod === PaymentMethod.CREDIT_CARD ? '订单总额:' : '实付款:'\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 575,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(Text, {\n                    strong: true,\n                    style: {\n                      fontSize: '18px',\n                      color: '#ff4d4f'\n                    },\n                    children: [\"\\xA5\", actualAmount.toFixed(2)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 578,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 574,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 573,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Button, {\n                type: \"primary\",\n                size: \"large\",\n                loading: submitting,\n                block: true,\n                style: {\n                  height: '50px',\n                  fontSize: '16px'\n                },\n                onClick: () => {\n                  console.log('按钮被点击了');\n                  form.submit();\n                },\n                children: paymentMethod === PaymentMethod.CREDIT_CARD ? '确认分期订单' : '提交订单'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 584,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 526,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 525,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 454,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 453,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 450,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(FloatButton, {\n      icon: /*#__PURE__*/_jsxDEV(CustomerServiceOutlined, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 605,\n        columnNumber: 15\n      }, this),\n      tooltip: \"\\u652F\\u4ED8\\u54A8\\u8BE2\",\n      type: \"primary\",\n      style: {\n        right: 24,\n        bottom: 24\n      },\n      onClick: () => setShowCustomerService(true)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 604,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(CustomerServiceChat, {\n      isVisible: showCustomerService,\n      onClose: () => setShowCustomerService(false),\n      context: {\n        productPrice: actualAmount,\n        currentPage: 'checkout'\n      },\n      userId: 1\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 613,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 449,\n    columnNumber: 5\n  }, this);\n};\n_s(CheckoutPage, \"ymLccIesqO/Puhe0G/GP7VTZtIg=\", false, function () {\n  return [useNavigate, useLocation, Form.useForm];\n});\n_c = CheckoutPage;\nexport default CheckoutPage;\nvar _c;\n$RefreshReg$(_c, \"CheckoutPage\");","map":{"version":3,"names":["React","useState","useEffect","Card","Form","Button","Input","Space","Divider","message","Row","Col","Typography","Spin","FloatButton","useNavigate","useLocation","EnvironmentOutlined","CustomerServiceOutlined","PaymentMethod","installmentApi","orderApi","CustomerServiceChat","jsxDEV","_jsxDEV","Fragment","_Fragment","Title","Text","TextArea","CheckoutPage","_s","navigate","location","selectedItems","state","console","log","length","form","useForm","loading","setLoading","submitting","setSubmitting","selectedInstallment","setSelectedInstallment","paymentMethod","setPaymentMethod","ALIPAY","showInstallmentOptions","setShowInstallmentOptions","showCustomerService","setShowCustomerService","totalAmount","reduce","sum","item","product","price","quantity","shippingFee","finalAmount","actualAmount","installmentPlans","setInstallmentPlans","id","planName","installmentCount","interestRate","minAmount","maxAmount","status","installmentPlansCount","warning","loadInstallmentPlans","response","getPlansByAmount","code","data","error","calculateMonthlyPayment","plan","amount","monthlyRate","totalWithInterest","handlePaymentMethodChange","method","CREDIT_CARD","handleSubmit","values","addressId","orderRequest","cartItemIds","map","isInstallment","installmentPlanId","undefined","orderRemark","expectedAmount","userId","createOrder","success","orderNo","setTimeout","_error$response","_error$response$data","errorMessage","renderPaymentMethods","title","style","marginBottom","children","display","gridTemplateColumns","gap","size","height","flexDirection","justifyContent","alignItems","backgroundColor","borderColor","color","onClick","fileName","_jsxFileName","lineNumber","columnNumber","WECHAT","UNION_PAY","marginTop","width","disabled","toFixed","renderInstallmentOptions","availablePlans","filter","availablePlansCount","筛选条件","type","monthlyAmount","isSelected","fontSize","fontWeight","textAlign","padding","level","minHeight","maxWidth","margin","onFinish","layout","gutter","span","Item","name","initialValue","label","rules","required","placeholder","rows","borderBottom","src","imageUrl","alt","objectFit","marginRight","flex","strong","maxLength","position","top","selectedPlan","find","p","block","submit","icon","tooltip","right","bottom","isVisible","onClose","context","productPrice","currentPage","_c","$RefreshReg$"],"sources":["D:/招财商城/frontend/src/pages/CheckoutPage.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { \r\n  Card, \r\n  Form, \r\n  Button, \r\n  Radio, \r\n  Input, \r\n  Space, \r\n  Divider, \r\n  message, \r\n  Row,\r\n  Col,\r\n  Typography,\r\n  Spin,\r\n  FloatButton\r\n} from 'antd';\r\nimport { useNavigate, useLocation } from 'react-router-dom';\r\nimport { EnvironmentOutlined, CustomerServiceOutlined } from '@ant-design/icons';\r\nimport { PaymentMethod, InstallmentPlan, CreateOrderRequest } from '../types/order';\r\nimport { CartItem } from '../types';\r\nimport { installmentApi, orderApi } from '../services/orderApi';\r\nimport CustomerServiceChat from '../components/CustomerServiceChat';\r\n\r\nconst { Title, Text } = Typography;\r\nconst { TextArea } = Input;\r\n\r\nconst CheckoutPage: React.FC = () => {\r\n  const navigate = useNavigate();\r\n  const location = useLocation();\r\n  const { selectedItems } = location.state || { selectedItems: [] };\r\n  \r\n  console.log('CheckoutPage mounted');\r\n  console.log('location.state:', location.state);\r\n  console.log('selectedItems:', selectedItems);\r\n  console.log('selectedItems length:', selectedItems?.length);\r\n  \r\n  const [form] = Form.useForm();\r\n  const [loading, setLoading] = useState(false);\r\n  const [submitting, setSubmitting] = useState(false);\r\n  const [selectedInstallment, setSelectedInstallment] = useState<number | null>(null);\r\n  const [paymentMethod, setPaymentMethod] = useState<PaymentMethod | null>(PaymentMethod.ALIPAY);\r\n  const [showInstallmentOptions, setShowInstallmentOptions] = useState(false);\r\n  const [showCustomerService, setShowCustomerService] = useState(false);\r\n\r\n  // 计算总金额\r\n  const totalAmount = selectedItems.reduce((sum: number, item: CartItem) => \r\n    sum + item.product.price * item.quantity, 0\r\n  );\r\n  const shippingFee = 0; // 假设免运费\r\n  const finalAmount = totalAmount + shippingFee;\r\n\r\n  // 使用实际金额，如果没有商品则使用测试金额\r\n  const actualAmount = finalAmount > 0 ? finalAmount : 5999.00;\r\n\r\n  // 直接初始化分期方案数据\r\n  const [installmentPlans, setInstallmentPlans] = useState<InstallmentPlan[]>([\r\n    {\r\n      id: 1,\r\n      planName: '3期免息',\r\n      installmentCount: 3,\r\n      interestRate: 0,\r\n      minAmount: 0,\r\n      maxAmount: 100000,\r\n      status: 1\r\n    },\r\n    {\r\n      id: 2,\r\n      planName: '6期免息',\r\n      installmentCount: 6,\r\n      interestRate: 0,\r\n      minAmount: 0,\r\n      maxAmount: 100000,\r\n      status: 1\r\n    },\r\n    {\r\n      id: 3,\r\n      planName: '12期免息',\r\n      installmentCount: 12,\r\n      interestRate: 0,\r\n      minAmount: 0,\r\n      maxAmount: 100000,\r\n      status: 1\r\n    },\r\n    {\r\n      id: 4,\r\n      planName: '24期免息',\r\n      installmentCount: 24,\r\n      interestRate: 0,\r\n      minAmount: 0,\r\n      maxAmount: 100000,\r\n      status: 1\r\n    }\r\n  ]);\r\n\r\n  console.log('订单金额调试信息:', {\r\n    selectedItems,\r\n    totalAmount,\r\n    finalAmount,\r\n    actualAmount,\r\n    installmentPlansCount: installmentPlans.length\r\n  });\r\n\r\n  useEffect(() => {\r\n    if (!selectedItems || selectedItems.length === 0) {\r\n      message.warning('未检测到商品，使用测试金额演示分期功能');\r\n      // 不直接跳转，允许用户测试分期功能\r\n    }\r\n    // 可选择性加载后端数据，但不依赖它\r\n    loadInstallmentPlans();\r\n  }, [selectedItems, navigate]);\r\n\r\n  // 加载分期方案（可选）\r\n  const loadInstallmentPlans = async () => {\r\n    try {\r\n      const response = await installmentApi.getPlansByAmount(actualAmount);\r\n      if (response.code === 200 && response.data && response.data.length > 0) {\r\n        setInstallmentPlans(response.data);\r\n        console.log('从后端加载分期方案成功:', response.data);\r\n      }\r\n    } catch (error) {\r\n      console.log('使用本地分期方案数据，后端加载失败:', error);\r\n      // 保持使用本地初始化的数据\r\n    }\r\n  };\r\n\r\n  // 计算月供\r\n  const calculateMonthlyPayment = (plan: InstallmentPlan) => {\r\n    const amount = actualAmount;\r\n    if (plan.interestRate === 0) {\r\n      return amount / plan.installmentCount;\r\n    }\r\n    // 简化的有息计算\r\n    const monthlyRate = plan.interestRate / 100;\r\n    const totalWithInterest = amount * (1 + monthlyRate * plan.installmentCount);\r\n    return totalWithInterest / plan.installmentCount;\r\n  };\r\n\r\n  // 处理支付方式选择\r\n  const handlePaymentMethodChange = (method: PaymentMethod) => {\r\n    setPaymentMethod(method);\r\n    // 如果选择信用卡，显示分期选项；否则隐藏\r\n    if (method === PaymentMethod.CREDIT_CARD) {\r\n      setShowInstallmentOptions(true);\r\n    } else {\r\n      setShowInstallmentOptions(false);\r\n      setSelectedInstallment(null);\r\n    }\r\n  };\r\n\r\n  // 提交订单\r\n  const handleSubmit = async (values: any) => {\r\n    console.log('=== 开始提交订单 ===');\r\n    console.log('提交状态:', submitting);\r\n    console.log('表单数据:', values);\r\n    console.log('支付方式:', paymentMethod);\r\n    console.log('选中商品:', selectedItems);\r\n    console.log('商品数量:', selectedItems?.length);\r\n    \r\n    // 防止重复提交\r\n    if (submitting) {\r\n      console.log('❌ 正在提交中，忽略重复点击');\r\n      return;\r\n    }\r\n    \r\n    // 立即设置提交状态，防止重复点击\r\n    setSubmitting(true);\r\n    \r\n    // 验证是否有选中的商品\r\n    if (!selectedItems || selectedItems.length === 0) {\r\n      message.error('请先选择要购买的商品');\r\n      console.error('selectedItems为空:', selectedItems);\r\n      setSubmitting(false);\r\n      return;\r\n    }\r\n\r\n    // 验证支付方式是否选择\r\n    if (!paymentMethod) {\r\n      message.error('请选择支付方式');\r\n      setSubmitting(false);\r\n      return;\r\n    }\r\n\r\n    // 验证收货地址是否选择\r\n    if (!values.addressId) {\r\n      message.error('请选择收货地址');\r\n      console.error('addressId为空:', values.addressId);\r\n      setSubmitting(false);\r\n      return;\r\n    }\r\n\r\n    try {\r\n      \r\n      // 构建订单创建请求\r\n      const orderRequest: CreateOrderRequest = {\r\n        cartItemIds: selectedItems.map((item: CartItem) => item.id),\r\n        addressId: values.addressId,\r\n        paymentMethod: paymentMethod,\r\n        isInstallment: !!selectedInstallment,\r\n        installmentPlanId: selectedInstallment || undefined,\r\n        orderRemark: values.orderRemark || '',\r\n        expectedAmount: actualAmount\r\n      };\r\n      \r\n      console.log('创建订单请求:', orderRequest);\r\n      console.log('选中的商品数量:', selectedItems.length);\r\n      console.log('购物车商品IDs:', orderRequest.cartItemIds);\r\n      \r\n      // 调用真实的订单创建API（假设用户ID为1，实际应从用户状态获取）\r\n      const userId = 1; // TODO: 从用户状态获取真实的用户ID\r\n      const response = await orderApi.createOrder(userId, orderRequest);\r\n      \r\n      console.log('订单创建API响应:', response);\r\n      \r\n      // 检查响应是否成功\r\n      if (response && response.data) {\r\n        message.success('订单创建成功！订单号：' + response.data.orderNo);\r\n        console.log('订单创建成功:', response.data);\r\n        \r\n        // 延迟1秒后跳转，让用户看到成功消息\r\n        setTimeout(() => {\r\n          navigate('/orders');\r\n        }, 1500);\r\n      } else {\r\n        message.error('订单创建失败：响应数据异常');\r\n        console.error('API响应异常:', response);\r\n      }\r\n      \r\n    } catch (error: any) {\r\n      console.error('创建订单失败:', error);\r\n      const errorMessage = error.response?.data?.message || error.message || '创建订单失败，请稍后重试';\r\n      message.error(errorMessage);\r\n    } finally {\r\n      setSubmitting(false);\r\n    }\r\n  };\r\n\r\n  // 渲染支付方式选择组件\r\n  const renderPaymentMethods = () => {\r\n    return (\r\n      <Card title=\"支付方式\" style={{ marginBottom: '16px' }}>\r\n        <div style={{ display: 'grid', gridTemplateColumns: '1fr 1fr', gap: '12px' }}>\r\n          <Button\r\n            size=\"large\"\r\n            style={{\r\n              height: '60px',\r\n              display: 'flex',\r\n              flexDirection: 'column',\r\n              justifyContent: 'center',\r\n              alignItems: 'center',\r\n              backgroundColor: paymentMethod === PaymentMethod.ALIPAY ? '#e7f4ff' : '#ffffff',\r\n              borderColor: paymentMethod === PaymentMethod.ALIPAY ? '#1890ff' : '#d9d9d9',\r\n              color: paymentMethod === PaymentMethod.ALIPAY ? '#1890ff' : '#000000'\r\n            }}\r\n            onClick={() => handlePaymentMethodChange(PaymentMethod.ALIPAY)}\r\n          >\r\n            支付宝\r\n          </Button>\r\n\r\n          <Button\r\n            size=\"large\"\r\n            style={{\r\n              height: '60px',\r\n              display: 'flex',\r\n              flexDirection: 'column',\r\n              justifyContent: 'center',\r\n              alignItems: 'center',\r\n              backgroundColor: paymentMethod === PaymentMethod.WECHAT ? '#e7f4ff' : '#ffffff',\r\n              borderColor: paymentMethod === PaymentMethod.WECHAT ? '#1890ff' : '#d9d9d9',\r\n              color: paymentMethod === PaymentMethod.WECHAT ? '#1890ff' : '#000000'\r\n            }}\r\n            onClick={() => handlePaymentMethodChange(PaymentMethod.WECHAT)}\r\n          >\r\n            微信支付\r\n          </Button>\r\n\r\n          <Button\r\n            size=\"large\"\r\n            style={{\r\n              height: '60px',\r\n              display: 'flex',\r\n              flexDirection: 'column',\r\n              justifyContent: 'center',\r\n              alignItems: 'center',\r\n              backgroundColor: paymentMethod === PaymentMethod.UNION_PAY ? '#e7f4ff' : '#ffffff',\r\n              borderColor: paymentMethod === PaymentMethod.UNION_PAY ? '#1890ff' : '#d9d9d9',\r\n              color: paymentMethod === PaymentMethod.UNION_PAY ? '#1890ff' : '#000000'\r\n            }}\r\n            onClick={() => handlePaymentMethodChange(PaymentMethod.UNION_PAY)}\r\n          >\r\n            银联支付\r\n          </Button>\r\n\r\n          <Button\r\n            size=\"large\"\r\n            style={{\r\n              height: '60px',\r\n              display: 'flex',\r\n              flexDirection: 'column',\r\n              justifyContent: 'center',\r\n              alignItems: 'center',\r\n              backgroundColor: paymentMethod === PaymentMethod.CREDIT_CARD ? '#e7f4ff' : '#ffffff',\r\n              borderColor: paymentMethod === PaymentMethod.CREDIT_CARD ? '#1890ff' : '#d9d9d9',\r\n              color: paymentMethod === PaymentMethod.CREDIT_CARD ? '#1890ff' : '#000000'\r\n            }}\r\n            onClick={() => handlePaymentMethodChange(PaymentMethod.CREDIT_CARD)}\r\n          >\r\n            信用卡\r\n          </Button>\r\n        </div>\r\n\r\n        {/* 全款支付选项 */}\r\n        <div style={{ marginTop: '16px' }}>\r\n          <Button\r\n            size=\"large\"\r\n            style={{\r\n              width: '100%',\r\n              height: '50px',\r\n              backgroundColor: paymentMethod && !selectedInstallment ? '#f0f9ff' : '#f5f5f5',\r\n              borderColor: paymentMethod && !selectedInstallment ? '#1890ff' : '#d9d9d9',\r\n              color: paymentMethod && !selectedInstallment ? '#1890ff' : '#666666'\r\n            }}\r\n            disabled={!paymentMethod}\r\n          >\r\n            {actualAmount.toFixed(2)}元・全款支付\r\n          </Button>\r\n        </div>\r\n      </Card>\r\n    );\r\n  };\r\n\r\n  // 渲染分期方式选择组件\r\n  const renderInstallmentOptions = () => {\r\n    if (!showInstallmentOptions) return null;\r\n\r\n    // 筛选可用的分期方案\r\n    const availablePlans = installmentPlans.filter(plan => \r\n      actualAmount >= plan.minAmount && actualAmount <= plan.maxAmount\r\n    );\r\n\r\n    console.log('分期方案调试信息:', {\r\n      actualAmount,\r\n      installmentPlansCount: installmentPlans.length,\r\n      installmentPlans,\r\n      availablePlansCount: availablePlans.length,\r\n      availablePlans,\r\n      showInstallmentOptions,\r\n      筛选条件: `${actualAmount} >= minAmount && ${actualAmount} <= maxAmount`\r\n    });\r\n\r\n    return (\r\n      <Card title=\"分期方式\" style={{ marginBottom: '16px' }}>\r\n        <Text type=\"secondary\" style={{ marginBottom: '16px', display: 'block' }}>\r\n          仅现金部分参与分期，积分不参与分期\r\n        </Text>\r\n        \r\n        <div style={{ marginBottom: '16px' }}>\r\n          {/* 分期支付选项 */}\r\n          {installmentPlans.length > 0 ? (\r\n            <div style={{ display: 'grid', gridTemplateColumns: '1fr 1fr', gap: '12px', marginBottom: '12px' }}>\r\n              {installmentPlans.map(plan => {\r\n                const monthlyAmount = calculateMonthlyPayment(plan);\r\n                const isSelected = selectedInstallment === plan.id;\r\n                \r\n                return (\r\n                  <Button\r\n                    key={plan.id}\r\n                    size=\"large\"\r\n                    style={{\r\n                      height: '60px',\r\n                      display: 'flex',\r\n                      flexDirection: 'column',\r\n                      justifyContent: 'center',\r\n                      alignItems: 'center',\r\n                      backgroundColor: isSelected ? '#ffe7e7' : '#ffffff',\r\n                      borderColor: isSelected ? '#ff4757' : '#d9d9d9',\r\n                      color: isSelected ? '#ff4757' : '#000000',\r\n                      fontSize: '14px',\r\n                      fontWeight: 'bold'\r\n                    }}\r\n                    onClick={() => setSelectedInstallment(plan.id)}\r\n                  >\r\n                    <div>\r\n                      {monthlyAmount.toFixed(2)}元×{plan.installmentCount}期\r\n                    </div>\r\n                    <div style={{ fontSize: '12px', marginTop: '2px' }}>\r\n                      {plan.interestRate === 0 ? '免息' : '低息'}\r\n                    </div>\r\n                  </Button>\r\n                );\r\n              })}\r\n            </div>\r\n          ) : (\r\n            <div style={{ textAlign: 'center', padding: '20px', color: '#999' }}>\r\n              <div>分期方案加载中...</div>\r\n              <div style={{ fontSize: '12px', marginTop: '8px', color: '#666' }}>\r\n                当前金额: {actualAmount}元，分期方案数量: {installmentPlans.length}\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {/* 全款支付按钮 */}\r\n          <Button\r\n            size=\"large\"\r\n            style={{\r\n              width: '100%',\r\n              height: '50px',\r\n              backgroundColor: selectedInstallment ? '#f5f5f5' : '#e7f4ff',\r\n              borderColor: selectedInstallment ? '#d9d9d9' : '#1890ff',\r\n              color: selectedInstallment ? '#666666' : '#1890ff',\r\n              fontSize: '16px'\r\n            }}\r\n            onClick={() => setSelectedInstallment(null)}\r\n          >\r\n            {actualAmount.toFixed(2)}元・全款支付\r\n          </Button>\r\n        </div>\r\n\r\n        <Text type=\"secondary\" style={{ fontSize: '12px' }}>\r\n          *免息分期仅支持招商银行信用卡支付，请确保您卡片的可用额度大于订单总金额。\r\n        </Text>\r\n      </Card>\r\n    );\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div style={{ padding: '50px', textAlign: 'center' }}>\r\n        <Spin size=\"large\" />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // 如果没有选中的商品，显示提示\r\n  if (!selectedItems || selectedItems.length === 0) {\r\n    return (\r\n      <div style={{ padding: '50px', textAlign: 'center' }}>\r\n        <div>\r\n          <Title level={3}>没有选中的商品</Title>\r\n          <p>请先添加商品到购物车，然后选择要购买的商品。</p>\r\n          <Button type=\"primary\" onClick={() => navigate('/')}>\r\n            去购物\r\n          </Button>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div style={{ padding: '20px', backgroundColor: '#f5f5f5', minHeight: '100vh' }}>\r\n      <div style={{ maxWidth: '1200px', margin: '0 auto' }}>\r\n        <Title level={2}>确认订单</Title>\r\n        \r\n        <Form form={form} onFinish={handleSubmit} layout=\"vertical\">\r\n          <Row gutter={24}>\r\n            {/* 左侧主要内容 */}\r\n            <Col span={16}>\r\n              {/* 收货地址 */}\r\n              <Card \r\n                title={\r\n                  <Space>\r\n                    <EnvironmentOutlined />\r\n                    收货地址\r\n                  </Space>\r\n                }\r\n                style={{ marginBottom: '16px' }}\r\n              >\r\n                {/* 隐藏的地址ID字段 */}\r\n                <Form.Item name=\"addressId\" initialValue={1} style={{ display: 'none' }}>\r\n                  <Input />\r\n                </Form.Item>\r\n                \r\n                <Form.Item name=\"receiverName\" label=\"收货人\" rules={[{ required: true, message: '请输入收货人' }]} initialValue=\"张三\">\r\n                  <Input placeholder=\"请输入收货人姓名\" />\r\n                </Form.Item>\r\n                <Form.Item name=\"receiverPhone\" label=\"联系电话\" rules={[{ required: true, message: '请输入联系电话' }]} initialValue=\"13800138001\">\r\n                  <Input placeholder=\"请输入联系电话\" />\r\n                </Form.Item>\r\n                <Form.Item name=\"address\" label=\"详细地址\" rules={[{ required: true, message: '请输入详细地址' }]} initialValue=\"北京市朝阳区建国门外大街1号\">\r\n                  <TextArea rows={2} placeholder=\"请输入详细地址\" />\r\n                </Form.Item>\r\n              </Card>\r\n\r\n              {/* 商品信息 */}\r\n              <Card title=\"商品信息\" style={{ marginBottom: '16px' }}>\r\n                {selectedItems.map((item: CartItem) => (\r\n                  <div key={item.id} style={{ display: 'flex', padding: '12px 0', borderBottom: '1px solid #f0f0f0' }}>\r\n                    <img \r\n                      src={item.product.imageUrl || '/placeholder.jpg'} \r\n                      alt={item.product.name}\r\n                      style={{ width: '80px', height: '80px', objectFit: 'cover', marginRight: '12px' }}\r\n                    />\r\n                    <div style={{ flex: 1 }}>\r\n                      <Text strong>{item.product.name}</Text>\r\n                      <br />\r\n                      <Text type=\"secondary\">数量: {item.quantity}</Text>\r\n                      <br />\r\n                      <Text type=\"danger\">¥{item.product.price.toFixed(2)}</Text>\r\n                    </div>\r\n                    <div>\r\n                      <Text strong>¥{(item.product.price * item.quantity).toFixed(2)}</Text>\r\n                    </div>\r\n                  </div>\r\n                ))}\r\n              </Card>\r\n\r\n              {/* 支付方式 */}\r\n              {renderPaymentMethods()}\r\n\r\n              {/* 分期方式 */}\r\n              {renderInstallmentOptions()}\r\n\r\n              {/* 订单备注 */}\r\n              <Card title=\"订单备注\">\r\n                <Form.Item name=\"orderRemark\">\r\n                  <TextArea \r\n                    rows={3} \r\n                    placeholder=\"请输入订单备注（可选）\"\r\n                    maxLength={200}\r\n                  />\r\n                </Form.Item>\r\n              </Card>\r\n            </Col>\r\n\r\n            {/* 右侧订单汇总 */}\r\n            <Col span={8}>\r\n              <Card title=\"订单汇总\" style={{ position: 'sticky', top: '20px' }}>\r\n                <div style={{ marginBottom: '12px' }}>\r\n                  <Space style={{ width: '100%', justifyContent: 'space-between' }}>\r\n                    <Text>商品总额:</Text>\r\n                    <Text>¥{totalAmount.toFixed(2)}</Text>\r\n                  </Space>\r\n                </div>\r\n                <div style={{ marginBottom: '12px' }}>\r\n                  <Space style={{ width: '100%', justifyContent: 'space-between' }}>\r\n                    <Text>运费:</Text>\r\n                    <Text>¥{shippingFee.toFixed(2)}</Text>\r\n                  </Space>\r\n                </div>\r\n                \r\n                {/* 分期信息显示 */}\r\n                {selectedInstallment && (\r\n                  <>\r\n                    <Divider />\r\n                    {(() => {\r\n                      const selectedPlan = installmentPlans.find(p => p.id === selectedInstallment);\r\n                      if (selectedPlan) {\r\n                        const monthlyAmount = calculateMonthlyPayment(selectedPlan);\r\n                        return (\r\n                          <div style={{ marginBottom: '12px' }}>\r\n                            <Space style={{ width: '100%', justifyContent: 'space-between' }}>\r\n                              <Text strong>分期方案:</Text>\r\n                              <Text strong style={{ color: '#ff4d4f' }}>\r\n                                {selectedPlan.planName}\r\n                              </Text>\r\n                            </Space>\r\n                            <div style={{ marginTop: '8px' }}>\r\n                              <Space style={{ width: '100%', justifyContent: 'space-between' }}>\r\n                                <Text>每期金额:</Text>\r\n                                <Text strong style={{ color: '#ff4d4f' }}>\r\n                                  ¥{monthlyAmount.toFixed(2)}\r\n                                </Text>\r\n                              </Space>\r\n                            </div>\r\n                          </div>\r\n                        );\r\n                      }\r\n                      return null;\r\n                    })()}\r\n                  </>\r\n                )}\r\n                \r\n                <Divider />\r\n                <div style={{ marginBottom: '20px' }}>\r\n                  <Space style={{ width: '100%', justifyContent: 'space-between' }}>\r\n                    <Text strong>\r\n                      {paymentMethod === PaymentMethod.CREDIT_CARD ? '订单总额:' : '实付款:'}\r\n                    </Text>\r\n                    <Text strong style={{ fontSize: '18px', color: '#ff4d4f' }}>\r\n                      ¥{actualAmount.toFixed(2)}\r\n                    </Text>\r\n                  </Space>\r\n                </div>\r\n\r\n                <Button \r\n                  type=\"primary\" \r\n                  size=\"large\" \r\n                  loading={submitting}\r\n                  block\r\n                  style={{ height: '50px', fontSize: '16px' }}\r\n                  onClick={() => {\r\n                    console.log('按钮被点击了');\r\n                    form.submit();\r\n                  }}\r\n                >\r\n                  {paymentMethod === PaymentMethod.CREDIT_CARD ? '确认分期订单' : '提交订单'}\r\n                </Button>\r\n              </Card>\r\n            </Col>\r\n          </Row>\r\n        </Form>\r\n      </div>\r\n\r\n      {/* 客服浮动按钮 */}\r\n      <FloatButton\r\n        icon={<CustomerServiceOutlined />}\r\n        tooltip=\"支付咨询\"\r\n        type=\"primary\"\r\n        style={{ right: 24, bottom: 24 }}\r\n        onClick={() => setShowCustomerService(true)}\r\n      />\r\n\r\n      {/* 客服聊天组件 */}\r\n      <CustomerServiceChat\r\n        isVisible={showCustomerService}\r\n        onClose={() => setShowCustomerService(false)}\r\n        context={{\r\n          productPrice: actualAmount,\r\n          currentPage: 'checkout'\r\n        }}\r\n        userId={1}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CheckoutPage; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}