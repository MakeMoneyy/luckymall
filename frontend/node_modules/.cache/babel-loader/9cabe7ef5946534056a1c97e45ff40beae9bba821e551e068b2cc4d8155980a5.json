{"ast":null,"code":"var _jsxFileName = \"D:\\\\\\u62DB\\u8D22\\u5546\\u57CE\\\\frontend\\\\src\\\\pages\\\\CartPage.tsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect } from 'react';\nimport { Card, Table, InputNumber, Button, Space, Typography, Image, Empty, Checkbox, Row, Col, Divider, message, Spin, Alert } from 'antd';\nimport { DeleteOutlined, ShoppingOutlined } from '@ant-design/icons';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useNavigate } from 'react-router-dom';\nimport { fetchCartItems, updateCartItemAsync, removeFromCartAsync, clearCartAsync, clearError } from '../store/slices/cartSlice';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst {\n  Title,\n  Text\n} = Typography;\nconst CartPage = () => {\n  _s();\n  const navigate = useNavigate();\n  const dispatch = useDispatch();\n  const {\n    items,\n    totalAmount,\n    loading,\n    error,\n    currentUserId\n  } = useSelector(state => state.cart);\n\n  // 本地状态管理选中的商品\n  const [selectedItems, setSelectedItems] = React.useState([]);\n\n  // 组件挂载时获取购物车数据\n  useEffect(() => {\n    dispatch(fetchCartItems(currentUserId));\n  }, [dispatch, currentUserId]);\n\n  // 清除错误信息\n  useEffect(() => {\n    if (error) {\n      message.error(error);\n      dispatch(clearError());\n    }\n  }, [error, dispatch]);\n\n  // 处理数量变化\n  const handleQuantityChange = async (item, quantity) => {\n    if (quantity > 0 && item.id) {\n      try {\n        await dispatch(updateCartItemAsync({\n          userId: currentUserId,\n          cartItemId: item.id,\n          quantity\n        })).unwrap();\n        message.success('商品数量已更新');\n      } catch (err) {\n        console.error('更新数量失败:', err);\n      }\n    }\n  };\n\n  // 删除商品\n  const handleRemoveItem = async item => {\n    if (item.id) {\n      try {\n        await dispatch(removeFromCartAsync({\n          userId: currentUserId,\n          cartItemId: item.id\n        })).unwrap();\n        message.success('商品已从购物车中移除');\n        // 从选中列表中移除\n        setSelectedItems(prev => prev.filter(id => id !== item.product.id));\n      } catch (err) {\n        console.error('删除商品失败:', err);\n      }\n    }\n  };\n\n  // 清空购物车\n  const handleClearCart = async () => {\n    try {\n      await dispatch(clearCartAsync(currentUserId)).unwrap();\n      message.success('购物车已清空');\n      setSelectedItems([]);\n    } catch (err) {\n      console.error('清空购物车失败:', err);\n    }\n  };\n\n  // 切换商品选择状态\n  const handleToggleSelection = productId => {\n    setSelectedItems(prev => prev.includes(productId) ? prev.filter(id => id !== productId) : [...prev, productId]);\n  };\n\n  // 全选/取消全选\n  const handleSelectAll = checked => {\n    if (checked) {\n      setSelectedItems(items.map(item => item.product.id));\n    } else {\n      setSelectedItems([]);\n    }\n  };\n\n  // 结算\n  const handleCheckout = () => {\n    const selectedCartItems = items.filter(item => selectedItems.includes(item.product.id));\n    if (selectedCartItems.length === 0) {\n      message.warning('请选择要结算的商品');\n      return;\n    }\n\n    // 这里暂时只是模拟跳转到订单页面\n    console.log('结算商品:', selectedCartItems);\n    message.success('跳转到订单页面（模拟）');\n    // navigate('/checkout');\n  };\n\n  // 计算选中商品的总价\n  const calculateSelectedTotal = () => {\n    return items.filter(item => selectedItems.includes(item.product.id)).reduce((total, item) => total + item.product.price * item.quantity, 0);\n  };\n\n  // 表格列定义\n  const columns = [{\n    title: /*#__PURE__*/_jsxDEV(Checkbox, {\n      checked: selectedItems.length === items.length && items.length > 0,\n      indeterminate: selectedItems.length > 0 && selectedItems.length < items.length,\n      onChange: e => handleSelectAll(e.target.checked),\n      children: \"\\u5168\\u9009\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 9\n    }, this),\n    dataIndex: 'selection',\n    key: 'selection',\n    width: 80,\n    render: (_, record) => /*#__PURE__*/_jsxDEV(Checkbox, {\n      checked: selectedItems.includes(record.product.id),\n      onChange: () => handleToggleSelection(record.product.id)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 9\n    }, this)\n  }, {\n    title: '商品信息',\n    dataIndex: 'product',\n    key: 'product',\n    width: 300,\n    render: product => /*#__PURE__*/_jsxDEV(Space, {\n      children: [/*#__PURE__*/_jsxDEV(Image, {\n        width: 60,\n        height: 60,\n        src: product.imageUrl || 'https://via.placeholder.com/60x60?text=暂无图片',\n        alt: product.name,\n        style: {\n          objectFit: 'cover'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            fontWeight: 500,\n            marginBottom: 4\n          },\n          children: product.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 184,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Text, {\n          type: \"secondary\",\n          style: {\n            fontSize: 12\n          },\n          children: product.categoryName\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 187,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 9\n    }, this)\n  }, {\n    title: '单价',\n    dataIndex: 'product',\n    key: 'price',\n    width: 120,\n    render: product => /*#__PURE__*/_jsxDEV(Text, {\n      strong: true,\n      style: {\n        color: '#ff4d4f'\n      },\n      children: [\"\\xA5\", product.price]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 200,\n      columnNumber: 9\n    }, this)\n  }, {\n    title: '数量',\n    dataIndex: 'quantity',\n    key: 'quantity',\n    width: 120,\n    render: (quantity, record) => /*#__PURE__*/_jsxDEV(InputNumber, {\n      min: 1,\n      max: record.product.stockQuantity,\n      value: quantity,\n      onChange: value => handleQuantityChange(record, value || 1),\n      style: {\n        width: 80\n      },\n      disabled: loading\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 211,\n      columnNumber: 9\n    }, this)\n  }, {\n    title: '小计',\n    key: 'subtotal',\n    width: 120,\n    render: (_, record) => /*#__PURE__*/_jsxDEV(Text, {\n      strong: true,\n      style: {\n        color: '#ff4d4f'\n      },\n      children: [\"\\xA5\", (record.product.price * record.quantity).toFixed(2)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 226,\n      columnNumber: 9\n    }, this)\n  }, {\n    title: '操作',\n    key: 'action',\n    width: 100,\n    render: (_, record) => /*#__PURE__*/_jsxDEV(Button, {\n      type: \"link\",\n      danger: true,\n      icon: /*#__PURE__*/_jsxDEV(DeleteOutlined, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 239,\n        columnNumber: 17\n      }, this),\n      onClick: () => handleRemoveItem(record),\n      loading: loading,\n      children: \"\\u5220\\u9664\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 236,\n      columnNumber: 9\n    }, this)\n  }];\n\n  // 加载状态\n  if (loading && items.length === 0) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        padding: '20px',\n        textAlign: 'center'\n      },\n      children: [/*#__PURE__*/_jsxDEV(Spin, {\n        size: \"large\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 253,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginTop: 16\n        },\n        children: \"\\u52A0\\u8F7D\\u8D2D\\u7269\\u8F66\\u6570\\u636E\\u4E2D...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 254,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 252,\n      columnNumber: 7\n    }, this);\n  }\n\n  // 错误状态\n  if (error && items.length === 0) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        padding: '20px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(Title, {\n        level: 2,\n        children: \"\\u8D2D\\u7269\\u8F66\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 263,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Alert, {\n        message: \"\\u52A0\\u8F7D\\u5931\\u8D25\",\n        description: error,\n        type: \"error\",\n        action: /*#__PURE__*/_jsxDEV(Button, {\n          onClick: () => dispatch(fetchCartItems(currentUserId)),\n          children: \"\\u91CD\\u8BD5\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 269,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 264,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 262,\n      columnNumber: 7\n    }, this);\n  }\n  if (items.length === 0) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        padding: '20px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(Title, {\n        level: 2,\n        children: \"\\u8D2D\\u7269\\u8F66\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 281,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Empty, {\n        image: /*#__PURE__*/_jsxDEV(ShoppingOutlined, {\n          style: {\n            fontSize: 64,\n            color: '#ccc'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 283,\n          columnNumber: 18\n        }, this),\n        description: \"\\u8D2D\\u7269\\u8F66\\u662F\\u7A7A\\u7684\",\n        style: {\n          padding: '60px 0'\n        },\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          type: \"primary\",\n          onClick: () => navigate('/'),\n          children: \"\\u53BB\\u8D2D\\u7269\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 287,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 282,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 280,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      padding: '20px'\n    },\n    children: [/*#__PURE__*/_jsxDEV(Title, {\n      level: 2,\n      children: \"\\u8D2D\\u7269\\u8F66\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 297,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Spin, {\n      spinning: loading,\n      children: /*#__PURE__*/_jsxDEV(Card, {\n        style: {\n          marginBottom: 20\n        },\n        children: /*#__PURE__*/_jsxDEV(Table, {\n          columns: columns,\n          dataSource: items,\n          rowKey: record => record.id || record.product.id,\n          pagination: false,\n          size: \"middle\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 301,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 300,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 299,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Row, {\n      gutter: 20,\n      children: [/*#__PURE__*/_jsxDEV(Col, {\n        xs: 24,\n        md: 16,\n        children: /*#__PURE__*/_jsxDEV(Space, {\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            onClick: handleClearCart,\n            disabled: items.length === 0 || loading,\n            children: \"\\u6E05\\u7A7A\\u8D2D\\u7269\\u8F66\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 314,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            onClick: () => navigate('/'),\n            children: \"\\u7EE7\\u7EED\\u8D2D\\u7269\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 320,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 313,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 312,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Col, {\n        xs: 24,\n        md: 8,\n        children: /*#__PURE__*/_jsxDEV(Card, {\n          title: \"\\u7ED3\\u7B97\\u4FE1\\u606F\",\n          children: /*#__PURE__*/_jsxDEV(Space, {\n            direction: \"vertical\",\n            style: {\n              width: '100%'\n            },\n            children: [/*#__PURE__*/_jsxDEV(Row, {\n              justify: \"space-between\",\n              children: [/*#__PURE__*/_jsxDEV(Text, {\n                children: \"\\u5DF2\\u9009\\u5546\\u54C1\\uFF1A\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 330,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Text, {\n                children: [selectedItems.length, \" \\u4EF6\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 331,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 329,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Row, {\n              justify: \"space-between\",\n              children: [/*#__PURE__*/_jsxDEV(Text, {\n                children: \"\\u5546\\u54C1\\u603B\\u4EF7\\uFF1A\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 335,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Text, {\n                strong: true,\n                style: {\n                  color: '#ff4d4f'\n                },\n                children: [\"\\xA5\", calculateSelectedTotal().toFixed(2)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 336,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 334,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Divider, {\n              style: {\n                margin: '12px 0'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 341,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Row, {\n              justify: \"space-between\",\n              children: [/*#__PURE__*/_jsxDEV(Text, {\n                strong: true,\n                children: \"\\u5E94\\u4ED8\\u603B\\u989D\\uFF1A\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 344,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Text, {\n                strong: true,\n                style: {\n                  color: '#ff4d4f',\n                  fontSize: 18\n                },\n                children: [\"\\xA5\", calculateSelectedTotal().toFixed(2)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 345,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 343,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              type: \"primary\",\n              size: \"large\",\n              block: true,\n              onClick: handleCheckout,\n              disabled: selectedItems.length === 0 || loading,\n              children: [\"\\u7ED3\\u7B97 (\", selectedItems.length, \")\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 350,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 328,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 327,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 326,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 311,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 296,\n    columnNumber: 5\n  }, this);\n};\n_s(CartPage, \"vmtZkem6/CVZnpTt+DssBprKjF4=\", false, function () {\n  return [useNavigate, useDispatch, useSelector];\n});\n_c = CartPage;\nexport default CartPage;\nvar _c;\n$RefreshReg$(_c, \"CartPage\");","map":{"version":3,"names":["React","useEffect","Card","Table","InputNumber","Button","Space","Typography","Image","Empty","Checkbox","Row","Col","Divider","message","Spin","Alert","DeleteOutlined","ShoppingOutlined","useDispatch","useSelector","useNavigate","fetchCartItems","updateCartItemAsync","removeFromCartAsync","clearCartAsync","clearError","jsxDEV","_jsxDEV","Title","Text","CartPage","_s","navigate","dispatch","items","totalAmount","loading","error","currentUserId","state","cart","selectedItems","setSelectedItems","useState","handleQuantityChange","item","quantity","id","userId","cartItemId","unwrap","success","err","console","handleRemoveItem","prev","filter","product","handleClearCart","handleToggleSelection","productId","includes","handleSelectAll","checked","map","handleCheckout","selectedCartItems","length","warning","log","calculateSelectedTotal","reduce","total","price","columns","title","indeterminate","onChange","e","target","children","fileName","_jsxFileName","lineNumber","columnNumber","dataIndex","key","width","render","_","record","height","src","imageUrl","alt","name","style","objectFit","fontWeight","marginBottom","type","fontSize","categoryName","strong","color","min","max","stockQuantity","value","disabled","toFixed","danger","icon","onClick","padding","textAlign","size","marginTop","level","description","action","image","spinning","dataSource","rowKey","pagination","gutter","xs","md","direction","justify","margin","block","_c","$RefreshReg$"],"sources":["D:/招财商城/frontend/src/pages/CartPage.tsx"],"sourcesContent":["import React, { useEffect } from 'react';\r\nimport { \r\n  Card, \r\n  Table, \r\n  InputNumber, \r\n  Button, \r\n  Space, \r\n  Typography, \r\n  Image, \r\n  Empty,\r\n  Checkbox,\r\n  Row,\r\n  Col,\r\n  Divider,\r\n  message,\r\n  Spin,\r\n  Alert\r\n} from 'antd';\r\nimport { DeleteOutlined, ShoppingOutlined } from '@ant-design/icons';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { RootState, AppDispatch } from '../store';\r\nimport { \r\n  fetchCartItems,\r\n  updateCartItemAsync, \r\n  removeFromCartAsync, \r\n  clearCartAsync,\r\n  clearError\r\n} from '../store/slices/cartSlice';\r\n\r\nconst { Title, Text } = Typography;\r\n\r\nconst CartPage: React.FC = () => {\r\n  const navigate = useNavigate();\r\n  const dispatch = useDispatch<AppDispatch>();\r\n  \r\n  const { \r\n    items, \r\n    totalAmount, \r\n    loading, \r\n    error, \r\n    currentUserId \r\n  } = useSelector((state: RootState) => state.cart);\r\n  \r\n  // 本地状态管理选中的商品\r\n  const [selectedItems, setSelectedItems] = React.useState<number[]>([]);\r\n  \r\n  // 组件挂载时获取购物车数据\r\n  useEffect(() => {\r\n    dispatch(fetchCartItems(currentUserId));\r\n  }, [dispatch, currentUserId]);\r\n  \r\n  // 清除错误信息\r\n  useEffect(() => {\r\n    if (error) {\r\n      message.error(error);\r\n      dispatch(clearError());\r\n    }\r\n  }, [error, dispatch]);\r\n  \r\n  // 处理数量变化\r\n  const handleQuantityChange = async (item: any, quantity: number) => {\r\n    if (quantity > 0 && item.id) {\r\n      try {\r\n        await dispatch(updateCartItemAsync({\r\n          userId: currentUserId,\r\n          cartItemId: item.id,\r\n          quantity\r\n        })).unwrap();\r\n        message.success('商品数量已更新');\r\n      } catch (err) {\r\n        console.error('更新数量失败:', err);\r\n      }\r\n    }\r\n  };\r\n  \r\n  // 删除商品\r\n  const handleRemoveItem = async (item: any) => {\r\n    if (item.id) {\r\n      try {\r\n        await dispatch(removeFromCartAsync({\r\n          userId: currentUserId,\r\n          cartItemId: item.id\r\n        })).unwrap();\r\n        message.success('商品已从购物车中移除');\r\n        // 从选中列表中移除\r\n        setSelectedItems(prev => prev.filter(id => id !== item.product.id));\r\n      } catch (err) {\r\n        console.error('删除商品失败:', err);\r\n      }\r\n    }\r\n  };\r\n  \r\n  // 清空购物车\r\n  const handleClearCart = async () => {\r\n    try {\r\n      await dispatch(clearCartAsync(currentUserId)).unwrap();\r\n      message.success('购物车已清空');\r\n      setSelectedItems([]);\r\n    } catch (err) {\r\n      console.error('清空购物车失败:', err);\r\n    }\r\n  };\r\n  \r\n  // 切换商品选择状态\r\n  const handleToggleSelection = (productId: number) => {\r\n    setSelectedItems(prev => \r\n      prev.includes(productId) \r\n        ? prev.filter(id => id !== productId)\r\n        : [...prev, productId]\r\n    );\r\n  };\r\n  \r\n  // 全选/取消全选\r\n  const handleSelectAll = (checked: boolean) => {\r\n    if (checked) {\r\n      setSelectedItems(items.map(item => item.product.id));\r\n    } else {\r\n      setSelectedItems([]);\r\n    }\r\n  };\r\n  \r\n  // 结算\r\n  const handleCheckout = () => {\r\n    const selectedCartItems = items.filter(item => \r\n      selectedItems.includes(item.product.id)\r\n    );\r\n    \r\n    if (selectedCartItems.length === 0) {\r\n      message.warning('请选择要结算的商品');\r\n      return;\r\n    }\r\n    \r\n    // 这里暂时只是模拟跳转到订单页面\r\n    console.log('结算商品:', selectedCartItems);\r\n    message.success('跳转到订单页面（模拟）');\r\n    // navigate('/checkout');\r\n  };\r\n  \r\n  // 计算选中商品的总价\r\n  const calculateSelectedTotal = () => {\r\n    return items\r\n      .filter(item => selectedItems.includes(item.product.id))\r\n      .reduce((total, item) => total + item.product.price * item.quantity, 0);\r\n  };\r\n  \r\n  // 表格列定义\r\n  const columns = [\r\n    {\r\n      title: (\r\n        <Checkbox\r\n          checked={selectedItems.length === items.length && items.length > 0}\r\n          indeterminate={selectedItems.length > 0 && selectedItems.length < items.length}\r\n          onChange={(e) => handleSelectAll(e.target.checked)}\r\n        >\r\n          全选\r\n        </Checkbox>\r\n      ),\r\n      dataIndex: 'selection',\r\n      key: 'selection',\r\n      width: 80,\r\n      render: (_: any, record: any) => (\r\n        <Checkbox\r\n          checked={selectedItems.includes(record.product.id)}\r\n          onChange={() => handleToggleSelection(record.product.id)}\r\n        />\r\n      ),\r\n    },\r\n    {\r\n      title: '商品信息',\r\n      dataIndex: 'product',\r\n      key: 'product',\r\n      width: 300,\r\n      render: (product: any) => (\r\n        <Space>\r\n          <Image\r\n            width={60}\r\n            height={60}\r\n            src={product.imageUrl || 'https://via.placeholder.com/60x60?text=暂无图片'}\r\n            alt={product.name}\r\n            style={{ objectFit: 'cover' }}\r\n          />\r\n          <div>\r\n            <div style={{ fontWeight: 500, marginBottom: 4 }}>\r\n              {product.name}\r\n            </div>\r\n            <Text type=\"secondary\" style={{ fontSize: 12 }}>\r\n              {product.categoryName}\r\n            </Text>\r\n          </div>\r\n        </Space>\r\n      ),\r\n    },\r\n    {\r\n      title: '单价',\r\n      dataIndex: 'product',\r\n      key: 'price',\r\n      width: 120,\r\n      render: (product: any) => (\r\n        <Text strong style={{ color: '#ff4d4f' }}>\r\n          ¥{product.price}\r\n        </Text>\r\n      ),\r\n    },\r\n    {\r\n      title: '数量',\r\n      dataIndex: 'quantity',\r\n      key: 'quantity',\r\n      width: 120,\r\n      render: (quantity: number, record: any) => (\r\n        <InputNumber\r\n          min={1}\r\n          max={record.product.stockQuantity}\r\n          value={quantity}\r\n          onChange={(value) => handleQuantityChange(record, value || 1)}\r\n          style={{ width: 80 }}\r\n          disabled={loading}\r\n        />\r\n      ),\r\n    },\r\n    {\r\n      title: '小计',\r\n      key: 'subtotal',\r\n      width: 120,\r\n      render: (_: any, record: any) => (\r\n        <Text strong style={{ color: '#ff4d4f' }}>\r\n          ¥{(record.product.price * record.quantity).toFixed(2)}\r\n        </Text>\r\n      ),\r\n    },\r\n    {\r\n      title: '操作',\r\n      key: 'action',\r\n      width: 100,\r\n      render: (_: any, record: any) => (\r\n        <Button\r\n          type=\"link\"\r\n          danger\r\n          icon={<DeleteOutlined />}\r\n          onClick={() => handleRemoveItem(record)}\r\n          loading={loading}\r\n        >\r\n          删除\r\n        </Button>\r\n      ),\r\n    },\r\n  ];\r\n  \r\n  // 加载状态\r\n  if (loading && items.length === 0) {\r\n    return (\r\n      <div style={{ padding: '20px', textAlign: 'center' }}>\r\n        <Spin size=\"large\" />\r\n        <div style={{ marginTop: 16 }}>加载购物车数据中...</div>\r\n      </div>\r\n    );\r\n  }\r\n  \r\n  // 错误状态\r\n  if (error && items.length === 0) {\r\n    return (\r\n      <div style={{ padding: '20px' }}>\r\n        <Title level={2}>购物车</Title>\r\n        <Alert\r\n          message=\"加载失败\"\r\n          description={error}\r\n          type=\"error\"\r\n          action={\r\n            <Button onClick={() => dispatch(fetchCartItems(currentUserId))}>\r\n              重试\r\n            </Button>\r\n          }\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n  \r\n  if (items.length === 0) {\r\n    return (\r\n      <div style={{ padding: '20px' }}>\r\n        <Title level={2}>购物车</Title>\r\n        <Empty\r\n          image={<ShoppingOutlined style={{ fontSize: 64, color: '#ccc' }} />}\r\n          description=\"购物车是空的\"\r\n          style={{ padding: '60px 0' }}\r\n        >\r\n          <Button type=\"primary\" onClick={() => navigate('/')}>\r\n            去购物\r\n          </Button>\r\n        </Empty>\r\n      </div>\r\n    );\r\n  }\r\n  \r\n  return (\r\n    <div style={{ padding: '20px' }}>\r\n      <Title level={2}>购物车</Title>\r\n      \r\n      <Spin spinning={loading}>\r\n        <Card style={{ marginBottom: 20 }}>\r\n          <Table\r\n            columns={columns}\r\n            dataSource={items}\r\n            rowKey={(record) => record.id || record.product.id}\r\n            pagination={false}\r\n            size=\"middle\"\r\n          />\r\n        </Card>\r\n      </Spin>\r\n      \r\n      <Row gutter={20}>\r\n        <Col xs={24} md={16}>\r\n          <Space>\r\n            <Button \r\n              onClick={handleClearCart} \r\n              disabled={items.length === 0 || loading}\r\n            >\r\n              清空购物车\r\n            </Button>\r\n            <Button onClick={() => navigate('/')}>\r\n              继续购物\r\n            </Button>\r\n          </Space>\r\n        </Col>\r\n        \r\n        <Col xs={24} md={8}>\r\n          <Card title=\"结算信息\">\r\n            <Space direction=\"vertical\" style={{ width: '100%' }}>\r\n              <Row justify=\"space-between\">\r\n                <Text>已选商品：</Text>\r\n                <Text>{selectedItems.length} 件</Text>\r\n              </Row>\r\n              \r\n              <Row justify=\"space-between\">\r\n                <Text>商品总价：</Text>\r\n                <Text strong style={{ color: '#ff4d4f' }}>\r\n                  ¥{calculateSelectedTotal().toFixed(2)}\r\n                </Text>\r\n              </Row>\r\n              \r\n              <Divider style={{ margin: '12px 0' }} />\r\n              \r\n              <Row justify=\"space-between\">\r\n                <Text strong>应付总额：</Text>\r\n                <Text strong style={{ color: '#ff4d4f', fontSize: 18 }}>\r\n                  ¥{calculateSelectedTotal().toFixed(2)}\r\n                </Text>\r\n              </Row>\r\n              \r\n              <Button \r\n                type=\"primary\" \r\n                size=\"large\" \r\n                block\r\n                onClick={handleCheckout}\r\n                disabled={selectedItems.length === 0 || loading}\r\n              >\r\n                结算 ({selectedItems.length})\r\n              </Button>\r\n            </Space>\r\n          </Card>\r\n        </Col>\r\n      </Row>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CartPage; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}