{"ast":null,"code":"import api from'./api';/**\r\n * 用户服务类\r\n */export class UserService{/**\r\n   * 获取用户信息\r\n   */static async getUserInfo(userId){const response=await api.get(`/api/users/${userId}`);return response.data.data;}/**\r\n   * 获取用户地址列表\r\n   */static async getUserAddresses(userId){const response=await api.get(`/api/users/${userId}/addresses`);return response.data.data;}/**\r\n   * 添加用户地址\r\n   */static async addUserAddress(userId,address){const response=await api.post(`/api/users/${userId}/addresses`,address);return response.data.data;}/**\r\n   * 更新用户地址\r\n   */static async updateUserAddress(userId,addressId,address){const response=await api.put(`/api/users/${userId}/addresses/${addressId}`,address);return response.data.data;}/**\r\n   * 删除用户地址\r\n   */static async deleteUserAddress(userId,addressId){const response=await api.delete(`/api/users/${userId}/addresses/${addressId}`);return response.data.message;}/**\r\n   * 设置默认地址\r\n   */static async setDefaultAddress(userId,addressId){const response=await api.put(`/api/users/${userId}/addresses/${addressId}/default`);return response.data.message;}/**\r\n   * 获取用户积分\r\n   */static async getUserPoints(userId){const response=await api.get(`/api/users/${userId}/points`);return response.data.data;}/**\r\n   * 使用积分\r\n   */static async usePoints(userId,points){const response=await api.post(`/api/users/${userId}/points/use`,{points});return response.data.message;}}","map":{"version":3,"names":["api","UserService","getUserInfo","userId","response","get","data","getUserAddresses","addUserAddress","address","post","updateUserAddress","addressId","put","deleteUserAddress","delete","message","setDefaultAddress","getUserPoints","usePoints","points"],"sources":["D:/luckymall/frontend/src/services/userService.ts"],"sourcesContent":["import api from './api';\r\nimport { ApiResponse, User, UserAddress } from '../types';\r\n\r\n/**\r\n * 用户服务类\r\n */\r\nexport class UserService {\r\n  /**\r\n   * 获取用户信息\r\n   */\r\n  static async getUserInfo(userId: number): Promise<User> {\r\n    const response = await api.get<ApiResponse<User>>(`/api/users/${userId}`);\r\n    return response.data.data;\r\n  }\r\n\r\n  /**\r\n   * 获取用户地址列表\r\n   */\r\n  static async getUserAddresses(userId: number): Promise<UserAddress[]> {\r\n    const response = await api.get<ApiResponse<UserAddress[]>>(`/api/users/${userId}/addresses`);\r\n    return response.data.data;\r\n  }\r\n\r\n  /**\r\n   * 添加用户地址\r\n   */\r\n  static async addUserAddress(userId: number, address: Partial<UserAddress>): Promise<UserAddress> {\r\n    const response = await api.post<ApiResponse<UserAddress>>(`/api/users/${userId}/addresses`, address);\r\n    return response.data.data;\r\n  }\r\n\r\n  /**\r\n   * 更新用户地址\r\n   */\r\n  static async updateUserAddress(userId: number, addressId: number, address: Partial<UserAddress>): Promise<UserAddress> {\r\n    const response = await api.put<ApiResponse<UserAddress>>(`/api/users/${userId}/addresses/${addressId}`, address);\r\n    return response.data.data;\r\n  }\r\n\r\n  /**\r\n   * 删除用户地址\r\n   */\r\n  static async deleteUserAddress(userId: number, addressId: number): Promise<string> {\r\n    const response = await api.delete<ApiResponse<string>>(`/api/users/${userId}/addresses/${addressId}`);\r\n    return response.data.message;\r\n  }\r\n\r\n  /**\r\n   * 设置默认地址\r\n   */\r\n  static async setDefaultAddress(userId: number, addressId: number): Promise<string> {\r\n    const response = await api.put<ApiResponse<string>>(`/api/users/${userId}/addresses/${addressId}/default`);\r\n    return response.data.message;\r\n  }\r\n\r\n  /**\r\n   * 获取用户积分\r\n   */\r\n  static async getUserPoints(userId: number): Promise<number> {\r\n    const response = await api.get<ApiResponse<number>>(`/api/users/${userId}/points`);\r\n    return response.data.data;\r\n  }\r\n\r\n  /**\r\n   * 使用积分\r\n   */\r\n  static async usePoints(userId: number, points: number): Promise<string> {\r\n    const response = await api.post<ApiResponse<string>>(`/api/users/${userId}/points/use`, { points });\r\n    return response.data.message;\r\n  }\r\n} "],"mappings":"AAAA,MAAO,CAAAA,GAAG,KAAM,OAAO,CAGvB;AACA;AACA,GACA,MAAO,MAAM,CAAAC,WAAY,CACvB;AACF;AACA,KACE,YAAa,CAAAC,WAAWA,CAACC,MAAc,CAAiB,CACtD,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAJ,GAAG,CAACK,GAAG,CAAoB,cAAcF,MAAM,EAAE,CAAC,CACzE,MAAO,CAAAC,QAAQ,CAACE,IAAI,CAACA,IAAI,CAC3B,CAEA;AACF;AACA,KACE,YAAa,CAAAC,gBAAgBA,CAACJ,MAAc,CAA0B,CACpE,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAJ,GAAG,CAACK,GAAG,CAA6B,cAAcF,MAAM,YAAY,CAAC,CAC5F,MAAO,CAAAC,QAAQ,CAACE,IAAI,CAACA,IAAI,CAC3B,CAEA;AACF;AACA,KACE,YAAa,CAAAE,cAAcA,CAACL,MAAc,CAAEM,OAA6B,CAAwB,CAC/F,KAAM,CAAAL,QAAQ,CAAG,KAAM,CAAAJ,GAAG,CAACU,IAAI,CAA2B,cAAcP,MAAM,YAAY,CAAEM,OAAO,CAAC,CACpG,MAAO,CAAAL,QAAQ,CAACE,IAAI,CAACA,IAAI,CAC3B,CAEA;AACF;AACA,KACE,YAAa,CAAAK,iBAAiBA,CAACR,MAAc,CAAES,SAAiB,CAAEH,OAA6B,CAAwB,CACrH,KAAM,CAAAL,QAAQ,CAAG,KAAM,CAAAJ,GAAG,CAACa,GAAG,CAA2B,cAAcV,MAAM,cAAcS,SAAS,EAAE,CAAEH,OAAO,CAAC,CAChH,MAAO,CAAAL,QAAQ,CAACE,IAAI,CAACA,IAAI,CAC3B,CAEA;AACF;AACA,KACE,YAAa,CAAAQ,iBAAiBA,CAACX,MAAc,CAAES,SAAiB,CAAmB,CACjF,KAAM,CAAAR,QAAQ,CAAG,KAAM,CAAAJ,GAAG,CAACe,MAAM,CAAsB,cAAcZ,MAAM,cAAcS,SAAS,EAAE,CAAC,CACrG,MAAO,CAAAR,QAAQ,CAACE,IAAI,CAACU,OAAO,CAC9B,CAEA;AACF;AACA,KACE,YAAa,CAAAC,iBAAiBA,CAACd,MAAc,CAAES,SAAiB,CAAmB,CACjF,KAAM,CAAAR,QAAQ,CAAG,KAAM,CAAAJ,GAAG,CAACa,GAAG,CAAsB,cAAcV,MAAM,cAAcS,SAAS,UAAU,CAAC,CAC1G,MAAO,CAAAR,QAAQ,CAACE,IAAI,CAACU,OAAO,CAC9B,CAEA;AACF;AACA,KACE,YAAa,CAAAE,aAAaA,CAACf,MAAc,CAAmB,CAC1D,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAJ,GAAG,CAACK,GAAG,CAAsB,cAAcF,MAAM,SAAS,CAAC,CAClF,MAAO,CAAAC,QAAQ,CAACE,IAAI,CAACA,IAAI,CAC3B,CAEA;AACF;AACA,KACE,YAAa,CAAAa,SAASA,CAAChB,MAAc,CAAEiB,MAAc,CAAmB,CACtE,KAAM,CAAAhB,QAAQ,CAAG,KAAM,CAAAJ,GAAG,CAACU,IAAI,CAAsB,cAAcP,MAAM,aAAa,CAAE,CAAEiB,MAAO,CAAC,CAAC,CACnG,MAAO,CAAAhB,QAAQ,CAACE,IAAI,CAACU,OAAO,CAC9B,CACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}