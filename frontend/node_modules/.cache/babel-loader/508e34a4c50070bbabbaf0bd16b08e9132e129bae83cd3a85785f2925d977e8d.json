{"ast":null,"code":"import api from'./api';/**\r\n * 订单请求参数\r\n *//**\r\n * 订单响应\r\n *//**\r\n * 订单服务类\r\n */export class OrderService{/**\r\n   * 创建订单\r\n   */static async createOrder(userId,request){const response=await api.post(`/api/orders/${userId}`,request);return response.data.data;}/**\r\n   * 根据ID查询订单\r\n   */static async getOrderById(orderId){const response=await api.get(`/api/orders/${orderId}`);return response.data.data;}/**\r\n   * 根据订单号查询订单\r\n   */static async getOrderByOrderNo(orderNo){const response=await api.get(`/api/orders/no/${orderNo}`);return response.data.data;}/**\r\n   * 根据用户ID查询订单列表\r\n   */static async getOrdersByUserId(userId){const response=await api.get(`/api/orders/user/${userId}`);return response.data.data;}/**\r\n   * 根据用户ID和状态查询订单列表\r\n   */static async getOrdersByUserIdAndStatus(userId,orderStatus){const response=await api.get(`/api/orders/user/${userId}/status/${orderStatus}`);return response.data.data;}/**\r\n   * 取消订单\r\n   */static async cancelOrder(orderId,userId){const response=await api.post(`/api/orders/${orderId}/cancel`,null,{params:{userId}});return response.data.message;}/**\r\n   * 确认收货\r\n   */static async confirmReceive(orderId,userId){const response=await api.post(`/api/orders/${orderId}/confirm`,null,{params:{userId}});return response.data.message;}/**\r\n   * 支付订单\r\n   */static async payOrder(orderId,userId){const response=await api.post(`/api/orders/${orderId}/pay`,null,{params:{userId}});return response.data.message;}}","map":{"version":3,"names":["api","OrderService","createOrder","userId","request","response","post","data","getOrderById","orderId","get","getOrderByOrderNo","orderNo","getOrdersByUserId","getOrdersByUserIdAndStatus","orderStatus","cancelOrder","params","message","confirmReceive","payOrder"],"sources":["D:/luckymall/frontend/src/services/orderService.ts"],"sourcesContent":["import api from './api';\r\nimport { ApiResponse, Order } from '../types';\r\n\r\n/**\r\n * 订单请求参数\r\n */\r\nexport interface CreateOrderRequest {\r\n  cartItemIds: number[];\r\n  addressId: number;\r\n  paymentMethod: string;\r\n  creditCardId?: number;\r\n  installmentPlanId?: number;\r\n  couponId?: number;\r\n  pointsUsed?: number;\r\n  expectedAmount: number;\r\n  remark?: string;\r\n}\r\n\r\n/**\r\n * 订单响应\r\n */\r\nexport interface CreateOrderResponse {\r\n  orderId: number;\r\n  orderNo: string;\r\n  totalAmount: number;\r\n  actualAmount: number;\r\n  isInstallment: boolean;\r\n  installmentCount?: number;\r\n  monthlyAmount?: number;\r\n  paymentMethod: string;\r\n  receiverAddress: string;\r\n}\r\n\r\n/**\r\n * 订单服务类\r\n */\r\nexport class OrderService {\r\n  /**\r\n   * 创建订单\r\n   */\r\n  static async createOrder(userId: number, request: CreateOrderRequest): Promise<CreateOrderResponse> {\r\n    const response = await api.post<ApiResponse<CreateOrderResponse>>(`/api/orders/${userId}`, request);\r\n    return response.data.data;\r\n  }\r\n\r\n  /**\r\n   * 根据ID查询订单\r\n   */\r\n  static async getOrderById(orderId: number): Promise<Order> {\r\n    const response = await api.get<ApiResponse<Order>>(`/api/orders/${orderId}`);\r\n    return response.data.data;\r\n  }\r\n\r\n  /**\r\n   * 根据订单号查询订单\r\n   */\r\n  static async getOrderByOrderNo(orderNo: string): Promise<Order> {\r\n    const response = await api.get<ApiResponse<Order>>(`/api/orders/no/${orderNo}`);\r\n    return response.data.data;\r\n  }\r\n\r\n  /**\r\n   * 根据用户ID查询订单列表\r\n   */\r\n  static async getOrdersByUserId(userId: number): Promise<Order[]> {\r\n    const response = await api.get<ApiResponse<Order[]>>(`/api/orders/user/${userId}`);\r\n    return response.data.data;\r\n  }\r\n\r\n  /**\r\n   * 根据用户ID和状态查询订单列表\r\n   */\r\n  static async getOrdersByUserIdAndStatus(userId: number, orderStatus: string): Promise<Order[]> {\r\n    const response = await api.get<ApiResponse<Order[]>>(`/api/orders/user/${userId}/status/${orderStatus}`);\r\n    return response.data.data;\r\n  }\r\n\r\n  /**\r\n   * 取消订单\r\n   */\r\n  static async cancelOrder(orderId: number, userId: number): Promise<string> {\r\n    const response = await api.post<ApiResponse<string>>(`/api/orders/${orderId}/cancel`, null, {\r\n      params: { userId }\r\n    });\r\n    return response.data.message;\r\n  }\r\n\r\n  /**\r\n   * 确认收货\r\n   */\r\n  static async confirmReceive(orderId: number, userId: number): Promise<string> {\r\n    const response = await api.post<ApiResponse<string>>(`/api/orders/${orderId}/confirm`, null, {\r\n      params: { userId }\r\n    });\r\n    return response.data.message;\r\n  }\r\n\r\n  /**\r\n   * 支付订单\r\n   */\r\n  static async payOrder(orderId: number, userId: number): Promise<string> {\r\n    const response = await api.post<ApiResponse<string>>(`/api/orders/${orderId}/pay`, null, {\r\n      params: { userId }\r\n    });\r\n    return response.data.message;\r\n  }\r\n} "],"mappings":"AAAA,MAAO,CAAAA,GAAG,KAAM,OAAO,CAGvB;AACA;AACA,GAaA;AACA;AACA,GAaA;AACA;AACA,GACA,MAAO,MAAM,CAAAC,YAAa,CACxB;AACF;AACA,KACE,YAAa,CAAAC,WAAWA,CAACC,MAAc,CAAEC,OAA2B,CAAgC,CAClG,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAL,GAAG,CAACM,IAAI,CAAmC,eAAeH,MAAM,EAAE,CAAEC,OAAO,CAAC,CACnG,MAAO,CAAAC,QAAQ,CAACE,IAAI,CAACA,IAAI,CAC3B,CAEA;AACF;AACA,KACE,YAAa,CAAAC,YAAYA,CAACC,OAAe,CAAkB,CACzD,KAAM,CAAAJ,QAAQ,CAAG,KAAM,CAAAL,GAAG,CAACU,GAAG,CAAqB,eAAeD,OAAO,EAAE,CAAC,CAC5E,MAAO,CAAAJ,QAAQ,CAACE,IAAI,CAACA,IAAI,CAC3B,CAEA;AACF;AACA,KACE,YAAa,CAAAI,iBAAiBA,CAACC,OAAe,CAAkB,CAC9D,KAAM,CAAAP,QAAQ,CAAG,KAAM,CAAAL,GAAG,CAACU,GAAG,CAAqB,kBAAkBE,OAAO,EAAE,CAAC,CAC/E,MAAO,CAAAP,QAAQ,CAACE,IAAI,CAACA,IAAI,CAC3B,CAEA;AACF;AACA,KACE,YAAa,CAAAM,iBAAiBA,CAACV,MAAc,CAAoB,CAC/D,KAAM,CAAAE,QAAQ,CAAG,KAAM,CAAAL,GAAG,CAACU,GAAG,CAAuB,oBAAoBP,MAAM,EAAE,CAAC,CAClF,MAAO,CAAAE,QAAQ,CAACE,IAAI,CAACA,IAAI,CAC3B,CAEA;AACF;AACA,KACE,YAAa,CAAAO,0BAA0BA,CAACX,MAAc,CAAEY,WAAmB,CAAoB,CAC7F,KAAM,CAAAV,QAAQ,CAAG,KAAM,CAAAL,GAAG,CAACU,GAAG,CAAuB,oBAAoBP,MAAM,WAAWY,WAAW,EAAE,CAAC,CACxG,MAAO,CAAAV,QAAQ,CAACE,IAAI,CAACA,IAAI,CAC3B,CAEA;AACF;AACA,KACE,YAAa,CAAAS,WAAWA,CAACP,OAAe,CAAEN,MAAc,CAAmB,CACzE,KAAM,CAAAE,QAAQ,CAAG,KAAM,CAAAL,GAAG,CAACM,IAAI,CAAsB,eAAeG,OAAO,SAAS,CAAE,IAAI,CAAE,CAC1FQ,MAAM,CAAE,CAAEd,MAAO,CACnB,CAAC,CAAC,CACF,MAAO,CAAAE,QAAQ,CAACE,IAAI,CAACW,OAAO,CAC9B,CAEA;AACF;AACA,KACE,YAAa,CAAAC,cAAcA,CAACV,OAAe,CAAEN,MAAc,CAAmB,CAC5E,KAAM,CAAAE,QAAQ,CAAG,KAAM,CAAAL,GAAG,CAACM,IAAI,CAAsB,eAAeG,OAAO,UAAU,CAAE,IAAI,CAAE,CAC3FQ,MAAM,CAAE,CAAEd,MAAO,CACnB,CAAC,CAAC,CACF,MAAO,CAAAE,QAAQ,CAACE,IAAI,CAACW,OAAO,CAC9B,CAEA;AACF;AACA,KACE,YAAa,CAAAE,QAAQA,CAACX,OAAe,CAAEN,MAAc,CAAmB,CACtE,KAAM,CAAAE,QAAQ,CAAG,KAAM,CAAAL,GAAG,CAACM,IAAI,CAAsB,eAAeG,OAAO,MAAM,CAAE,IAAI,CAAE,CACvFQ,MAAM,CAAE,CAAEd,MAAO,CACnB,CAAC,CAAC,CACF,MAAO,CAAAE,QAAQ,CAACE,IAAI,CAACW,OAAO,CAC9B,CACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}