{"ast":null,"code":"import api from './api';\n/**\r\n * 用户服务类\r\n */\nexport class UserService {\n  /**\r\n   * 获取用户信息\r\n   */\n  static async getUserInfo(userId) {\n    const response = await api.get(`/api/users/${userId}`);\n    return response.data.data;\n  }\n\n  /**\r\n   * 获取用户地址列表\r\n   */\n  static async getUserAddresses(userId) {\n    const response = await api.get(`/api/users/${userId}/addresses`);\n    return response.data.data;\n  }\n\n  /**\r\n   * 添加用户地址\r\n   */\n  static async addUserAddress(userId, address) {\n    const response = await api.post(`/api/users/${userId}/addresses`, address);\n    return response.data.data;\n  }\n\n  /**\r\n   * 更新用户地址\r\n   */\n  static async updateUserAddress(userId, addressId, address) {\n    const response = await api.put(`/api/users/${userId}/addresses/${addressId}`, address);\n    return response.data.data;\n  }\n\n  /**\r\n   * 删除用户地址\r\n   */\n  static async deleteUserAddress(userId, addressId) {\n    const response = await api.delete(`/api/users/${userId}/addresses/${addressId}`);\n    return response.data.message;\n  }\n\n  /**\r\n   * 设置默认地址\r\n   */\n  static async setDefaultAddress(userId, addressId) {\n    const response = await api.put(`/api/users/${userId}/addresses/${addressId}/default`);\n    return response.data.message;\n  }\n\n  /**\r\n   * 获取用户积分\r\n   */\n  static async getUserPoints(userId) {\n    const response = await api.get(`/api/users/${userId}/points`);\n    return response.data.data;\n  }\n\n  /**\r\n   * 使用积分\r\n   */\n  static async usePoints(userId, points) {\n    const response = await api.post(`/api/users/${userId}/points/use`, {\n      points\n    });\n    return response.data.message;\n  }\n}","map":{"version":3,"names":["api","UserService","getUserInfo","userId","response","get","data","getUserAddresses","addUserAddress","address","post","updateUserAddress","addressId","put","deleteUserAddress","delete","message","setDefaultAddress","getUserPoints","usePoints","points"],"sources":["D:/luckymall/frontend/src/services/userService.ts"],"sourcesContent":["import api from './api';\r\nimport { ApiResponse, User, UserAddress } from '../types';\r\n\r\n/**\r\n * 用户服务类\r\n */\r\nexport class UserService {\r\n  /**\r\n   * 获取用户信息\r\n   */\r\n  static async getUserInfo(userId: number): Promise<User> {\r\n    const response = await api.get<ApiResponse<User>>(`/api/users/${userId}`);\r\n    return response.data.data;\r\n  }\r\n\r\n  /**\r\n   * 获取用户地址列表\r\n   */\r\n  static async getUserAddresses(userId: number): Promise<UserAddress[]> {\r\n    const response = await api.get<ApiResponse<UserAddress[]>>(`/api/users/${userId}/addresses`);\r\n    return response.data.data;\r\n  }\r\n\r\n  /**\r\n   * 添加用户地址\r\n   */\r\n  static async addUserAddress(userId: number, address: Partial<UserAddress>): Promise<UserAddress> {\r\n    const response = await api.post<ApiResponse<UserAddress>>(`/api/users/${userId}/addresses`, address);\r\n    return response.data.data;\r\n  }\r\n\r\n  /**\r\n   * 更新用户地址\r\n   */\r\n  static async updateUserAddress(userId: number, addressId: number, address: Partial<UserAddress>): Promise<UserAddress> {\r\n    const response = await api.put<ApiResponse<UserAddress>>(`/api/users/${userId}/addresses/${addressId}`, address);\r\n    return response.data.data;\r\n  }\r\n\r\n  /**\r\n   * 删除用户地址\r\n   */\r\n  static async deleteUserAddress(userId: number, addressId: number): Promise<string> {\r\n    const response = await api.delete<ApiResponse<string>>(`/api/users/${userId}/addresses/${addressId}`);\r\n    return response.data.message;\r\n  }\r\n\r\n  /**\r\n   * 设置默认地址\r\n   */\r\n  static async setDefaultAddress(userId: number, addressId: number): Promise<string> {\r\n    const response = await api.put<ApiResponse<string>>(`/api/users/${userId}/addresses/${addressId}/default`);\r\n    return response.data.message;\r\n  }\r\n\r\n  /**\r\n   * 获取用户积分\r\n   */\r\n  static async getUserPoints(userId: number): Promise<number> {\r\n    const response = await api.get<ApiResponse<number>>(`/api/users/${userId}/points`);\r\n    return response.data.data;\r\n  }\r\n\r\n  /**\r\n   * 使用积分\r\n   */\r\n  static async usePoints(userId: number, points: number): Promise<string> {\r\n    const response = await api.post<ApiResponse<string>>(`/api/users/${userId}/points/use`, { points });\r\n    return response.data.message;\r\n  }\r\n} "],"mappings":"AAAA,OAAOA,GAAG,MAAM,OAAO;AAGvB;AACA;AACA;AACA,OAAO,MAAMC,WAAW,CAAC;EACvB;AACF;AACA;EACE,aAAaC,WAAWA,CAACC,MAAc,EAAiB;IACtD,MAAMC,QAAQ,GAAG,MAAMJ,GAAG,CAACK,GAAG,CAAoB,cAAcF,MAAM,EAAE,CAAC;IACzE,OAAOC,QAAQ,CAACE,IAAI,CAACA,IAAI;EAC3B;;EAEA;AACF;AACA;EACE,aAAaC,gBAAgBA,CAACJ,MAAc,EAA0B;IACpE,MAAMC,QAAQ,GAAG,MAAMJ,GAAG,CAACK,GAAG,CAA6B,cAAcF,MAAM,YAAY,CAAC;IAC5F,OAAOC,QAAQ,CAACE,IAAI,CAACA,IAAI;EAC3B;;EAEA;AACF;AACA;EACE,aAAaE,cAAcA,CAACL,MAAc,EAAEM,OAA6B,EAAwB;IAC/F,MAAML,QAAQ,GAAG,MAAMJ,GAAG,CAACU,IAAI,CAA2B,cAAcP,MAAM,YAAY,EAAEM,OAAO,CAAC;IACpG,OAAOL,QAAQ,CAACE,IAAI,CAACA,IAAI;EAC3B;;EAEA;AACF;AACA;EACE,aAAaK,iBAAiBA,CAACR,MAAc,EAAES,SAAiB,EAAEH,OAA6B,EAAwB;IACrH,MAAML,QAAQ,GAAG,MAAMJ,GAAG,CAACa,GAAG,CAA2B,cAAcV,MAAM,cAAcS,SAAS,EAAE,EAAEH,OAAO,CAAC;IAChH,OAAOL,QAAQ,CAACE,IAAI,CAACA,IAAI;EAC3B;;EAEA;AACF;AACA;EACE,aAAaQ,iBAAiBA,CAACX,MAAc,EAAES,SAAiB,EAAmB;IACjF,MAAMR,QAAQ,GAAG,MAAMJ,GAAG,CAACe,MAAM,CAAsB,cAAcZ,MAAM,cAAcS,SAAS,EAAE,CAAC;IACrG,OAAOR,QAAQ,CAACE,IAAI,CAACU,OAAO;EAC9B;;EAEA;AACF;AACA;EACE,aAAaC,iBAAiBA,CAACd,MAAc,EAAES,SAAiB,EAAmB;IACjF,MAAMR,QAAQ,GAAG,MAAMJ,GAAG,CAACa,GAAG,CAAsB,cAAcV,MAAM,cAAcS,SAAS,UAAU,CAAC;IAC1G,OAAOR,QAAQ,CAACE,IAAI,CAACU,OAAO;EAC9B;;EAEA;AACF;AACA;EACE,aAAaE,aAAaA,CAACf,MAAc,EAAmB;IAC1D,MAAMC,QAAQ,GAAG,MAAMJ,GAAG,CAACK,GAAG,CAAsB,cAAcF,MAAM,SAAS,CAAC;IAClF,OAAOC,QAAQ,CAACE,IAAI,CAACA,IAAI;EAC3B;;EAEA;AACF;AACA;EACE,aAAaa,SAASA,CAAChB,MAAc,EAAEiB,MAAc,EAAmB;IACtE,MAAMhB,QAAQ,GAAG,MAAMJ,GAAG,CAACU,IAAI,CAAsB,cAAcP,MAAM,aAAa,EAAE;MAAEiB;IAAO,CAAC,CAAC;IACnG,OAAOhB,QAAQ,CAACE,IAAI,CAACU,OAAO;EAC9B;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}