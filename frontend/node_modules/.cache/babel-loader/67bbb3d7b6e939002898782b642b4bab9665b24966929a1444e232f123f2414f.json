{"ast":null,"code":"import React,{useEffect,useState}from'react';import{Card,Row,Col,Pagination,Spin,Alert,Select,Button,Space,Typography,Image,Tag,InputNumber,Rate,Drawer,Tabs,Cascader,Badge,Tooltip}from'antd';import{ShoppingCartOutlined,EyeOutlined,HeartOutlined,FireOutlined,StarOutlined,FilterOutlined}from'@ant-design/icons';import{useDispatch,useSelector}from'react-redux';import{useNavigate}from'react-router-dom';import{fetchProducts,setFilters,clearFilters}from'../store/slices/productSlice';import{fetchAllCategories}from'../store/slices/categorySlice';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const{Title,Text,Paragraph}=Typography;const{Option}=Select;const{TabPane}=Tabs;const ProductList=()=>{const dispatch=useDispatch();const navigate=useNavigate();const{products,total,current,size,loading,error,filters}=useSelector(state=>state.products);const{allCategories}=useSelector(state=>state.categories);// 新增状态\nconst[previewVisible,setPreviewVisible]=useState(false);const[previewProduct,setPreviewProduct]=useState(null);const[categoryOptions,setCategoryOptions]=useState([]);useEffect(()=>{// 初始化时获取商品列表和分类\ndispatch(fetchProducts({current:1,size:12}));dispatch(fetchAllCategories());},[dispatch]);// 处理分类数据，转换为级联选择器格式\nuseEffect(()=>{if(allCategories.length>0){const topCategories=allCategories.filter(c=>!c.parentId);const options=topCategories.map(top=>({value:top.id,label:top.name,children:allCategories.filter(c=>c.parentId===top.id).map(sub=>({value:sub.id,label:sub.name}))}));setCategoryOptions(options);}},[allCategories]);// 处理分页变化\nconst handlePageChange=(page,pageSize)=>{dispatch(fetchProducts({current:page,size:pageSize||size,...filters}));};// 处理分类筛选\nconst handleCategoryChange=categoryId=>{const newFilters={...filters,categoryId};dispatch(setFilters(newFilters));dispatch(fetchProducts({current:1,size,...newFilters}));};// 处理价格筛选\nconst handleMinPriceChange=value=>{const newFilters={...filters,minPrice:value||undefined};dispatch(setFilters(newFilters));dispatch(fetchProducts({current:1,size,...newFilters}));};const handleMaxPriceChange=value=>{const newFilters={...filters,maxPrice:value||undefined};dispatch(setFilters(newFilters));dispatch(fetchProducts({current:1,size,...newFilters}));};// 处理排序变化\nconst handleSortChange=sortBy=>{const newFilters={...filters,sortBy};dispatch(setFilters(newFilters));dispatch(fetchProducts({current:1,size,...newFilters}));};// 清除所有筛选条件\nconst handleClearFilters=()=>{dispatch(clearFilters());dispatch(fetchProducts({current:1,size}));};// 跳转到商品详情页\nconst handleProductClick=productId=>{navigate(`/product/${productId}`);};// 商品快速预览\nconst handlePreview=(e,product)=>{e.stopPropagation();setPreviewProduct(product);setPreviewVisible(true);};// 关闭预览\nconst handleClosePreview=()=>{setPreviewVisible(false);setPreviewProduct(null);};// 渲染商品卡片\nconst renderProductCard=product=>/*#__PURE__*/_jsx(Col,{xs:24,sm:12,md:8,lg:6,children:/*#__PURE__*/_jsx(Badge.Ribbon,{text:product.salesCount>100?\"热销\":\"\",color:\"red\",style:{display:product.salesCount>100?'block':'none'},children:/*#__PURE__*/_jsx(Card,{hoverable:true,style:{marginBottom:16},onClick:()=>handleProductClick(product.id),cover:/*#__PURE__*/_jsxs(\"div\",{style:{position:'relative'},children:[/*#__PURE__*/_jsx(Image,{alt:product.name,src:product.imageUrl||'https://via.placeholder.com/300x300?text=暂无图片',height:200,style:{objectFit:'cover'},preview:false}),/*#__PURE__*/_jsx(\"div\",{style:{position:'absolute',top:8,right:8,background:'rgba(255,255,255,0.8)',borderRadius:'50%',width:32,height:32,display:'flex',alignItems:'center',justifyContent:'center',cursor:'pointer'},onClick:e=>handlePreview(e,product),children:/*#__PURE__*/_jsx(EyeOutlined,{style:{fontSize:18}})})]}),actions:[/*#__PURE__*/_jsx(Tooltip,{title:\"\\u67E5\\u770B\\u8BE6\\u60C5\",children:/*#__PURE__*/_jsx(Button,{type:\"text\",icon:/*#__PURE__*/_jsx(EyeOutlined,{}),onClick:e=>{e.stopPropagation();handleProductClick(product.id);}})}),/*#__PURE__*/_jsx(Tooltip,{title:\"\\u52A0\\u5165\\u8D2D\\u7269\\u8F66\",children:/*#__PURE__*/_jsx(Button,{type:\"text\",icon:/*#__PURE__*/_jsx(ShoppingCartOutlined,{}),onClick:e=>e.stopPropagation()})}),/*#__PURE__*/_jsx(Tooltip,{title:\"\\u6536\\u85CF\",children:/*#__PURE__*/_jsx(Button,{type:\"text\",icon:/*#__PURE__*/_jsx(HeartOutlined,{}),onClick:e=>e.stopPropagation()})})],children:/*#__PURE__*/_jsx(Card.Meta,{title:/*#__PURE__*/_jsx(\"div\",{style:{height:44,overflow:'hidden'},children:/*#__PURE__*/_jsx(Text,{ellipsis:{tooltip:product.name},children:product.name})}),description:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{style:{marginBottom:8},children:/*#__PURE__*/_jsxs(Text,{strong:true,style:{color:'#ff4d4f',fontSize:18},children:[\"\\xA5\",product.price]})}),/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:4,display:'flex',alignItems:'center'},children:[/*#__PURE__*/_jsx(Rate,{allowHalf:true,defaultValue:product.rating||5,disabled:true,style:{fontSize:12}}),/*#__PURE__*/_jsxs(Text,{type:\"secondary\",style:{marginLeft:8},children:[\"(\",product.reviewCount||0,\")\"]})]}),/*#__PURE__*/_jsx(\"div\",{style:{marginBottom:4},children:/*#__PURE__*/_jsxs(Text,{type:\"secondary\",children:[\"\\u9500\\u91CF: \",product.salesCount]})}),product.categoryName&&/*#__PURE__*/_jsx(Tag,{color:\"blue\",children:product.categoryName})]})})})})},product.id);// 商品快速预览抽屉\nconst renderPreviewDrawer=()=>/*#__PURE__*/_jsx(Drawer,{title:\"\\u5546\\u54C1\\u9884\\u89C8\",placement:\"right\",width:500,onClose:handleClosePreview,open:previewVisible,extra:/*#__PURE__*/_jsxs(Space,{children:[/*#__PURE__*/_jsx(Button,{onClick:handleClosePreview,children:\"\\u5173\\u95ED\"}),/*#__PURE__*/_jsx(Button,{type:\"primary\",onClick:()=>{handleClosePreview();if(previewProduct){handleProductClick(previewProduct.id);}},children:\"\\u67E5\\u770B\\u8BE6\\u60C5\"})]}),children:previewProduct&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Image,{src:previewProduct.imageUrl||'https://via.placeholder.com/400x400?text=暂无图片',alt:previewProduct.name,width:\"100%\"}),/*#__PURE__*/_jsx(Title,{level:4,style:{marginTop:16},children:previewProduct.name}),/*#__PURE__*/_jsx(\"div\",{style:{marginBottom:16},children:/*#__PURE__*/_jsxs(Text,{strong:true,style:{color:'#ff4d4f',fontSize:24},children:[\"\\xA5\",previewProduct.price]})}),/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:16},children:[/*#__PURE__*/_jsx(Rate,{allowHalf:true,defaultValue:previewProduct.rating||5,disabled:true}),/*#__PURE__*/_jsxs(Text,{type:\"secondary\",style:{marginLeft:8},children:[\"(\",previewProduct.reviewCount||0,\"\\u8BC4\\u4EF7)\"]})]}),/*#__PURE__*/_jsx(Paragraph,{ellipsis:{rows:3},children:previewProduct.description||'暂无商品描述'}),/*#__PURE__*/_jsx(\"div\",{style:{marginTop:16},children:/*#__PURE__*/_jsxs(Space,{children:[/*#__PURE__*/_jsx(Button,{type:\"primary\",icon:/*#__PURE__*/_jsx(ShoppingCartOutlined,{}),children:\"\\u52A0\\u5165\\u8D2D\\u7269\\u8F66\"}),/*#__PURE__*/_jsx(Button,{icon:/*#__PURE__*/_jsx(HeartOutlined,{}),children:\"\\u6536\\u85CF\"})]})})]})});if(error){return/*#__PURE__*/_jsx(Alert,{message:\"\\u52A0\\u8F7D\\u5931\\u8D25\",description:error,type:\"error\",showIcon:true,action:/*#__PURE__*/_jsx(Button,{size:\"small\",danger:true,onClick:()=>dispatch(fetchProducts({current:1,size})),children:\"\\u91CD\\u8BD5\"})});}return/*#__PURE__*/_jsxs(\"div\",{style:{padding:'20px'},children:[/*#__PURE__*/_jsx(Title,{level:2,children:\"\\u5546\\u54C1\\u5217\\u8868\"}),/*#__PURE__*/_jsx(Card,{style:{marginBottom:20},children:/*#__PURE__*/_jsxs(Tabs,{defaultActiveKey:\"filter\",children:[/*#__PURE__*/_jsx(TabPane,{tab:/*#__PURE__*/_jsxs(\"span\",{children:[/*#__PURE__*/_jsx(FilterOutlined,{}),\"\\u7B5B\\u9009\"]}),children:/*#__PURE__*/_jsxs(Space,{direction:\"vertical\",size:\"middle\",style:{width:'100%'},children:[/*#__PURE__*/_jsxs(Space,{wrap:true,children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Text,{strong:true,children:\"\\u5206\\u7C7B\\u7B5B\\u9009\\uFF1A\"}),/*#__PURE__*/_jsx(Cascader,{options:categoryOptions,placeholder:\"\\u9009\\u62E9\\u5206\\u7C7B\",style:{width:300,marginLeft:8},onChange:value=>handleCategoryChange(value?value[value.length-1]:undefined),changeOnSelect:true})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Text,{strong:true,children:\"\\u6392\\u5E8F\\u65B9\\u5F0F\\uFF1A\"}),/*#__PURE__*/_jsxs(Select,{style:{width:150,marginLeft:8},placeholder:\"\\u9009\\u62E9\\u6392\\u5E8F\",value:filters.sortBy,onChange:handleSortChange,children:[/*#__PURE__*/_jsx(Option,{value:\"price_asc\",children:\"\\u4EF7\\u683C\\u4ECE\\u4F4E\\u5230\\u9AD8\"}),/*#__PURE__*/_jsx(Option,{value:\"price_desc\",children:\"\\u4EF7\\u683C\\u4ECE\\u9AD8\\u5230\\u4F4E\"}),/*#__PURE__*/_jsx(Option,{value:\"sales_desc\",children:\"\\u9500\\u91CF\\u4ECE\\u9AD8\\u5230\\u4F4E\"}),/*#__PURE__*/_jsx(Option,{value:\"rating_desc\",children:\"\\u8BC4\\u5206\\u4ECE\\u9AD8\\u5230\\u4F4E\"}),/*#__PURE__*/_jsx(Option,{value:\"created_desc\",children:\"\\u6700\\u65B0\\u53D1\\u5E03\"})]})]}),/*#__PURE__*/_jsx(Button,{onClick:handleClearFilters,children:\"\\u6E05\\u9664\\u7B5B\\u9009\"})]}),/*#__PURE__*/_jsxs(Space,{wrap:true,children:[/*#__PURE__*/_jsx(Text,{strong:true,children:\"\\u4EF7\\u683C\\u8303\\u56F4\\uFF1A\"}),/*#__PURE__*/_jsx(InputNumber,{placeholder:\"\\u6700\\u4F4E\\u4EF7\\u683C\",style:{width:120},min:0,value:filters.minPrice,onChange:handleMinPriceChange}),/*#__PURE__*/_jsx(Text,{children:\"\\u81F3\"}),/*#__PURE__*/_jsx(InputNumber,{placeholder:\"\\u6700\\u9AD8\\u4EF7\\u683C\",style:{width:120},min:0,value:filters.maxPrice,onChange:handleMaxPriceChange})]})]})},\"filter\"),/*#__PURE__*/_jsx(TabPane,{tab:/*#__PURE__*/_jsxs(\"span\",{children:[/*#__PURE__*/_jsx(FireOutlined,{}),\"\\u70ED\\u9500\"]}),children:/*#__PURE__*/_jsx(Button,{type:\"link\",onClick:()=>{dispatch(setFilters({sortBy:'sales_desc'}));dispatch(fetchProducts({current:1,size,sortBy:'sales_desc'}));},children:\"\\u67E5\\u770B\\u70ED\\u9500\\u5546\\u54C1\"})},\"hot\"),/*#__PURE__*/_jsx(TabPane,{tab:/*#__PURE__*/_jsxs(\"span\",{children:[/*#__PURE__*/_jsx(StarOutlined,{}),\"\\u597D\\u8BC4\"]}),children:/*#__PURE__*/_jsx(Button,{type:\"link\",onClick:()=>{dispatch(setFilters({sortBy:'rating_desc'}));dispatch(fetchProducts({current:1,size,sortBy:'rating_desc'}));},children:\"\\u67E5\\u770B\\u597D\\u8BC4\\u5546\\u54C1\"})},\"rated\")]})}),/*#__PURE__*/_jsxs(Spin,{spinning:loading,children:[/*#__PURE__*/_jsx(Row,{gutter:[16,16],children:products.map(renderProductCard)}),products.length===0&&!loading&&/*#__PURE__*/_jsx(\"div\",{style:{textAlign:'center',padding:'40px 0'},children:/*#__PURE__*/_jsx(Text,{type:\"secondary\",children:\"\\u6682\\u65E0\\u5546\\u54C1\\u6570\\u636E\"})})]}),total>0&&/*#__PURE__*/_jsx(\"div\",{style:{textAlign:'center',marginTop:32},children:/*#__PURE__*/_jsx(Pagination,{current:current,total:total,pageSize:size,showSizeChanger:true,showQuickJumper:true,showTotal:(total,range)=>`第 ${range[0]}-${range[1]} 条，共 ${total} 条`,onChange:handlePageChange,onShowSizeChange:handlePageChange})}),renderPreviewDrawer()]});};export default ProductList;","map":{"version":3,"names":["React","useEffect","useState","Card","Row","Col","Pagination","Spin","Alert","Select","Button","Space","Typography","Image","Tag","InputNumber","Rate","Drawer","Tabs","Cascader","Badge","Tooltip","ShoppingCartOutlined","EyeOutlined","HeartOutlined","FireOutlined","StarOutlined","FilterOutlined","useDispatch","useSelector","useNavigate","fetchProducts","setFilters","clearFilters","fetchAllCategories","jsx","_jsx","jsxs","_jsxs","Title","Text","Paragraph","Option","TabPane","ProductList","dispatch","navigate","products","total","current","size","loading","error","filters","state","allCategories","categories","previewVisible","setPreviewVisible","previewProduct","setPreviewProduct","categoryOptions","setCategoryOptions","length","topCategories","filter","c","parentId","options","map","top","value","id","label","name","children","sub","handlePageChange","page","pageSize","handleCategoryChange","categoryId","newFilters","handleMinPriceChange","minPrice","undefined","handleMaxPriceChange","maxPrice","handleSortChange","sortBy","handleClearFilters","handleProductClick","productId","handlePreview","e","product","stopPropagation","handleClosePreview","renderProductCard","xs","sm","md","lg","Ribbon","text","salesCount","color","style","display","hoverable","marginBottom","onClick","cover","position","alt","src","imageUrl","height","objectFit","preview","right","background","borderRadius","width","alignItems","justifyContent","cursor","fontSize","actions","title","type","icon","Meta","overflow","ellipsis","tooltip","description","strong","price","allowHalf","defaultValue","rating","disabled","marginLeft","reviewCount","categoryName","renderPreviewDrawer","placement","onClose","open","extra","level","marginTop","rows","message","showIcon","action","danger","padding","defaultActiveKey","tab","direction","wrap","placeholder","onChange","changeOnSelect","min","spinning","gutter","textAlign","showSizeChanger","showQuickJumper","showTotal","range","onShowSizeChange"],"sources":["D:/luckymall/frontend/src/components/ProductList.tsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { \r\n  Card, \r\n  Row, \r\n  Col, \r\n  Pagination, \r\n  Spin, \r\n  Alert, \r\n  Select, \r\n  Button, \r\n  Space, \r\n  Typography,\r\n  Image,\r\n  Tag,\r\n  InputNumber,\r\n  Rate,\r\n  Drawer,\r\n  Tabs,\r\n  Cascader,\r\n  Badge,\r\n  Tooltip\r\n} from 'antd';\r\nimport { \r\n  ShoppingCartOutlined, \r\n  EyeOutlined, \r\n  HeartOutlined, \r\n  FireOutlined,\r\n  StarOutlined,\r\n  FilterOutlined\r\n} from '@ant-design/icons';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { RootState, AppDispatch } from '../store';\r\nimport { fetchProducts, setFilters, clearFilters } from '../store/slices/productSlice';\r\nimport { fetchAllCategories } from '../store/slices/categorySlice';\r\nimport { Product } from '../types';\r\n\r\nconst { Title, Text, Paragraph } = Typography;\r\nconst { Option } = Select;\r\nconst { TabPane } = Tabs;\r\n\r\nconst ProductList: React.FC = () => {\r\n  const dispatch = useDispatch<AppDispatch>();\r\n  const navigate = useNavigate();\r\n  const { \r\n    products, \r\n    total, \r\n    current, \r\n    size, \r\n    loading, \r\n    error, \r\n    filters \r\n  } = useSelector((state: RootState) => state.products);\r\n  \r\n  const { allCategories } = useSelector((state: RootState) => state.categories);\r\n  \r\n  // 新增状态\r\n  const [previewVisible, setPreviewVisible] = useState(false);\r\n  const [previewProduct, setPreviewProduct] = useState<Product | null>(null);\r\n  const [categoryOptions, setCategoryOptions] = useState<any[]>([]);\r\n  \r\n  useEffect(() => {\r\n    // 初始化时获取商品列表和分类\r\n    dispatch(fetchProducts({ current: 1, size: 12 }));\r\n    dispatch(fetchAllCategories());\r\n  }, [dispatch]);\r\n  \r\n  // 处理分类数据，转换为级联选择器格式\r\n  useEffect(() => {\r\n    if (allCategories.length > 0) {\r\n      const topCategories = allCategories.filter(c => !c.parentId);\r\n      const options = topCategories.map(top => ({\r\n        value: top.id,\r\n        label: top.name,\r\n        children: allCategories\r\n          .filter(c => c.parentId === top.id)\r\n          .map(sub => ({\r\n            value: sub.id,\r\n            label: sub.name\r\n          }))\r\n      }));\r\n      setCategoryOptions(options);\r\n    }\r\n  }, [allCategories]);\r\n  \r\n  // 处理分页变化\r\n  const handlePageChange = (page: number, pageSize?: number) => {\r\n    dispatch(fetchProducts({ \r\n      current: page, \r\n      size: pageSize || size,\r\n      ...filters \r\n    }));\r\n  };\r\n  \r\n  // 处理分类筛选\r\n  const handleCategoryChange = (categoryId: number | undefined) => {\r\n    const newFilters = { ...filters, categoryId };\r\n    dispatch(setFilters(newFilters));\r\n    dispatch(fetchProducts({ \r\n      current: 1, \r\n      size,\r\n      ...newFilters \r\n    }));\r\n  };\r\n  \r\n  // 处理价格筛选\r\n  const handleMinPriceChange = (value: number | null) => {\r\n    const newFilters = { ...filters, minPrice: value || undefined };\r\n    dispatch(setFilters(newFilters));\r\n    dispatch(fetchProducts({ \r\n      current: 1, \r\n      size,\r\n      ...newFilters \r\n    }));\r\n  };\r\n  \r\n  const handleMaxPriceChange = (value: number | null) => {\r\n    const newFilters = { ...filters, maxPrice: value || undefined };\r\n    dispatch(setFilters(newFilters));\r\n    dispatch(fetchProducts({ \r\n      current: 1, \r\n      size,\r\n      ...newFilters \r\n    }));\r\n  };\r\n  \r\n  // 处理排序变化\r\n  const handleSortChange = (sortBy: string) => {\r\n    const newFilters = { ...filters, sortBy };\r\n    dispatch(setFilters(newFilters));\r\n    dispatch(fetchProducts({ \r\n      current: 1, \r\n      size,\r\n      ...newFilters \r\n    }));\r\n  };\r\n  \r\n  // 清除所有筛选条件\r\n  const handleClearFilters = () => {\r\n    dispatch(clearFilters());\r\n    dispatch(fetchProducts({ current: 1, size }));\r\n  };\r\n  \r\n  // 跳转到商品详情页\r\n  const handleProductClick = (productId: number) => {\r\n    navigate(`/product/${productId}`);\r\n  };\r\n  \r\n  // 商品快速预览\r\n  const handlePreview = (e: React.MouseEvent, product: Product) => {\r\n    e.stopPropagation();\r\n    setPreviewProduct(product);\r\n    setPreviewVisible(true);\r\n  };\r\n  \r\n  // 关闭预览\r\n  const handleClosePreview = () => {\r\n    setPreviewVisible(false);\r\n    setPreviewProduct(null);\r\n  };\r\n  \r\n  // 渲染商品卡片\r\n  const renderProductCard = (product: Product) => (\r\n    <Col xs={24} sm={12} md={8} lg={6} key={product.id}>\r\n      <Badge.Ribbon \r\n        text={product.salesCount > 100 ? \"热销\" : \"\"} \r\n        color=\"red\" \r\n        style={{ display: product.salesCount > 100 ? 'block' : 'none' }}\r\n      >\r\n        <Card\r\n          hoverable\r\n          style={{ marginBottom: 16 }}\r\n          onClick={() => handleProductClick(product.id)}\r\n          cover={\r\n            <div style={{ position: 'relative' }}>\r\n              <Image\r\n                alt={product.name}\r\n                src={product.imageUrl || 'https://via.placeholder.com/300x300?text=暂无图片'}\r\n                height={200}\r\n                style={{ objectFit: 'cover' }}\r\n                preview={false}\r\n              />\r\n              <div \r\n                style={{ \r\n                  position: 'absolute', \r\n                  top: 8, \r\n                  right: 8, \r\n                  background: 'rgba(255,255,255,0.8)', \r\n                  borderRadius: '50%', \r\n                  width: 32, \r\n                  height: 32, \r\n                  display: 'flex', \r\n                  alignItems: 'center', \r\n                  justifyContent: 'center',\r\n                  cursor: 'pointer'\r\n                }}\r\n                onClick={(e) => handlePreview(e, product)}\r\n              >\r\n                <EyeOutlined style={{ fontSize: 18 }} />\r\n              </div>\r\n            </div>\r\n          }\r\n          actions={[\r\n            <Tooltip title=\"查看详情\">\r\n              <Button \r\n                type=\"text\" \r\n                icon={<EyeOutlined />} \r\n                onClick={(e) => {\r\n                  e.stopPropagation();\r\n                  handleProductClick(product.id);\r\n                }}\r\n              />\r\n            </Tooltip>,\r\n            <Tooltip title=\"加入购物车\">\r\n              <Button \r\n                type=\"text\" \r\n                icon={<ShoppingCartOutlined />} \r\n                onClick={(e) => e.stopPropagation()}\r\n              />\r\n            </Tooltip>,\r\n            <Tooltip title=\"收藏\">\r\n              <Button \r\n                type=\"text\" \r\n                icon={<HeartOutlined />} \r\n                onClick={(e) => e.stopPropagation()}\r\n              />\r\n            </Tooltip>\r\n          ]}\r\n        >\r\n          <Card.Meta\r\n            title={\r\n              <div style={{ height: 44, overflow: 'hidden' }}>\r\n                <Text ellipsis={{ tooltip: product.name }}>\r\n                  {product.name}\r\n                </Text>\r\n              </div>\r\n            }\r\n            description={\r\n              <div>\r\n                <div style={{ marginBottom: 8 }}>\r\n                  <Text strong style={{ color: '#ff4d4f', fontSize: 18 }}>\r\n                    ¥{product.price}\r\n                  </Text>\r\n                </div>\r\n                <div style={{ marginBottom: 4, display: 'flex', alignItems: 'center' }}>\r\n                  <Rate allowHalf defaultValue={product.rating || 5} disabled style={{ fontSize: 12 }} />\r\n                  <Text type=\"secondary\" style={{ marginLeft: 8 }}>\r\n                    ({product.reviewCount || 0})\r\n                  </Text>\r\n                </div>\r\n                <div style={{ marginBottom: 4 }}>\r\n                  <Text type=\"secondary\">销量: {product.salesCount}</Text>\r\n                </div>\r\n                {product.categoryName && (\r\n                  <Tag color=\"blue\">{product.categoryName}</Tag>\r\n                )}\r\n              </div>\r\n            }\r\n          />\r\n        </Card>\r\n      </Badge.Ribbon>\r\n    </Col>\r\n  );\r\n  \r\n  // 商品快速预览抽屉\r\n  const renderPreviewDrawer = () => (\r\n    <Drawer\r\n      title=\"商品预览\"\r\n      placement=\"right\"\r\n      width={500}\r\n      onClose={handleClosePreview}\r\n      open={previewVisible}\r\n      extra={\r\n        <Space>\r\n          <Button onClick={handleClosePreview}>关闭</Button>\r\n          <Button \r\n            type=\"primary\" \r\n            onClick={() => {\r\n              handleClosePreview();\r\n              if (previewProduct) {\r\n                handleProductClick(previewProduct.id);\r\n              }\r\n            }}\r\n          >\r\n            查看详情\r\n          </Button>\r\n        </Space>\r\n      }\r\n    >\r\n      {previewProduct && (\r\n        <div>\r\n          <Image\r\n            src={previewProduct.imageUrl || 'https://via.placeholder.com/400x400?text=暂无图片'}\r\n            alt={previewProduct.name}\r\n            width=\"100%\"\r\n          />\r\n          <Title level={4} style={{ marginTop: 16 }}>{previewProduct.name}</Title>\r\n          <div style={{ marginBottom: 16 }}>\r\n            <Text strong style={{ color: '#ff4d4f', fontSize: 24 }}>\r\n              ¥{previewProduct.price}\r\n            </Text>\r\n          </div>\r\n          <div style={{ marginBottom: 16 }}>\r\n            <Rate allowHalf defaultValue={previewProduct.rating || 5} disabled />\r\n            <Text type=\"secondary\" style={{ marginLeft: 8 }}>\r\n              ({previewProduct.reviewCount || 0}评价)\r\n            </Text>\r\n          </div>\r\n          <Paragraph ellipsis={{ rows: 3 }}>\r\n            {previewProduct.description || '暂无商品描述'}\r\n          </Paragraph>\r\n          <div style={{ marginTop: 16 }}>\r\n            <Space>\r\n              <Button \r\n                type=\"primary\" \r\n                icon={<ShoppingCartOutlined />}\r\n              >\r\n                加入购物车\r\n              </Button>\r\n              <Button icon={<HeartOutlined />}>\r\n                收藏\r\n              </Button>\r\n            </Space>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </Drawer>\r\n  );\r\n  \r\n  if (error) {\r\n    return (\r\n      <Alert\r\n        message=\"加载失败\"\r\n        description={error}\r\n        type=\"error\"\r\n        showIcon\r\n        action={\r\n          <Button size=\"small\" danger onClick={() => dispatch(fetchProducts({ current: 1, size }))}>\r\n            重试\r\n          </Button>\r\n        }\r\n      />\r\n    );\r\n  }\r\n  \r\n  return (\r\n    <div style={{ padding: '20px' }}>\r\n      {/* 页面标题 */}\r\n      <Title level={2}>商品列表</Title>\r\n      \r\n      {/* 筛选条件 */}\r\n      <Card style={{ marginBottom: 20 }}>\r\n        <Tabs defaultActiveKey=\"filter\">\r\n          <TabPane tab={<span><FilterOutlined />筛选</span>} key=\"filter\">\r\n            <Space direction=\"vertical\" size=\"middle\" style={{ width: '100%' }}>\r\n              <Space wrap>\r\n                <div>\r\n                  <Text strong>分类筛选：</Text>\r\n                  <Cascader\r\n                    options={categoryOptions}\r\n                    placeholder=\"选择分类\"\r\n                    style={{ width: 300, marginLeft: 8 }}\r\n                    onChange={(value) => handleCategoryChange(value ? value[value.length - 1] as number : undefined)}\r\n                    changeOnSelect\r\n                  />\r\n                </div>\r\n                \r\n                <div>\r\n                  <Text strong>排序方式：</Text>\r\n                  <Select\r\n                    style={{ width: 150, marginLeft: 8 }}\r\n                    placeholder=\"选择排序\"\r\n                    value={filters.sortBy}\r\n                    onChange={handleSortChange}\r\n                  >\r\n                    <Option value=\"price_asc\">价格从低到高</Option>\r\n                    <Option value=\"price_desc\">价格从高到低</Option>\r\n                    <Option value=\"sales_desc\">销量从高到低</Option>\r\n                    <Option value=\"rating_desc\">评分从高到低</Option>\r\n                    <Option value=\"created_desc\">最新发布</Option>\r\n                  </Select>\r\n                </div>\r\n                \r\n                <Button onClick={handleClearFilters}>\r\n                  清除筛选\r\n                </Button>\r\n              </Space>\r\n              \r\n              <Space wrap>\r\n                <Text strong>价格范围：</Text>\r\n                <InputNumber\r\n                  placeholder=\"最低价格\"\r\n                  style={{ width: 120 }}\r\n                  min={0}\r\n                  value={filters.minPrice}\r\n                  onChange={handleMinPriceChange}\r\n                />\r\n                <Text>至</Text>\r\n                <InputNumber\r\n                  placeholder=\"最高价格\"\r\n                  style={{ width: 120 }}\r\n                  min={0}\r\n                  value={filters.maxPrice}\r\n                  onChange={handleMaxPriceChange}\r\n                />\r\n              </Space>\r\n            </Space>\r\n          </TabPane>\r\n          <TabPane tab={<span><FireOutlined />热销</span>} key=\"hot\">\r\n            <Button \r\n              type=\"link\" \r\n              onClick={() => {\r\n                dispatch(setFilters({ sortBy: 'sales_desc' }));\r\n                dispatch(fetchProducts({ current: 1, size, sortBy: 'sales_desc' }));\r\n              }}\r\n            >\r\n              查看热销商品\r\n            </Button>\r\n          </TabPane>\r\n          <TabPane tab={<span><StarOutlined />好评</span>} key=\"rated\">\r\n            <Button \r\n              type=\"link\" \r\n              onClick={() => {\r\n                dispatch(setFilters({ sortBy: 'rating_desc' }));\r\n                dispatch(fetchProducts({ current: 1, size, sortBy: 'rating_desc' }));\r\n              }}\r\n            >\r\n              查看好评商品\r\n            </Button>\r\n          </TabPane>\r\n        </Tabs>\r\n      </Card>\r\n      \r\n      {/* 商品列表 */}\r\n      <Spin spinning={loading}>\r\n        <Row gutter={[16, 16]}>\r\n          {products.map(renderProductCard)}\r\n        </Row>\r\n        \r\n        {products.length === 0 && !loading && (\r\n          <div style={{ textAlign: 'center', padding: '40px 0' }}>\r\n            <Text type=\"secondary\">暂无商品数据</Text>\r\n          </div>\r\n        )}\r\n      </Spin>\r\n      \r\n      {/* 分页 */}\r\n      {total > 0 && (\r\n        <div style={{ textAlign: 'center', marginTop: 32 }}>\r\n          <Pagination\r\n            current={current}\r\n            total={total}\r\n            pageSize={size}\r\n            showSizeChanger\r\n            showQuickJumper\r\n            showTotal={(total, range) => \r\n              `第 ${range[0]}-${range[1]} 条，共 ${total} 条`\r\n            }\r\n            onChange={handlePageChange}\r\n            onShowSizeChange={handlePageChange}\r\n          />\r\n        </div>\r\n      )}\r\n      \r\n      {/* 商品预览抽屉 */}\r\n      {renderPreviewDrawer()}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProductList; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}