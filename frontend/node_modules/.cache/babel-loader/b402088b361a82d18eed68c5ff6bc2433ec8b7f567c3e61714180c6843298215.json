{"ast":null,"code":"var _jsxFileName = \"D:\\\\luckymall\\\\frontend\\\\src\\\\pages\\\\PaymentPage.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { Card, Typography, Radio, Space, Button, Steps, message, Result, Modal, Image } from 'antd';\nimport { CreditCardOutlined, BankOutlined, WalletOutlined, AlipayCircleOutlined, WechatOutlined } from '@ant-design/icons';\nimport { useLocation, useNavigate } from 'react-router-dom';\nimport { PaymentService } from '../services/paymentService';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst {\n  Title,\n  Text,\n  Paragraph\n} = Typography;\nconst {\n  Step\n} = Steps;\n// 模拟用户ID\nconst MOCK_USER_ID = 1;\n\n// 模拟二维码图片\nconst MOCK_ALIPAY_QR_CODE = 'https://via.placeholder.com/300x300?text=支付宝支付';\nconst MOCK_WECHAT_QR_CODE = 'https://via.placeholder.com/300x300?text=微信支付';\nconst PaymentPage = () => {\n  _s();\n  const location = useLocation();\n  const navigate = useNavigate();\n\n  // 从路由状态中获取数据\n  const state = location.state;\n\n  // 如果没有传递状态，重定向到首页\n  useEffect(() => {\n    if (!state || !state.orderId) {\n      navigate('/');\n      message.error('支付信息不完整');\n    }\n  }, [state, navigate]);\n\n  // 支付状态\n  const [paymentMethod, setPaymentMethod] = useState('credit_card');\n  const [paymentStep, setPaymentStep] = useState(0);\n  const [processing, setProcessing] = useState(false);\n  const [selectedCardId, setSelectedCardId] = useState(undefined);\n  const [selectedInstallmentPlanId, setSelectedInstallmentPlanId] = useState(undefined);\n\n  // 二维码模态框状态\n  const [qrCodeVisible, setQrCodeVisible] = useState(false);\n  const [qrCodeImage, setQrCodeImage] = useState('');\n  const [qrCodeTitle, setQrCodeTitle] = useState('');\n  const [paymentNo, setPaymentNo] = useState('');\n\n  // 处理支付方式选择\n  const handlePaymentMethodChange = e => {\n    setPaymentMethod(e.target.value);\n  };\n\n  // 处理支付提交\n  const handlePaymentSubmit = async () => {\n    if (!state) return;\n\n    // 对于支付宝和微信支付，显示二维码\n    if (paymentMethod === 'alipay' || paymentMethod === 'wechat') {\n      try {\n        setProcessing(true);\n        let qrCodeResponse;\n        if (paymentMethod === 'alipay') {\n          // 获取支付宝支付二维码\n          qrCodeResponse = await PaymentService.getAlipayQRCode(MOCK_USER_ID, parseInt(state.orderId), state.amount);\n          setQrCodeTitle('支付宝支付');\n        } else {\n          // 获取微信支付二维码\n          qrCodeResponse = await PaymentService.getWechatPayQRCode(MOCK_USER_ID, parseInt(state.orderId), state.amount);\n          setQrCodeTitle('微信支付');\n        }\n\n        // 设置二维码图片和支付单号\n        setQrCodeImage(qrCodeResponse.qrCodeUrl || (paymentMethod === 'alipay' ? MOCK_ALIPAY_QR_CODE : MOCK_WECHAT_QR_CODE));\n        setPaymentNo(qrCodeResponse.paymentNo || '');\n        setQrCodeVisible(true);\n      } catch (error) {\n        console.error('获取支付二维码失败:', error);\n        message.error('获取支付二维码失败，请稍后重试');\n      } finally {\n        setProcessing(false);\n      }\n      return;\n    }\n    try {\n      setProcessing(true);\n\n      // 构建支付请求\n      const paymentRequest = {\n        orderId: parseInt(state.orderId),\n        paymentMethod,\n        amount: state.amount,\n        creditCardId: selectedCardId,\n        installmentPlanId: selectedInstallmentPlanId\n      };\n\n      // 调用支付API\n      // 实际项目中应该调用PaymentService.payOrder\n      // const response = await PaymentService.payOrder(MOCK_USER_ID, paymentRequest);\n\n      // 模拟支付处理\n      await new Promise(resolve => setTimeout(resolve, 2000));\n\n      // 调用订单支付API\n      // await OrderService.payOrder(parseInt(state.orderId), MOCK_USER_ID);\n\n      // 更新支付状态\n      setPaymentStep(1);\n      message.success('支付成功！');\n    } catch (error) {\n      console.error('支付失败:', error);\n      message.error('支付失败，请稍后重试');\n    } finally {\n      setProcessing(false);\n    }\n  };\n\n  // 处理二维码支付完成\n  const handleQrCodePaymentComplete = async () => {\n    if (!paymentNo) {\n      setQrCodeVisible(false);\n      message.error('支付单号不存在，请重新发起支付');\n      return;\n    }\n    try {\n      setProcessing(true);\n\n      // 查询支付状态\n      const status = await PaymentService.queryPaymentStatus(paymentNo);\n      if (status === 'SUCCESS') {\n        // 支付成功\n        setQrCodeVisible(false);\n        setPaymentStep(1);\n        message.success('支付成功！');\n      } else if (status === 'PROCESSING') {\n        // 支付处理中\n        message.info('支付正在处理中，请稍后再查询');\n      } else {\n        // 支付失败\n        message.error('支付未完成，请扫码支付后再点击\"支付完成\"');\n      }\n    } catch (error) {\n      console.error('查询支付状态失败:', error);\n      message.error('查询支付状态失败，请稍后重试');\n    } finally {\n      setProcessing(false);\n    }\n  };\n\n  // 处理返回订单列表\n  const handleBackToOrders = () => {\n    navigate('/orders');\n  };\n\n  // 处理继续购物\n  const handleContinueShopping = () => {\n    navigate('/');\n  };\n\n  // 渲染支付方式\n  const renderPaymentMethods = () => {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(Title, {\n        level: 4,\n        children: \"\\u652F\\u4ED8\\u65B9\\u5F0F\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Radio.Group, {\n        value: paymentMethod,\n        onChange: handlePaymentMethodChange,\n        children: /*#__PURE__*/_jsxDEV(Space, {\n          direction: \"vertical\",\n          style: {\n            width: '100%'\n          },\n          children: [/*#__PURE__*/_jsxDEV(Radio, {\n            value: \"credit_card\",\n            children: /*#__PURE__*/_jsxDEV(Space, {\n              children: [/*#__PURE__*/_jsxDEV(CreditCardOutlined, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 204,\n                columnNumber: 17\n              }, this), \"\\u4FE1\\u7528\\u5361\\u652F\\u4ED8\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 203,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 202,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Radio, {\n            value: \"alipay\",\n            children: /*#__PURE__*/_jsxDEV(Space, {\n              children: [/*#__PURE__*/_jsxDEV(AlipayCircleOutlined, {\n                style: {\n                  color: '#1677FF'\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 210,\n                columnNumber: 17\n              }, this), \"\\u652F\\u4ED8\\u5B9D\\u652F\\u4ED8\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 209,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 208,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Radio, {\n            value: \"wechat\",\n            children: /*#__PURE__*/_jsxDEV(Space, {\n              children: [/*#__PURE__*/_jsxDEV(WechatOutlined, {\n                style: {\n                  color: '#07C160'\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 216,\n                columnNumber: 17\n              }, this), \"\\u5FAE\\u4FE1\\u652F\\u4ED8\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 215,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 214,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Radio, {\n            value: \"bank_transfer\",\n            children: /*#__PURE__*/_jsxDEV(Space, {\n              children: [/*#__PURE__*/_jsxDEV(BankOutlined, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 222,\n                columnNumber: 17\n              }, this), \"\\u94F6\\u884C\\u8F6C\\u8D26\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 221,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 220,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Radio, {\n            value: \"balance\",\n            children: /*#__PURE__*/_jsxDEV(Space, {\n              children: [/*#__PURE__*/_jsxDEV(WalletOutlined, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 228,\n                columnNumber: 17\n              }, this), \"\\u4F59\\u989D\\u652F\\u4ED8\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 227,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 226,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 201,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 7\n    }, this);\n  };\n  if (!state) {\n    return null;\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      padding: '20px',\n      maxWidth: 800,\n      margin: '0 auto'\n    },\n    children: [/*#__PURE__*/_jsxDEV(Card, {\n      children: [/*#__PURE__*/_jsxDEV(Steps, {\n        current: paymentStep,\n        style: {\n          marginBottom: 40\n        },\n        children: [/*#__PURE__*/_jsxDEV(Step, {\n          title: \"\\u9009\\u62E9\\u652F\\u4ED8\\u65B9\\u5F0F\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 246,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Step, {\n          title: \"\\u652F\\u4ED8\\u5B8C\\u6210\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 247,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 245,\n        columnNumber: 9\n      }, this), paymentStep === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginBottom: 24\n          },\n          children: [/*#__PURE__*/_jsxDEV(Title, {\n            level: 4,\n            children: \"\\u8BA2\\u5355\\u4FE1\\u606F\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 253,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              background: '#f5f5f5',\n              padding: 16,\n              borderRadius: 4\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                display: 'flex',\n                justifyContent: 'space-between',\n                marginBottom: 8\n              },\n              children: [/*#__PURE__*/_jsxDEV(Text, {\n                children: \"\\u8BA2\\u5355\\u7F16\\u53F7:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 256,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Text, {\n                children: state.orderId\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 257,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 255,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                display: 'flex',\n                justifyContent: 'space-between'\n              },\n              children: [/*#__PURE__*/_jsxDEV(Text, {\n                children: \"\\u5E94\\u4ED8\\u91D1\\u989D:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 260,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Text, {\n                strong: true,\n                style: {\n                  color: '#ff4d4f',\n                  fontSize: 16\n                },\n                children: [\"\\xA5\", state.amount.toFixed(2)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 261,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 259,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 254,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 252,\n          columnNumber: 13\n        }, this), renderPaymentMethods(), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginTop: 24,\n            textAlign: 'center'\n          },\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            type: \"primary\",\n            size: \"large\",\n            onClick: handlePaymentSubmit,\n            loading: processing,\n            children: \"\\u786E\\u8BA4\\u652F\\u4ED8\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 271,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 270,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 251,\n        columnNumber: 11\n      }, this), paymentStep === 1 && /*#__PURE__*/_jsxDEV(Result, {\n        status: \"success\",\n        title: \"\\u652F\\u4ED8\\u6210\\u529F\\uFF01\",\n        subTitle: `订单号: ${state.orderId} 已支付完成，感谢您的购买！`,\n        extra: [/*#__PURE__*/_jsxDEV(Button, {\n          type: \"primary\",\n          onClick: handleBackToOrders,\n          children: \"\\u67E5\\u770B\\u8BA2\\u5355\"\n        }, \"orders\", false, {\n          fileName: _jsxFileName,\n          lineNumber: 289,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          onClick: handleContinueShopping,\n          children: \"\\u7EE7\\u7EED\\u8D2D\\u7269\"\n        }, \"buy\", false, {\n          fileName: _jsxFileName,\n          lineNumber: 292,\n          columnNumber: 15\n        }, this)]\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 284,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 244,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      title: qrCodeTitle,\n      open: qrCodeVisible,\n      onCancel: () => setQrCodeVisible(false),\n      footer: [/*#__PURE__*/_jsxDEV(Button, {\n        onClick: () => setQrCodeVisible(false),\n        children: \"\\u53D6\\u6D88\"\n      }, \"cancel\", false, {\n        fileName: _jsxFileName,\n        lineNumber: 304,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        type: \"primary\",\n        onClick: handleQrCodePaymentComplete,\n        children: \"\\u652F\\u4ED8\\u5B8C\\u6210\"\n      }, \"complete\", false, {\n        fileName: _jsxFileName,\n        lineNumber: 307,\n        columnNumber: 11\n      }, this)],\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          textAlign: 'center'\n        },\n        children: [/*#__PURE__*/_jsxDEV(Paragraph, {\n          children: [\"\\u8BF7\\u4F7F\\u7528\", paymentMethod === 'alipay' ? '支付宝' : '微信', \"\\u626B\\u63CF\\u4E0B\\u65B9\\u4E8C\\u7EF4\\u7801\\u8FDB\\u884C\\u652F\\u4ED8\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 313,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            margin: '20px 0'\n          },\n          children: /*#__PURE__*/_jsxDEV(Image, {\n            src: qrCodeImage,\n            alt: qrCodeTitle,\n            width: 200,\n            height: 200,\n            style: {\n              margin: '0 auto'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 317,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 316,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            background: '#f5f5f5',\n            padding: 16,\n            borderRadius: 4,\n            textAlign: 'left'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              marginBottom: 8\n            },\n            children: /*#__PURE__*/_jsxDEV(Text, {\n              children: [\"\\u8BA2\\u5355\\u7F16\\u53F7: \", state === null || state === void 0 ? void 0 : state.orderId]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 327,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 326,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(Text, {\n              children: \"\\u5E94\\u4ED8\\u91D1\\u989D: \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 330,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Text, {\n              strong: true,\n              style: {\n                color: '#ff4d4f'\n              },\n              children: [\"\\xA5\", state === null || state === void 0 ? void 0 : state.amount.toFixed(2)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 331,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 329,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 325,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 312,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 299,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 243,\n    columnNumber: 5\n  }, this);\n};\n_s(PaymentPage, \"Z7209iQZ/t7hlw9Cvyh4L2jlzTM=\", false, function () {\n  return [useLocation, useNavigate];\n});\n_c = PaymentPage;\nexport default PaymentPage;\nvar _c;\n$RefreshReg$(_c, \"PaymentPage\");","map":{"version":3,"names":["React","useState","useEffect","Card","Typography","Radio","Space","Button","Steps","message","Result","Modal","Image","CreditCardOutlined","BankOutlined","WalletOutlined","AlipayCircleOutlined","WechatOutlined","useLocation","useNavigate","PaymentService","jsxDEV","_jsxDEV","Title","Text","Paragraph","Step","MOCK_USER_ID","MOCK_ALIPAY_QR_CODE","MOCK_WECHAT_QR_CODE","PaymentPage","_s","location","navigate","state","orderId","error","paymentMethod","setPaymentMethod","paymentStep","setPaymentStep","processing","setProcessing","selectedCardId","setSelectedCardId","undefined","selectedInstallmentPlanId","setSelectedInstallmentPlanId","qrCodeVisible","setQrCodeVisible","qrCodeImage","setQrCodeImage","qrCodeTitle","setQrCodeTitle","paymentNo","setPaymentNo","handlePaymentMethodChange","e","target","value","handlePaymentSubmit","qrCodeResponse","getAlipayQRCode","parseInt","amount","getWechatPayQRCode","qrCodeUrl","console","paymentRequest","creditCardId","installmentPlanId","Promise","resolve","setTimeout","success","handleQrCodePaymentComplete","status","queryPaymentStatus","info","handleBackToOrders","handleContinueShopping","renderPaymentMethods","children","level","fileName","_jsxFileName","lineNumber","columnNumber","Group","onChange","direction","style","width","color","padding","maxWidth","margin","current","marginBottom","title","background","borderRadius","display","justifyContent","strong","fontSize","toFixed","marginTop","textAlign","type","size","onClick","loading","subTitle","extra","open","onCancel","footer","src","alt","height","_c","$RefreshReg$"],"sources":["D:/luckymall/frontend/src/pages/PaymentPage.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { \r\n  Card, \r\n  Typography, \r\n  Radio, \r\n  Space, \r\n  Button, \r\n  Steps,\r\n  message,\r\n  Result,\r\n  Spin,\r\n  Divider,\r\n  Modal,\r\n  Image\r\n} from 'antd';\r\nimport { \r\n  CreditCardOutlined, \r\n  BankOutlined, \r\n  WalletOutlined,\r\n  CheckCircleOutlined,\r\n  AlipayCircleOutlined,\r\n  WechatOutlined,\r\n  QrcodeOutlined\r\n} from '@ant-design/icons';\r\nimport { useLocation, useNavigate } from 'react-router-dom';\r\nimport { PaymentService, PaymentRequest } from '../services/paymentService';\r\nimport { OrderService } from '../services/orderService';\r\n\r\nconst { Title, Text, Paragraph } = Typography;\r\nconst { Step } = Steps;\r\n\r\ninterface PaymentPageState {\r\n  orderId: string;\r\n  amount: number;\r\n}\r\n\r\n// 模拟用户ID\r\nconst MOCK_USER_ID = 1;\r\n\r\n// 模拟二维码图片\r\nconst MOCK_ALIPAY_QR_CODE = 'https://via.placeholder.com/300x300?text=支付宝支付';\r\nconst MOCK_WECHAT_QR_CODE = 'https://via.placeholder.com/300x300?text=微信支付';\r\n\r\nconst PaymentPage: React.FC = () => {\r\n  const location = useLocation();\r\n  const navigate = useNavigate();\r\n  \r\n  // 从路由状态中获取数据\r\n  const state = location.state as PaymentPageState;\r\n  \r\n  // 如果没有传递状态，重定向到首页\r\n  useEffect(() => {\r\n    if (!state || !state.orderId) {\r\n      navigate('/');\r\n      message.error('支付信息不完整');\r\n    }\r\n  }, [state, navigate]);\r\n  \r\n  // 支付状态\r\n  const [paymentMethod, setPaymentMethod] = useState<string>('credit_card');\r\n  const [paymentStep, setPaymentStep] = useState<number>(0);\r\n  const [processing, setProcessing] = useState<boolean>(false);\r\n  const [selectedCardId, setSelectedCardId] = useState<number | undefined>(undefined);\r\n  const [selectedInstallmentPlanId, setSelectedInstallmentPlanId] = useState<number | undefined>(undefined);\r\n  \r\n  // 二维码模态框状态\r\n  const [qrCodeVisible, setQrCodeVisible] = useState<boolean>(false);\r\n  const [qrCodeImage, setQrCodeImage] = useState<string>('');\r\n  const [qrCodeTitle, setQrCodeTitle] = useState<string>('');\r\n  const [paymentNo, setPaymentNo] = useState<string>('');\r\n  \r\n  // 处理支付方式选择\r\n  const handlePaymentMethodChange = (e: any) => {\r\n    setPaymentMethod(e.target.value);\r\n  };\r\n  \r\n  // 处理支付提交\r\n  const handlePaymentSubmit = async () => {\r\n    if (!state) return;\r\n    \r\n    // 对于支付宝和微信支付，显示二维码\r\n    if (paymentMethod === 'alipay' || paymentMethod === 'wechat') {\r\n      try {\r\n        setProcessing(true);\r\n        \r\n        let qrCodeResponse;\r\n        if (paymentMethod === 'alipay') {\r\n          // 获取支付宝支付二维码\r\n          qrCodeResponse = await PaymentService.getAlipayQRCode(\r\n            MOCK_USER_ID, \r\n            parseInt(state.orderId), \r\n            state.amount\r\n          );\r\n          setQrCodeTitle('支付宝支付');\r\n        } else {\r\n          // 获取微信支付二维码\r\n          qrCodeResponse = await PaymentService.getWechatPayQRCode(\r\n            MOCK_USER_ID, \r\n            parseInt(state.orderId), \r\n            state.amount\r\n          );\r\n          setQrCodeTitle('微信支付');\r\n        }\r\n        \r\n        // 设置二维码图片和支付单号\r\n        setQrCodeImage(qrCodeResponse.qrCodeUrl || (paymentMethod === 'alipay' ? MOCK_ALIPAY_QR_CODE : MOCK_WECHAT_QR_CODE));\r\n        setPaymentNo(qrCodeResponse.paymentNo || '');\r\n        setQrCodeVisible(true);\r\n      } catch (error) {\r\n        console.error('获取支付二维码失败:', error);\r\n        message.error('获取支付二维码失败，请稍后重试');\r\n      } finally {\r\n        setProcessing(false);\r\n      }\r\n      return;\r\n    }\r\n    \r\n    try {\r\n      setProcessing(true);\r\n      \r\n      // 构建支付请求\r\n      const paymentRequest: PaymentRequest = {\r\n        orderId: parseInt(state.orderId),\r\n        paymentMethod,\r\n        amount: state.amount,\r\n        creditCardId: selectedCardId,\r\n        installmentPlanId: selectedInstallmentPlanId\r\n      };\r\n      \r\n      // 调用支付API\r\n      // 实际项目中应该调用PaymentService.payOrder\r\n      // const response = await PaymentService.payOrder(MOCK_USER_ID, paymentRequest);\r\n      \r\n      // 模拟支付处理\r\n      await new Promise(resolve => setTimeout(resolve, 2000));\r\n      \r\n      // 调用订单支付API\r\n      // await OrderService.payOrder(parseInt(state.orderId), MOCK_USER_ID);\r\n      \r\n      // 更新支付状态\r\n      setPaymentStep(1);\r\n      message.success('支付成功！');\r\n    } catch (error) {\r\n      console.error('支付失败:', error);\r\n      message.error('支付失败，请稍后重试');\r\n    } finally {\r\n      setProcessing(false);\r\n    }\r\n  };\r\n  \r\n  // 处理二维码支付完成\r\n  const handleQrCodePaymentComplete = async () => {\r\n    if (!paymentNo) {\r\n      setQrCodeVisible(false);\r\n      message.error('支付单号不存在，请重新发起支付');\r\n      return;\r\n    }\r\n    \r\n    try {\r\n      setProcessing(true);\r\n      \r\n      // 查询支付状态\r\n      const status = await PaymentService.queryPaymentStatus(paymentNo);\r\n      \r\n      if (status === 'SUCCESS') {\r\n        // 支付成功\r\n        setQrCodeVisible(false);\r\n        setPaymentStep(1);\r\n        message.success('支付成功！');\r\n      } else if (status === 'PROCESSING') {\r\n        // 支付处理中\r\n        message.info('支付正在处理中，请稍后再查询');\r\n      } else {\r\n        // 支付失败\r\n        message.error('支付未完成，请扫码支付后再点击\"支付完成\"');\r\n      }\r\n    } catch (error) {\r\n      console.error('查询支付状态失败:', error);\r\n      message.error('查询支付状态失败，请稍后重试');\r\n    } finally {\r\n      setProcessing(false);\r\n    }\r\n  };\r\n  \r\n  // 处理返回订单列表\r\n  const handleBackToOrders = () => {\r\n    navigate('/orders');\r\n  };\r\n  \r\n  // 处理继续购物\r\n  const handleContinueShopping = () => {\r\n    navigate('/');\r\n  };\r\n  \r\n  // 渲染支付方式\r\n  const renderPaymentMethods = () => {\r\n    return (\r\n      <div>\r\n        <Title level={4}>支付方式</Title>\r\n        <Radio.Group value={paymentMethod} onChange={handlePaymentMethodChange}>\r\n          <Space direction=\"vertical\" style={{ width: '100%' }}>\r\n            <Radio value=\"credit_card\">\r\n              <Space>\r\n                <CreditCardOutlined />\r\n                信用卡支付\r\n              </Space>\r\n            </Radio>\r\n            <Radio value=\"alipay\">\r\n              <Space>\r\n                <AlipayCircleOutlined style={{ color: '#1677FF' }} />\r\n                支付宝支付\r\n              </Space>\r\n            </Radio>\r\n            <Radio value=\"wechat\">\r\n              <Space>\r\n                <WechatOutlined style={{ color: '#07C160' }} />\r\n                微信支付\r\n              </Space>\r\n            </Radio>\r\n            <Radio value=\"bank_transfer\">\r\n              <Space>\r\n                <BankOutlined />\r\n                银行转账\r\n              </Space>\r\n            </Radio>\r\n            <Radio value=\"balance\">\r\n              <Space>\r\n                <WalletOutlined />\r\n                余额支付\r\n              </Space>\r\n            </Radio>\r\n          </Space>\r\n        </Radio.Group>\r\n      </div>\r\n    );\r\n  };\r\n  \r\n  if (!state) {\r\n    return null;\r\n  }\r\n  \r\n  return (\r\n    <div style={{ padding: '20px', maxWidth: 800, margin: '0 auto' }}>\r\n      <Card>\r\n        <Steps current={paymentStep} style={{ marginBottom: 40 }}>\r\n          <Step title=\"选择支付方式\" />\r\n          <Step title=\"支付完成\" />\r\n        </Steps>\r\n        \r\n        {paymentStep === 0 && (\r\n          <div>\r\n            <div style={{ marginBottom: 24 }}>\r\n              <Title level={4}>订单信息</Title>\r\n              <div style={{ background: '#f5f5f5', padding: 16, borderRadius: 4 }}>\r\n                <div style={{ display: 'flex', justifyContent: 'space-between', marginBottom: 8 }}>\r\n                  <Text>订单编号:</Text>\r\n                  <Text>{state.orderId}</Text>\r\n                </div>\r\n                <div style={{ display: 'flex', justifyContent: 'space-between' }}>\r\n                  <Text>应付金额:</Text>\r\n                  <Text strong style={{ color: '#ff4d4f', fontSize: 16 }}>\r\n                    ¥{state.amount.toFixed(2)}\r\n                  </Text>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            \r\n            {renderPaymentMethods()}\r\n            \r\n            <div style={{ marginTop: 24, textAlign: 'center' }}>\r\n              <Button\r\n                type=\"primary\"\r\n                size=\"large\"\r\n                onClick={handlePaymentSubmit}\r\n                loading={processing}\r\n              >\r\n                确认支付\r\n              </Button>\r\n            </div>\r\n          </div>\r\n        )}\r\n        \r\n        {paymentStep === 1 && (\r\n          <Result\r\n            status=\"success\"\r\n            title=\"支付成功！\"\r\n            subTitle={`订单号: ${state.orderId} 已支付完成，感谢您的购买！`}\r\n            extra={[\r\n              <Button type=\"primary\" key=\"orders\" onClick={handleBackToOrders}>\r\n                查看订单\r\n              </Button>,\r\n              <Button key=\"buy\" onClick={handleContinueShopping}>继续购物</Button>,\r\n            ]}\r\n          />\r\n        )}\r\n      </Card>\r\n      \r\n      {/* 二维码支付模态框 */}\r\n      <Modal\r\n        title={qrCodeTitle}\r\n        open={qrCodeVisible}\r\n        onCancel={() => setQrCodeVisible(false)}\r\n        footer={[\r\n          <Button key=\"cancel\" onClick={() => setQrCodeVisible(false)}>\r\n            取消\r\n          </Button>,\r\n          <Button key=\"complete\" type=\"primary\" onClick={handleQrCodePaymentComplete}>\r\n            支付完成\r\n          </Button>,\r\n        ]}\r\n      >\r\n        <div style={{ textAlign: 'center' }}>\r\n          <Paragraph>\r\n            请使用{paymentMethod === 'alipay' ? '支付宝' : '微信'}扫描下方二维码进行支付\r\n          </Paragraph>\r\n          <div style={{ margin: '20px 0' }}>\r\n            <Image\r\n              src={qrCodeImage}\r\n              alt={qrCodeTitle}\r\n              width={200}\r\n              height={200}\r\n              style={{ margin: '0 auto' }}\r\n            />\r\n          </div>\r\n          <div style={{ background: '#f5f5f5', padding: 16, borderRadius: 4, textAlign: 'left' }}>\r\n            <div style={{ marginBottom: 8 }}>\r\n              <Text>订单编号: {state?.orderId}</Text>\r\n            </div>\r\n            <div>\r\n              <Text>应付金额: </Text>\r\n              <Text strong style={{ color: '#ff4d4f' }}>\r\n                ¥{state?.amount.toFixed(2)}\r\n              </Text>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </Modal>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PaymentPage; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}