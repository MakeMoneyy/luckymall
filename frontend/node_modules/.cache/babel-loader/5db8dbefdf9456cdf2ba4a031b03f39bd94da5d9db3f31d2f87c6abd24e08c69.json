{"ast":null,"code":"var _jsxFileName = \"D:\\\\luckymall\\\\frontend\\\\src\\\\pages\\\\PaymentPage.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { Card, Typography, Radio, Space, Button, Steps, message, Result, Modal, Image, Select, Row, Col } from 'antd';\nimport { CreditCardOutlined, BankOutlined, WalletOutlined, AlipayCircleOutlined, WechatOutlined } from '@ant-design/icons';\nimport { useDispatch } from 'react-redux';\nimport { useLocation, useNavigate } from 'react-router-dom';\nimport { addLocalOrder } from '../store/slices/orderSlice';\nimport { fetchUserOrdersAsync } from '../store/slices/orderSlice';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst {\n  Title,\n  Text,\n  Paragraph\n} = Typography;\nconst {\n  Step\n} = Steps;\n// 模拟用户ID\nconst MOCK_USER_ID = 1;\n\n// 模拟二维码图片\nconst MOCK_ALIPAY_QR_CODE = 'https://via.placeholder.com/300x300?text=支付宝支付';\nconst MOCK_WECHAT_QR_CODE = 'https://via.placeholder.com/300x300?text=微信支付';\n\n// 模拟分期方案数据\nconst mockInstallmentPlans = [{\n  id: 1,\n  planName: '3期免息',\n  installmentCount: 3,\n  interestRate: 0,\n  minAmount: 500,\n  maxAmount: 50000,\n  status: 1\n}, {\n  id: 2,\n  planName: '6期免息',\n  installmentCount: 6,\n  interestRate: 0,\n  minAmount: 1000,\n  maxAmount: 30000,\n  status: 1\n}, {\n  id: 3,\n  planName: '12期免息',\n  installmentCount: 12,\n  interestRate: 0,\n  minAmount: 2000,\n  maxAmount: 20000,\n  status: 1\n}, {\n  id: 4,\n  planName: '24期',\n  installmentCount: 24,\n  interestRate: 0.05,\n  // 5%年利率\n  minAmount: 5000,\n  maxAmount: 50000,\n  status: 1\n}, {\n  id: 5,\n  planName: '36期',\n  installmentCount: 36,\n  interestRate: 0.06,\n  // 6%年利率\n  minAmount: 10000,\n  maxAmount: 100000,\n  status: 1\n}];\nconst PaymentPage = () => {\n  _s();\n  var _state$amount;\n  const location = useLocation();\n  const navigate = useNavigate();\n  const dispatch = useDispatch();\n\n  // 从路由状态中获取数据\n  const state = location.state;\n  console.log('PaymentPage接收到的状态:', state);\n\n  // 如果没有传递状态，重定向到首页\n  useEffect(() => {\n    if (!state) {\n      console.error('没有接收到支付信息，重定向到首页');\n      navigate('/');\n      message.error('支付信息不完整');\n      return;\n    }\n    if (!state.orderId) {\n      console.error('没有接收到订单号，重定向到首页');\n      navigate('/');\n      message.error('订单号不存在');\n      return;\n    }\n    console.log('支付页面初始化完成，订单号:', state.orderId, '金额:', state.amount);\n  }, [state, navigate]);\n\n  // 支付状态\n  const [paymentMethod, setPaymentMethod] = useState((state === null || state === void 0 ? void 0 : state.paymentMethod) || 'credit_card');\n  const [paymentStep, setPaymentStep] = useState(0);\n  const [processing, setProcessing] = useState(false);\n  const [selectedCardId, setSelectedCardId] = useState(undefined);\n  const [selectedInstallmentPlanId, setSelectedInstallmentPlanId] = useState(state === null || state === void 0 ? void 0 : state.installmentPlanId);\n  const [installmentPlan, setInstallmentPlan] = useState(state !== null && state !== void 0 && state.installmentPlanId ? mockInstallmentPlans.find(p => p.id === state.installmentPlanId) : null);\n\n  // 二维码模态框状态\n  const [qrCodeVisible, setQrCodeVisible] = useState(false);\n  const [qrCodeImage, setQrCodeImage] = useState('');\n  const [qrCodeTitle, setQrCodeTitle] = useState('');\n\n  // 处理支付方式选择\n  const handlePaymentMethodChange = e => {\n    setPaymentMethod(e.target.value);\n  };\n\n  // 处理分期方案选择\n  const handleInstallmentChange = planId => {\n    if (planId === null) {\n      setSelectedInstallmentPlanId(undefined);\n      setInstallmentPlan(null);\n    } else {\n      setSelectedInstallmentPlanId(planId);\n      const plan = mockInstallmentPlans.find(p => p.id === planId) || null;\n      setInstallmentPlan(plan);\n    }\n  };\n\n  // 处理支付提交\n  const handlePaymentSubmit = async () => {\n    if (!state) return;\n\n    // 对于支付宝和微信支付，显示二维码\n    if (paymentMethod === 'alipay' || paymentMethod === 'wechat') {\n      setQrCodeTitle(paymentMethod === 'alipay' ? '支付宝支付' : '微信支付');\n      setQrCodeImage(paymentMethod === 'alipay' ? MOCK_ALIPAY_QR_CODE : MOCK_WECHAT_QR_CODE);\n      setQrCodeVisible(true);\n      return;\n    }\n    try {\n      setProcessing(true);\n\n      // 构建支付请求\n      const paymentRequest = {\n        orderId: parseInt(state.orderId),\n        paymentMethod,\n        amount: state.amount,\n        creditCardId: selectedCardId,\n        installmentPlanId: selectedInstallmentPlanId\n      };\n      console.log('支付请求:', paymentRequest);\n\n      // 调用支付API\n      // 实际项目中应该调用PaymentService.payOrder\n      // const response = await PaymentService.payOrder(MOCK_USER_ID, paymentRequest);\n\n      // 模拟支付处理\n      await new Promise(resolve => setTimeout(resolve, 2000));\n\n      // 调用订单支付API\n      // await OrderService.payOrder(parseInt(state.orderId), MOCK_USER_ID);\n\n      // 更新支付状态\n      setPaymentStep(1);\n      message.success('支付成功！');\n\n      // 添加到本地订单列表（用于模拟）\n      const newOrder = {\n        id: state.orderId,\n        status: 'PAID',\n        // 更新状态为已支付\n        paymentMethod: paymentMethod,\n        paymentTime: new Date().toISOString()\n      };\n      console.log('支付成功，更新订单状态:', newOrder);\n\n      // 添加到Redux订单列表\n      dispatch(addLocalOrder(newOrder));\n\n      // 刷新订单列表\n      dispatch(fetchUserOrdersAsync());\n    } catch (error) {\n      console.error('支付失败:', error);\n      message.error('支付失败，请稍后重试');\n    } finally {\n      setProcessing(false);\n    }\n  };\n\n  // 处理二维码支付完成\n  const handleQrCodePaymentComplete = async () => {\n    setQrCodeVisible(false);\n    try {\n      setProcessing(true);\n\n      // 模拟支付处理\n      await new Promise(resolve => setTimeout(resolve, 1000));\n\n      // 更新支付状态\n      setPaymentStep(1);\n      message.success('支付成功！');\n\n      // 添加到本地订单列表（用于模拟）\n      const newOrder = {\n        id: state.orderId,\n        status: 'PAID',\n        // 更新状态为已支付\n        paymentMethod: paymentMethod,\n        paymentTime: new Date().toISOString()\n      };\n      console.log('二维码支付成功，更新订单状态:', newOrder);\n\n      // 添加到Redux订单列表\n      dispatch(addLocalOrder(newOrder));\n\n      // 刷新订单列表\n      dispatch(fetchUserOrdersAsync());\n    } catch (error) {\n      console.error('支付失败:', error);\n      message.error('支付失败，请稍后重试');\n    } finally {\n      setProcessing(false);\n    }\n  };\n\n  // 处理返回订单列表\n  const handleBackToOrders = () => {\n    navigate('/orders');\n  };\n\n  // 处理继续购物\n  const handleContinueShopping = () => {\n    navigate('/');\n  };\n\n  // 渲染支付方式\n  const renderPaymentMethods = () => {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(Title, {\n        level: 4,\n        children: \"\\u652F\\u4ED8\\u65B9\\u5F0F\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 280,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Radio.Group, {\n        value: paymentMethod,\n        onChange: handlePaymentMethodChange,\n        children: /*#__PURE__*/_jsxDEV(Space, {\n          direction: \"vertical\",\n          style: {\n            width: '100%'\n          },\n          children: [/*#__PURE__*/_jsxDEV(Radio, {\n            value: \"credit_card\",\n            children: /*#__PURE__*/_jsxDEV(Space, {\n              children: [/*#__PURE__*/_jsxDEV(CreditCardOutlined, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 285,\n                columnNumber: 17\n              }, this), \"\\u4FE1\\u7528\\u5361\\u652F\\u4ED8\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 284,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 283,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Radio, {\n            value: \"alipay\",\n            children: /*#__PURE__*/_jsxDEV(Space, {\n              children: [/*#__PURE__*/_jsxDEV(AlipayCircleOutlined, {\n                style: {\n                  color: '#1677FF'\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 291,\n                columnNumber: 17\n              }, this), \"\\u652F\\u4ED8\\u5B9D\\u652F\\u4ED8\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 290,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 289,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Radio, {\n            value: \"wechat\",\n            children: /*#__PURE__*/_jsxDEV(Space, {\n              children: [/*#__PURE__*/_jsxDEV(WechatOutlined, {\n                style: {\n                  color: '#07C160'\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 297,\n                columnNumber: 17\n              }, this), \"\\u5FAE\\u4FE1\\u652F\\u4ED8\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 296,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 295,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Radio, {\n            value: \"bank_transfer\",\n            children: /*#__PURE__*/_jsxDEV(Space, {\n              children: [/*#__PURE__*/_jsxDEV(BankOutlined, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 303,\n                columnNumber: 17\n              }, this), \"\\u94F6\\u884C\\u8F6C\\u8D26\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 302,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 301,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Radio, {\n            value: \"balance\",\n            children: /*#__PURE__*/_jsxDEV(Space, {\n              children: [/*#__PURE__*/_jsxDEV(WalletOutlined, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 309,\n                columnNumber: 17\n              }, this), \"\\u4F59\\u989D\\u652F\\u4ED8\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 308,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 307,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 282,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 281,\n        columnNumber: 9\n      }, this), paymentMethod === 'credit_card' && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginTop: 16\n        },\n        children: [/*#__PURE__*/_jsxDEV(Row, {\n          children: /*#__PURE__*/_jsxDEV(Col, {\n            span: 24,\n            children: [/*#__PURE__*/_jsxDEV(Title, {\n              level: 5,\n              children: \"\\u5206\\u671F\\u4ED8\\u6B3E\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 321,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Select, {\n              style: {\n                width: '100%'\n              },\n              placeholder: \"\\u8BF7\\u9009\\u62E9\\u5206\\u671F\\u65B9\\u6848\",\n              value: selectedInstallmentPlanId || null,\n              onChange: handleInstallmentChange,\n              allowClear: true,\n              children: mockInstallmentPlans.map(plan => /*#__PURE__*/_jsxDEV(Select.Option, {\n                value: plan.id,\n                children: [plan.planName, \" (\", plan.installmentCount || 0, \"\\u671F)\", plan.interestRate > 0 ? ` - 年利率${plan.interestRate * 100}%` : ' - 免息']\n              }, plan.id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 330,\n                columnNumber: 21\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 322,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 320,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 319,\n          columnNumber: 13\n        }, this), installmentPlan && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginTop: 8\n          },\n          children: installmentPlan.interestRate > 0 ? /*#__PURE__*/_jsxDEV(Space, {\n            direction: \"vertical\",\n            size: \"small\",\n            style: {\n              width: '100%'\n            },\n            children: [/*#__PURE__*/_jsxDEV(Text, {\n              type: \"secondary\",\n              children: [\"\\u8BA2\\u5355\\u91D1\\u989D: \\xA5\", state === null || state === void 0 ? void 0 : state.amount.toFixed(2)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 343,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(Text, {\n              type: \"secondary\",\n              children: [\"\\u5206\\u671F\\u671F\\u6570: \", installmentPlan.installmentCount || 0, \"\\u671F\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 346,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(Text, {\n              type: \"secondary\",\n              children: [\"\\u5E74\\u5316\\u5229\\u7387: \", (installmentPlan.interestRate * 100).toFixed(2), \"%\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 349,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(Text, {\n              type: \"secondary\",\n              children: [\"\\u603B\\u5229\\u606F: \\xA5\", ((state === null || state === void 0 ? void 0 : state.amount) * installmentPlan.interestRate * ((installmentPlan.installmentCount || 0) / 12)).toFixed(2)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 353,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(Text, {\n              type: \"secondary\",\n              children: [\"\\u603B\\u8FD8\\u6B3E\\u91D1\\u989D: \\xA5\", ((state === null || state === void 0 ? void 0 : state.amount) * (1 + installmentPlan.interestRate * ((installmentPlan.installmentCount || 0) / 12))).toFixed(2)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 356,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(Text, {\n              type: \"secondary\",\n              children: [\"\\u6BCF\\u671F\\u8FD8\\u6B3E: \\xA5\", ((state === null || state === void 0 ? void 0 : state.amount) * (1 + installmentPlan.interestRate * ((installmentPlan.installmentCount || 0) / 12)) / (installmentPlan.installmentCount || 1)).toFixed(2)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 359,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 342,\n            columnNumber: 19\n          }, this) : /*#__PURE__*/_jsxDEV(Space, {\n            direction: \"vertical\",\n            size: \"small\",\n            style: {\n              width: '100%'\n            },\n            children: [/*#__PURE__*/_jsxDEV(Text, {\n              type: \"secondary\",\n              children: [\"\\u8BA2\\u5355\\u91D1\\u989D: \\xA5\", state === null || state === void 0 ? void 0 : state.amount.toFixed(2)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 365,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(Text, {\n              type: \"secondary\",\n              children: [\"\\u5206\\u671F\\u671F\\u6570: \", installmentPlan.installmentCount || 0, \"\\u671F\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 368,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(Text, {\n              type: \"secondary\",\n              children: [\"\\u6BCF\\u671F\\u8FD8\\u6B3E: \\xA5\", ((state === null || state === void 0 ? void 0 : state.amount) / (installmentPlan.installmentCount || 1)).toFixed(2)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 371,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(Text, {\n              type: \"secondary\",\n              strong: true,\n              style: {\n                color: '#52c41a'\n              },\n              children: \"\\u514D\\u606F\\u7279\\u60E0: \\u603B\\u624B\\u7EED\\u8D39\\xA50.00\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 374,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 364,\n            columnNumber: 19\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 340,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 318,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 279,\n      columnNumber: 7\n    }, this);\n  };\n  if (!state) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        padding: '20px',\n        maxWidth: 800,\n        margin: '0 auto'\n      },\n      children: /*#__PURE__*/_jsxDEV(Card, {\n        children: /*#__PURE__*/_jsxDEV(Result, {\n          status: \"error\",\n          title: \"\\u52A0\\u8F7D\\u5931\\u8D25\",\n          subTitle: \"\\u6CA1\\u6709\\u63A5\\u6536\\u5230\\u652F\\u4ED8\\u4FE1\\u606F\\uFF0C\\u8BF7\\u8FD4\\u56DE\\u91CD\\u65B0\\u4E0B\\u5355\",\n          extra: [/*#__PURE__*/_jsxDEV(Button, {\n            type: \"primary\",\n            onClick: () => navigate('/'),\n            children: \"\\u8FD4\\u56DE\\u9996\\u9875\"\n          }, \"home\", false, {\n            fileName: _jsxFileName,\n            lineNumber: 396,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            onClick: () => navigate('/cart'),\n            children: \"\\u67E5\\u770B\\u8D2D\\u7269\\u8F66\"\n          }, \"cart\", false, {\n            fileName: _jsxFileName,\n            lineNumber: 399,\n            columnNumber: 15\n          }, this)]\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 391,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 390,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 389,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      padding: '20px',\n      maxWidth: 800,\n      margin: '0 auto'\n    },\n    children: [/*#__PURE__*/_jsxDEV(Card, {\n      children: [/*#__PURE__*/_jsxDEV(Steps, {\n        current: paymentStep,\n        style: {\n          marginBottom: 40\n        },\n        children: [/*#__PURE__*/_jsxDEV(Step, {\n          title: \"\\u9009\\u62E9\\u652F\\u4ED8\\u65B9\\u5F0F\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 413,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Step, {\n          title: \"\\u652F\\u4ED8\\u5B8C\\u6210\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 414,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 412,\n        columnNumber: 9\n      }, this), paymentStep === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginBottom: 24\n          },\n          children: [/*#__PURE__*/_jsxDEV(Title, {\n            level: 4,\n            children: \"\\u8BA2\\u5355\\u4FE1\\u606F\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 420,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              background: '#f5f5f5',\n              padding: 16,\n              borderRadius: 4\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                display: 'flex',\n                justifyContent: 'space-between',\n                marginBottom: 8\n              },\n              children: [/*#__PURE__*/_jsxDEV(Text, {\n                children: \"\\u8BA2\\u5355\\u7F16\\u53F7:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 423,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Text, {\n                children: state.orderId\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 424,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 422,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                display: 'flex',\n                justifyContent: 'space-between'\n              },\n              children: [/*#__PURE__*/_jsxDEV(Text, {\n                children: \"\\u5E94\\u4ED8\\u91D1\\u989D:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 427,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Text, {\n                strong: true,\n                style: {\n                  color: '#ff4d4f',\n                  fontSize: 16\n                },\n                children: [\"\\xA5\", ((_state$amount = state.amount) === null || _state$amount === void 0 ? void 0 : _state$amount.toFixed(2)) || '0.00']\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 428,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 426,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 421,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 419,\n          columnNumber: 13\n        }, this), renderPaymentMethods(), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginTop: 24,\n            textAlign: 'center'\n          },\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            type: \"primary\",\n            size: \"large\",\n            onClick: handlePaymentSubmit,\n            loading: processing,\n            children: \"\\u786E\\u8BA4\\u652F\\u4ED8\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 438,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 437,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 418,\n        columnNumber: 11\n      }, this), paymentStep === 1 && /*#__PURE__*/_jsxDEV(Result, {\n        status: \"success\",\n        title: \"\\u652F\\u4ED8\\u6210\\u529F\\uFF01\",\n        subTitle: `订单号: ${state.orderId} 已支付完成，感谢您的购买！`,\n        extra: [/*#__PURE__*/_jsxDEV(Button, {\n          type: \"primary\",\n          onClick: handleBackToOrders,\n          children: \"\\u67E5\\u770B\\u8BA2\\u5355\"\n        }, \"orders\", false, {\n          fileName: _jsxFileName,\n          lineNumber: 456,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          onClick: handleContinueShopping,\n          children: \"\\u7EE7\\u7EED\\u8D2D\\u7269\"\n        }, \"buy\", false, {\n          fileName: _jsxFileName,\n          lineNumber: 459,\n          columnNumber: 15\n        }, this)]\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 451,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 411,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      title: qrCodeTitle,\n      open: qrCodeVisible,\n      onCancel: () => setQrCodeVisible(false),\n      footer: [/*#__PURE__*/_jsxDEV(Button, {\n        onClick: () => setQrCodeVisible(false),\n        children: \"\\u53D6\\u6D88\"\n      }, \"cancel\", false, {\n        fileName: _jsxFileName,\n        lineNumber: 471,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        type: \"primary\",\n        onClick: handleQrCodePaymentComplete,\n        children: \"\\u652F\\u4ED8\\u5B8C\\u6210\"\n      }, \"complete\", false, {\n        fileName: _jsxFileName,\n        lineNumber: 474,\n        columnNumber: 11\n      }, this)],\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          textAlign: 'center'\n        },\n        children: [/*#__PURE__*/_jsxDEV(Paragraph, {\n          children: [\"\\u8BF7\\u4F7F\\u7528\", paymentMethod === 'alipay' ? '支付宝' : '微信', \"\\u626B\\u63CF\\u4E0B\\u65B9\\u4E8C\\u7EF4\\u7801\\u8FDB\\u884C\\u652F\\u4ED8\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 480,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            margin: '20px 0'\n          },\n          children: /*#__PURE__*/_jsxDEV(Image, {\n            src: qrCodeImage,\n            alt: qrCodeTitle,\n            width: 200,\n            height: 200,\n            style: {\n              margin: '0 auto'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 484,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 483,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            background: '#f5f5f5',\n            padding: 16,\n            borderRadius: 4,\n            textAlign: 'left'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              marginBottom: 8\n            },\n            children: /*#__PURE__*/_jsxDEV(Text, {\n              children: [\"\\u8BA2\\u5355\\u7F16\\u53F7: \", state === null || state === void 0 ? void 0 : state.orderId]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 494,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 493,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(Text, {\n              children: \"\\u5E94\\u4ED8\\u91D1\\u989D: \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 497,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Text, {\n              strong: true,\n              style: {\n                color: '#ff4d4f'\n              },\n              children: [\"\\xA5\", state === null || state === void 0 ? void 0 : state.amount.toFixed(2)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 498,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 496,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 492,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 479,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 466,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 410,\n    columnNumber: 5\n  }, this);\n};\n_s(PaymentPage, \"t6Av0muWHjN3R3EXTH18iCLSILY=\", false, function () {\n  return [useLocation, useNavigate, useDispatch];\n});\n_c = PaymentPage;\nexport default PaymentPage;\nvar _c;\n$RefreshReg$(_c, \"PaymentPage\");","map":{"version":3,"names":["React","useState","useEffect","Card","Typography","Radio","Space","Button","Steps","message","Result","Modal","Image","Select","Row","Col","CreditCardOutlined","BankOutlined","WalletOutlined","AlipayCircleOutlined","WechatOutlined","useDispatch","useLocation","useNavigate","addLocalOrder","fetchUserOrdersAsync","jsxDEV","_jsxDEV","Title","Text","Paragraph","Step","MOCK_USER_ID","MOCK_ALIPAY_QR_CODE","MOCK_WECHAT_QR_CODE","mockInstallmentPlans","id","planName","installmentCount","interestRate","minAmount","maxAmount","status","PaymentPage","_s","_state$amount","location","navigate","dispatch","state","console","log","error","orderId","amount","paymentMethod","setPaymentMethod","paymentStep","setPaymentStep","processing","setProcessing","selectedCardId","setSelectedCardId","undefined","selectedInstallmentPlanId","setSelectedInstallmentPlanId","installmentPlanId","installmentPlan","setInstallmentPlan","find","p","qrCodeVisible","setQrCodeVisible","qrCodeImage","setQrCodeImage","qrCodeTitle","setQrCodeTitle","handlePaymentMethodChange","e","target","value","handleInstallmentChange","planId","plan","handlePaymentSubmit","paymentRequest","parseInt","creditCardId","Promise","resolve","setTimeout","success","newOrder","paymentTime","Date","toISOString","handleQrCodePaymentComplete","handleBackToOrders","handleContinueShopping","renderPaymentMethods","children","level","fileName","_jsxFileName","lineNumber","columnNumber","Group","onChange","direction","style","width","color","marginTop","span","placeholder","allowClear","map","Option","size","type","toFixed","strong","padding","maxWidth","margin","title","subTitle","extra","onClick","current","marginBottom","background","borderRadius","display","justifyContent","fontSize","textAlign","loading","open","onCancel","footer","src","alt","height","_c","$RefreshReg$"],"sources":["D:/luckymall/frontend/src/pages/PaymentPage.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { \n  Card, \n  Typography, \n  Radio, \n  Space, \n  Button, \n  Steps,\n  message,\n  Result,\n  Spin,\n  Divider,\n  Modal,\n  Image,\n  Select,\n  Row,\n  Col\n} from 'antd';\nimport { \n  CreditCardOutlined, \n  BankOutlined, \n  WalletOutlined,\n  CheckCircleOutlined,\n  AlipayCircleOutlined,\n  WechatOutlined\n} from '@ant-design/icons';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useLocation, useNavigate } from 'react-router-dom';\nimport { RootState, AppDispatch } from '../store';\nimport { PaymentService, PaymentRequest } from '../services/paymentService';\nimport { OrderService } from '../services/orderService';\nimport { addLocalOrder } from '../store/slices/orderSlice';\nimport { fetchUserOrdersAsync } from '../store/slices/orderSlice';\n\nconst { Title, Text, Paragraph } = Typography;\nconst { Step } = Steps;\n\ninterface PaymentPageState {\n  orderId: string;\n  amount: number;\n  paymentMethod?: string;\n  installmentPlanId?: number;\n}\n\n// 模拟用户ID\nconst MOCK_USER_ID = 1;\n\n// 模拟二维码图片\nconst MOCK_ALIPAY_QR_CODE = 'https://via.placeholder.com/300x300?text=支付宝支付';\nconst MOCK_WECHAT_QR_CODE = 'https://via.placeholder.com/300x300?text=微信支付';\n\n// 模拟分期方案数据\nconst mockInstallmentPlans = [\n  {\n    id: 1,\n    planName: '3期免息',\n    installmentCount: 3,\n    interestRate: 0,\n    minAmount: 500,\n    maxAmount: 50000,\n    status: 1\n  },\n  {\n    id: 2,\n    planName: '6期免息',\n    installmentCount: 6,\n    interestRate: 0,\n    minAmount: 1000,\n    maxAmount: 30000,\n    status: 1\n  },\n  {\n    id: 3,\n    planName: '12期免息',\n    installmentCount: 12,\n    interestRate: 0,\n    minAmount: 2000,\n    maxAmount: 20000,\n    status: 1\n  },\n  {\n    id: 4,\n    planName: '24期',\n    installmentCount: 24,\n    interestRate: 0.05, // 5%年利率\n    minAmount: 5000,\n    maxAmount: 50000,\n    status: 1\n  },\n  {\n    id: 5,\n    planName: '36期',\n    installmentCount: 36,\n    interestRate: 0.06, // 6%年利率\n    minAmount: 10000,\n    maxAmount: 100000,\n    status: 1\n  }\n];\n\nconst PaymentPage: React.FC = () => {\n  const location = useLocation();\n  const navigate = useNavigate();\n  const dispatch = useDispatch<AppDispatch>();\n  \n  // 从路由状态中获取数据\n  const state = location.state as PaymentPageState;\n  \n  console.log('PaymentPage接收到的状态:', state);\n  \n  // 如果没有传递状态，重定向到首页\n  useEffect(() => {\n    if (!state) {\n      console.error('没有接收到支付信息，重定向到首页');\n      navigate('/');\n      message.error('支付信息不完整');\n      return;\n    }\n    \n    if (!state.orderId) {\n      console.error('没有接收到订单号，重定向到首页');\n      navigate('/');\n      message.error('订单号不存在');\n      return;\n    }\n    \n    console.log('支付页面初始化完成，订单号:', state.orderId, '金额:', state.amount);\n  }, [state, navigate]);\n  \n  // 支付状态\n  const [paymentMethod, setPaymentMethod] = useState<string>(\n    state?.paymentMethod || 'credit_card'\n  );\n  const [paymentStep, setPaymentStep] = useState<number>(0);\n  const [processing, setProcessing] = useState<boolean>(false);\n  const [selectedCardId, setSelectedCardId] = useState<number | undefined>(undefined);\n  const [selectedInstallmentPlanId, setSelectedInstallmentPlanId] = useState<number | undefined>(\n    state?.installmentPlanId\n  );\n  const [installmentPlan, setInstallmentPlan] = useState<any>(\n    state?.installmentPlanId ? mockInstallmentPlans.find(p => p.id === state.installmentPlanId) : null\n  );\n  \n  // 二维码模态框状态\n  const [qrCodeVisible, setQrCodeVisible] = useState<boolean>(false);\n  const [qrCodeImage, setQrCodeImage] = useState<string>('');\n  const [qrCodeTitle, setQrCodeTitle] = useState<string>('');\n  \n  // 处理支付方式选择\n  const handlePaymentMethodChange = (e: any) => {\n    setPaymentMethod(e.target.value);\n  };\n  \n  // 处理分期方案选择\n  const handleInstallmentChange = (planId: number | null) => {\n    if (planId === null) {\n      setSelectedInstallmentPlanId(undefined);\n      setInstallmentPlan(null);\n    } else {\n      setSelectedInstallmentPlanId(planId);\n      const plan = mockInstallmentPlans.find(p => p.id === planId) || null;\n      setInstallmentPlan(plan);\n    }\n  };\n  \n  // 处理支付提交\n  const handlePaymentSubmit = async () => {\n    if (!state) return;\n    \n    // 对于支付宝和微信支付，显示二维码\n    if (paymentMethod === 'alipay' || paymentMethod === 'wechat') {\n      setQrCodeTitle(paymentMethod === 'alipay' ? '支付宝支付' : '微信支付');\n      setQrCodeImage(paymentMethod === 'alipay' ? MOCK_ALIPAY_QR_CODE : MOCK_WECHAT_QR_CODE);\n      setQrCodeVisible(true);\n      return;\n    }\n    \n    try {\n      setProcessing(true);\n      \n      // 构建支付请求\n      const paymentRequest: PaymentRequest = {\n        orderId: parseInt(state.orderId),\n        paymentMethod,\n        amount: state.amount,\n        creditCardId: selectedCardId,\n        installmentPlanId: selectedInstallmentPlanId\n      };\n      \n      console.log('支付请求:', paymentRequest);\n      \n      // 调用支付API\n      // 实际项目中应该调用PaymentService.payOrder\n      // const response = await PaymentService.payOrder(MOCK_USER_ID, paymentRequest);\n      \n      // 模拟支付处理\n      await new Promise(resolve => setTimeout(resolve, 2000));\n      \n      // 调用订单支付API\n      // await OrderService.payOrder(parseInt(state.orderId), MOCK_USER_ID);\n      \n      // 更新支付状态\n      setPaymentStep(1);\n      message.success('支付成功！');\n      \n      // 添加到本地订单列表（用于模拟）\n      const newOrder: any = {\n        id: state.orderId,\n        status: 'PAID', // 更新状态为已支付\n        paymentMethod: paymentMethod,\n        paymentTime: new Date().toISOString()\n      };\n      \n      console.log('支付成功，更新订单状态:', newOrder);\n      \n      // 添加到Redux订单列表\n      dispatch(addLocalOrder(newOrder));\n      \n      // 刷新订单列表\n      dispatch(fetchUserOrdersAsync());\n    } catch (error) {\n      console.error('支付失败:', error);\n      message.error('支付失败，请稍后重试');\n    } finally {\n      setProcessing(false);\n    }\n  };\n  \n  // 处理二维码支付完成\n  const handleQrCodePaymentComplete = async () => {\n    setQrCodeVisible(false);\n    \n    try {\n      setProcessing(true);\n      \n      // 模拟支付处理\n      await new Promise(resolve => setTimeout(resolve, 1000));\n      \n      // 更新支付状态\n      setPaymentStep(1);\n      message.success('支付成功！');\n      \n      // 添加到本地订单列表（用于模拟）\n      const newOrder: any = {\n        id: state.orderId,\n        status: 'PAID', // 更新状态为已支付\n        paymentMethod: paymentMethod,\n        paymentTime: new Date().toISOString()\n      };\n      \n      console.log('二维码支付成功，更新订单状态:', newOrder);\n      \n      // 添加到Redux订单列表\n      dispatch(addLocalOrder(newOrder));\n      \n      // 刷新订单列表\n      dispatch(fetchUserOrdersAsync());\n    } catch (error) {\n      console.error('支付失败:', error);\n      message.error('支付失败，请稍后重试');\n    } finally {\n      setProcessing(false);\n    }\n  };\n  \n  // 处理返回订单列表\n  const handleBackToOrders = () => {\n    navigate('/orders');\n  };\n  \n  // 处理继续购物\n  const handleContinueShopping = () => {\n    navigate('/');\n  };\n  \n  // 渲染支付方式\n  const renderPaymentMethods = () => {\n    return (\n      <div>\n        <Title level={4}>支付方式</Title>\n        <Radio.Group value={paymentMethod} onChange={handlePaymentMethodChange}>\n          <Space direction=\"vertical\" style={{ width: '100%' }}>\n            <Radio value=\"credit_card\">\n              <Space>\n                <CreditCardOutlined />\n                信用卡支付\n              </Space>\n            </Radio>\n            <Radio value=\"alipay\">\n              <Space>\n                <AlipayCircleOutlined style={{ color: '#1677FF' }} />\n                支付宝支付\n              </Space>\n            </Radio>\n            <Radio value=\"wechat\">\n              <Space>\n                <WechatOutlined style={{ color: '#07C160' }} />\n                微信支付\n              </Space>\n            </Radio>\n            <Radio value=\"bank_transfer\">\n              <Space>\n                <BankOutlined />\n                银行转账\n              </Space>\n            </Radio>\n            <Radio value=\"balance\">\n              <Space>\n                <WalletOutlined />\n                余额支付\n              </Space>\n            </Radio>\n          </Space>\n        </Radio.Group>\n        \n        {/* 信用卡分期选项 */}\n        {paymentMethod === 'credit_card' && (\n          <div style={{ marginTop: 16 }}>\n            <Row>\n              <Col span={24}>\n                <Title level={5}>分期付款</Title>\n                <Select\n                  style={{ width: '100%' }}\n                  placeholder=\"请选择分期方案\"\n                  value={selectedInstallmentPlanId || null}\n                  onChange={handleInstallmentChange}\n                  allowClear\n                >\n                  {mockInstallmentPlans.map(plan => (\n                    <Select.Option key={plan.id} value={plan.id}>\n                      {plan.planName} ({plan.installmentCount || 0}期)\n                      {plan.interestRate > 0 ? ` - 年利率${plan.interestRate * 100}%` : ' - 免息'}\n                    </Select.Option>\n                  ))}\n                </Select>\n              </Col>\n            </Row>\n            \n            {installmentPlan && (\n              <div style={{ marginTop: 8 }}>\n                {installmentPlan.interestRate > 0 ? (\n                  <Space direction=\"vertical\" size=\"small\" style={{ width: '100%' }}>\n                    <Text type=\"secondary\">\n                      订单金额: ¥{state?.amount.toFixed(2)}\n                    </Text>\n                    <Text type=\"secondary\">\n                      分期期数: {installmentPlan.installmentCount || 0}期\n                    </Text>\n                    <Text type=\"secondary\">\n                      年化利率: {(installmentPlan.interestRate * 100).toFixed(2)}%\n                    </Text>\n                    {/* 简单计算，实际应该使用更复杂的公式 */}\n                    <Text type=\"secondary\">\n                      总利息: ¥{(state?.amount * installmentPlan.interestRate * ((installmentPlan.installmentCount || 0) / 12)).toFixed(2)}\n                    </Text>\n                    <Text type=\"secondary\">\n                      总还款金额: ¥{(state?.amount * (1 + installmentPlan.interestRate * ((installmentPlan.installmentCount || 0) / 12))).toFixed(2)}\n                    </Text>\n                    <Text type=\"secondary\">\n                      每期还款: ¥{(state?.amount * (1 + installmentPlan.interestRate * ((installmentPlan.installmentCount || 0) / 12)) / (installmentPlan.installmentCount || 1)).toFixed(2)}\n                    </Text>\n                  </Space>\n                ) : (\n                  <Space direction=\"vertical\" size=\"small\" style={{ width: '100%' }}>\n                    <Text type=\"secondary\">\n                      订单金额: ¥{state?.amount.toFixed(2)}\n                    </Text>\n                    <Text type=\"secondary\">\n                      分期期数: {installmentPlan.installmentCount || 0}期\n                    </Text>\n                    <Text type=\"secondary\">\n                      每期还款: ¥{(state?.amount / (installmentPlan.installmentCount || 1)).toFixed(2)}\n                    </Text>\n                    <Text type=\"secondary\" strong style={{ color: '#52c41a' }}>\n                      免息特惠: 总手续费¥0.00\n                    </Text>\n                  </Space>\n                )}\n              </div>\n            )}\n          </div>\n        )}\n      </div>\n    );\n  };\n  \n  if (!state) {\n    return (\n      <div style={{ padding: '20px', maxWidth: 800, margin: '0 auto' }}>\n        <Card>\n          <Result\n            status=\"error\"\n            title=\"加载失败\"\n            subTitle=\"没有接收到支付信息，请返回重新下单\"\n            extra={[\n              <Button type=\"primary\" key=\"home\" onClick={() => navigate('/')}>\n                返回首页\n              </Button>,\n              <Button key=\"cart\" onClick={() => navigate('/cart')}>\n                查看购物车\n              </Button>,\n            ]}\n          />\n        </Card>\n      </div>\n    );\n  }\n  \n  return (\n    <div style={{ padding: '20px', maxWidth: 800, margin: '0 auto' }}>\n      <Card>\n        <Steps current={paymentStep} style={{ marginBottom: 40 }}>\n          <Step title=\"选择支付方式\" />\n          <Step title=\"支付完成\" />\n        </Steps>\n        \n        {paymentStep === 0 && (\n          <div>\n            <div style={{ marginBottom: 24 }}>\n              <Title level={4}>订单信息</Title>\n              <div style={{ background: '#f5f5f5', padding: 16, borderRadius: 4 }}>\n                <div style={{ display: 'flex', justifyContent: 'space-between', marginBottom: 8 }}>\n                  <Text>订单编号:</Text>\n                  <Text>{state.orderId}</Text>\n                </div>\n                <div style={{ display: 'flex', justifyContent: 'space-between' }}>\n                  <Text>应付金额:</Text>\n                  <Text strong style={{ color: '#ff4d4f', fontSize: 16 }}>\n                    ¥{state.amount?.toFixed(2) || '0.00'}\n                  </Text>\n                </div>\n              </div>\n            </div>\n            \n            {renderPaymentMethods()}\n            \n            <div style={{ marginTop: 24, textAlign: 'center' }}>\n              <Button\n                type=\"primary\"\n                size=\"large\"\n                onClick={handlePaymentSubmit}\n                loading={processing}\n              >\n                确认支付\n              </Button>\n            </div>\n          </div>\n        )}\n        \n        {paymentStep === 1 && (\n          <Result\n            status=\"success\"\n            title=\"支付成功！\"\n            subTitle={`订单号: ${state.orderId} 已支付完成，感谢您的购买！`}\n            extra={[\n              <Button type=\"primary\" key=\"orders\" onClick={handleBackToOrders}>\n                查看订单\n              </Button>,\n              <Button key=\"buy\" onClick={handleContinueShopping}>继续购物</Button>,\n            ]}\n          />\n        )}\n      </Card>\n      \n      {/* 二维码支付模态框 */}\n      <Modal\n        title={qrCodeTitle}\n        open={qrCodeVisible}\n        onCancel={() => setQrCodeVisible(false)}\n        footer={[\n          <Button key=\"cancel\" onClick={() => setQrCodeVisible(false)}>\n            取消\n          </Button>,\n          <Button key=\"complete\" type=\"primary\" onClick={handleQrCodePaymentComplete}>\n            支付完成\n          </Button>,\n        ]}\n      >\n        <div style={{ textAlign: 'center' }}>\n          <Paragraph>\n            请使用{paymentMethod === 'alipay' ? '支付宝' : '微信'}扫描下方二维码进行支付\n          </Paragraph>\n          <div style={{ margin: '20px 0' }}>\n            <Image\n              src={qrCodeImage}\n              alt={qrCodeTitle}\n              width={200}\n              height={200}\n              style={{ margin: '0 auto' }}\n            />\n          </div>\n          <div style={{ background: '#f5f5f5', padding: 16, borderRadius: 4, textAlign: 'left' }}>\n            <div style={{ marginBottom: 8 }}>\n              <Text>订单编号: {state?.orderId}</Text>\n            </div>\n            <div>\n              <Text>应付金额: </Text>\n              <Text strong style={{ color: '#ff4d4f' }}>\n                ¥{state?.amount.toFixed(2)}\n              </Text>\n            </div>\n          </div>\n        </div>\n      </Modal>\n    </div>\n  );\n};\n\nexport default PaymentPage; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}