{"ast":null,"code":"var _jsxFileName = \"D:\\\\luckymall\\\\frontend\\\\src\\\\pages\\\\OrderPage.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { Card, Typography, Button, Space, Row, Col, Radio, Input, message, Table, Image, Form, Modal, Select } from 'antd';\nimport { EditOutlined, PlusOutlined, CreditCardOutlined, BankOutlined, WalletOutlined, DeleteOutlined, AlipayCircleOutlined, WechatOutlined } from '@ant-design/icons';\nimport { useLocation, useNavigate } from 'react-router-dom';\nimport { useDispatch } from 'react-redux';\nimport { clearCart } from '../store/slices/cartSlice';\nimport { createOrderAsync, addLocalOrder } from '../store/slices/orderSlice';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst {\n  Title,\n  Text\n} = Typography;\nconst {\n  TextArea\n} = Input;\nconst {\n  Option\n} = Select;\n\n// 模拟用户地址数据\nconst mockAddresses = [{\n  id: 1,\n  userId: 1,\n  receiverName: '张三',\n  phone: '13800138000',\n  province: '广东省',\n  city: '深圳市',\n  district: '南山区',\n  detailAddress: '科技园南路XX号XX大厦XX室',\n  postalCode: '518000',\n  isDefault: true\n}, {\n  id: 2,\n  userId: 1,\n  receiverName: '李四',\n  phone: '13900139000',\n  province: '广东省',\n  city: '广州市',\n  district: '天河区',\n  detailAddress: '天河路XX号XX公寓XX室',\n  postalCode: '510000',\n  isDefault: false\n}];\n\n// 模拟用户信用卡数据\nconst mockCreditCards = [{\n  id: 1,\n  userId: 1,\n  cardNumber: '6225 **** **** 8888',\n  cardType: 'VISA',\n  expiryDate: '12/25',\n  isDefault: true\n}, {\n  id: 2,\n  userId: 1,\n  cardNumber: '6222 **** **** 9999',\n  cardType: 'MasterCard',\n  expiryDate: '09/24',\n  isDefault: false\n}];\n\n// 模拟分期方案数据\nconst mockInstallmentPlans = [{\n  id: 1,\n  planName: '3期免息',\n  installmentCount: 3,\n  interestRate: 0,\n  minAmount: 500,\n  maxAmount: 50000,\n  status: 1\n}, {\n  id: 2,\n  planName: '6期免息',\n  installmentCount: 6,\n  interestRate: 0,\n  minAmount: 1000,\n  maxAmount: 30000,\n  status: 1\n}, {\n  id: 3,\n  planName: '12期免息',\n  installmentCount: 12,\n  interestRate: 0,\n  minAmount: 2000,\n  maxAmount: 20000,\n  status: 1\n}, {\n  id: 4,\n  planName: '24期',\n  installmentCount: 24,\n  interestRate: 0.05,\n  // 5%年利率\n  minAmount: 5000,\n  maxAmount: 50000,\n  status: 1\n}, {\n  id: 5,\n  planName: '36期',\n  installmentCount: 36,\n  interestRate: 0.06,\n  // 6%年利率\n  minAmount: 10000,\n  maxAmount: 100000,\n  status: 1\n}];\n\n// 模拟用户ID\nconst MOCK_USER_ID = 1;\nconst OrderPage = () => {\n  _s();\n  const location = useLocation();\n  const navigate = useNavigate();\n  const dispatch = useDispatch();\n\n  // 从路由状态中获取数据\n  const state = location.state;\n\n  // 如果没有传递状态，重定向到首页\n  useEffect(() => {\n    if (!state || !state.selectedItems || state.selectedItems.length === 0) {\n      navigate('/');\n      message.error('订单信息不完整');\n    }\n  }, [state, navigate]);\n\n  // 订单状态\n  const [selectedAddress, setSelectedAddress] = useState(mockAddresses.find(a => a.isDefault) || null);\n  const [paymentMethod, setPaymentMethod] = useState('credit_card');\n  const [selectedCard, setSelectedCard] = useState(mockCreditCards.find(c => c.isDefault) || null);\n  const [installmentPlan, setInstallmentPlan] = useState(null);\n  const [remark, setRemark] = useState('');\n  const [loading, setLoading] = useState(false);\n\n  // 模态框状态\n  const [addressModalVisible, setAddressModalVisible] = useState(false);\n  const [cardModalVisible, setCardModalVisible] = useState(false);\n\n  // Form实例\n  const [form] = Form.useForm();\n\n  // 可用的分期方案\n  const [availableInstallmentPlans, setAvailableInstallmentPlans] = useState([]);\n\n  // 加载用户地址\n  useEffect(() => {\n    const fetchAddresses = async () => {\n      try {\n        // 这里可以从后端加载用户地址\n        // const addresses = await UserService.getUserAddresses(MOCK_USER_ID);\n        // setAddresses(addresses);\n        // setSelectedAddress(addresses.find(a => a.isDefault) || addresses[0] || null);\n      } catch (error) {\n        console.error('获取地址数据失败:', error);\n      }\n    };\n    fetchAddresses();\n  }, []);\n\n  // 加载用户信用卡\n  useEffect(() => {\n    const fetchCreditCards = async () => {\n      try {\n        // 这里可以从后端加载用户信用卡\n        // const cards = await PaymentService.getUserCreditCards(MOCK_USER_ID);\n        // setCreditCards(cards);\n        // setSelectedCard(cards.find(c => c.isDefault) || cards[0] || null);\n      } catch (error) {\n        console.error('获取信用卡数据失败:', error);\n      }\n    };\n    if (paymentMethod === 'credit_card') {\n      fetchCreditCards();\n    }\n  }, [paymentMethod]);\n\n  // 加载分期方案\n  useEffect(() => {\n    const fetchInstallmentPlans = async () => {\n      try {\n        if (state !== null && state !== void 0 && state.actualAmount) {\n          // 这里可以从后端加载分期方案\n          // const plans = await PaymentService.getAvailableInstallmentPlans(state.actualAmount);\n          // setInstallmentPlans(plans);\n        }\n      } catch (error) {\n        console.error('获取分期方案数据失败:', error);\n      }\n    };\n    if (paymentMethod === 'credit_card') {\n      fetchInstallmentPlans();\n    }\n  }, [paymentMethod, state === null || state === void 0 ? void 0 : state.actualAmount]);\n\n  // 处理地址选择\n  const handleAddressSelect = address => {\n    setSelectedAddress(address);\n  };\n\n  // 处理支付方式选择\n  const handlePaymentMethodChange = e => {\n    setPaymentMethod(e.target.value);\n    if (e.target.value !== 'credit_card') {\n      setInstallmentPlan(null);\n    }\n  };\n\n  // 处理信用卡选择\n  const handleCardSelect = card => {\n    setSelectedCard(card);\n  };\n\n  // 处理分期方案选择\n  const handleInstallmentChange = planId => {\n    if (planId === null) {\n      setInstallmentPlan(null);\n    } else {\n      const plan = mockInstallmentPlans.find(p => p.id === planId) || null;\n      setInstallmentPlan(plan);\n    }\n  };\n\n  // 处理提交订单\n  const handleSubmitOrder = async () => {\n    if (!state) {\n      message.error('订单信息不完整');\n      return;\n    }\n    if (!selectedAddress) {\n      message.error('请选择收货地址');\n      return;\n    }\n    if (paymentMethod === 'credit_card' && !selectedCard) {\n      message.error('请选择信用卡');\n      return;\n    }\n    try {\n      var _state$coupon;\n      setLoading(true);\n\n      // 构建订单请求\n      const orderRequest = {\n        cartItemIds: state.cartItemIds,\n        addressId: selectedAddress.id,\n        paymentMethod,\n        creditCardId: selectedCard === null || selectedCard === void 0 ? void 0 : selectedCard.id,\n        installmentPlanId: installmentPlan === null || installmentPlan === void 0 ? void 0 : installmentPlan.id,\n        couponId: (_state$coupon = state.coupon) === null || _state$coupon === void 0 ? void 0 : _state$coupon.id,\n        pointsUsed: state.pointsUsed,\n        expectedAmount: state.actualAmount,\n        remark\n      };\n      console.log('提交订单请求:', orderRequest);\n\n      // 调用Redux异步action创建订单\n      const resultAction = await dispatch(createOrderAsync(orderRequest));\n      if (createOrderAsync.fulfilled.match(resultAction)) {\n        console.log('订单创建成功，响应:', resultAction.payload);\n\n        // 清空购物车\n        dispatch(clearCart());\n\n        // 创建路由状态\n        const paymentState = {\n          orderId: resultAction.payload.orderNo || '123456789',\n          amount: resultAction.payload.actualAmount || state.actualAmount,\n          paymentMethod: paymentMethod,\n          installmentPlanId: installmentPlan === null || installmentPlan === void 0 ? void 0 : installmentPlan.id\n        };\n\n        // 添加到本地订单列表（用于模拟）\n        const newOrder = {\n          id: resultAction.payload.orderNo,\n          userId: MOCK_USER_ID,\n          items: state.selectedItems,\n          totalAmount: state.actualAmount,\n          status: 'PENDING_PAYMENT',\n          // 明确设置状态为待付款\n          createdAt: new Date().toISOString(),\n          addressId: selectedAddress.id,\n          address: selectedAddress,\n          paymentMethod: paymentMethod\n        };\n\n        // 添加到Redux订单列表\n        dispatch(addLocalOrder(newOrder));\n        console.log('准备跳转到支付页面，状态:', paymentState);\n\n        // 跳转到支付页面\n        navigate('/payment', {\n          state: paymentState\n        });\n        message.success('订单提交成功！');\n      } else {\n        throw new Error('创建订单失败');\n      }\n    } catch (error) {\n      console.error('提交订单失败:', error);\n      message.error('提交订单失败，请稍后重试');\n\n      // 移除模拟数据处理，确保不会执行到这里的模拟数据代码\n      /*\n      // 模拟订单创建成功，使用模拟数据跳转到支付页面\n      const mockPaymentState = { \n        orderId: 'ORD' + Date.now(),\n        amount: state.actualAmount,\n        paymentMethod: paymentMethod,\n        installmentPlanId: installmentPlan?.id\n      };\n      \n      // 添加到本地订单列表（用于模拟）\n      const mockOrder: any = {\n        id: mockPaymentState.orderId,\n        userId: MOCK_USER_ID,\n        items: state.selectedItems,\n        totalAmount: state.actualAmount,\n        status: 'PENDING_PAYMENT', // 明确设置状态为待付款\n        createdAt: new Date().toISOString(),\n        addressId: selectedAddress.id,\n        address: selectedAddress,\n        paymentMethod: paymentMethod\n      };\n      \n      // 添加到Redux订单列表\n      dispatch(addLocalOrder(mockOrder));\n      \n      console.log('使用模拟数据跳转到支付页面，状态:', mockPaymentState);\n      navigate('/payment', { state: mockPaymentState });\n      */\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // 渲染地址列表\n  const renderAddressList = () => {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [mockAddresses.map(address => /*#__PURE__*/_jsxDEV(Card, {\n        size: \"small\",\n        style: {\n          marginBottom: 10,\n          cursor: 'pointer',\n          border: (selectedAddress === null || selectedAddress === void 0 ? void 0 : selectedAddress.id) === address.id ? '2px solid #1890ff' : '1px solid #d9d9d9'\n        },\n        onClick: () => handleAddressSelect(address),\n        children: /*#__PURE__*/_jsxDEV(Row, {\n          justify: \"space-between\",\n          align: \"middle\",\n          children: [/*#__PURE__*/_jsxDEV(Col, {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(Text, {\n                strong: true,\n                children: address.receiverName\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 399,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Text, {\n                style: {\n                  marginLeft: 8\n                },\n                children: address.phone\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 400,\n                columnNumber: 19\n              }, this), address.isDefault && /*#__PURE__*/_jsxDEV(Text, {\n                type: \"secondary\",\n                style: {\n                  marginLeft: 8\n                },\n                children: \"\\u9ED8\\u8BA4\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 402,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 398,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                marginTop: 4\n              },\n              children: /*#__PURE__*/_jsxDEV(Text, {\n                type: \"secondary\",\n                children: [address.province, \" \", address.city, \" \", address.district, \" \", address.detailAddress]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 406,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 405,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 397,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Col, {\n            children: /*#__PURE__*/_jsxDEV(Space, {\n              children: [/*#__PURE__*/_jsxDEV(Button, {\n                type: \"text\",\n                icon: /*#__PURE__*/_jsxDEV(EditOutlined, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 415,\n                  columnNumber: 27\n                }, this),\n                onClick: e => {\n                  e.stopPropagation();\n                  // 这里应该打开编辑地址的模态框\n                  message.info('编辑地址功能待实现');\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 413,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Button, {\n                type: \"text\",\n                danger: true,\n                icon: /*#__PURE__*/_jsxDEV(DeleteOutlined, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 425,\n                  columnNumber: 27\n                }, this),\n                onClick: e => {\n                  e.stopPropagation();\n                  // 这里应该删除地址\n                  message.info('删除地址功能待实现');\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 422,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 412,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 411,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 396,\n          columnNumber: 13\n        }, this)\n      }, address.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 386,\n        columnNumber: 11\n      }, this)), /*#__PURE__*/_jsxDEV(Button, {\n        type: \"dashed\",\n        block: true,\n        icon: /*#__PURE__*/_jsxDEV(PlusOutlined, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 440,\n          columnNumber: 17\n        }, this),\n        onClick: () => setAddressModalVisible(true),\n        children: \"\\u6DFB\\u52A0\\u65B0\\u5730\\u5740\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 437,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 384,\n      columnNumber: 7\n    }, this);\n  };\n\n  // 渲染信用卡列表\n  const renderCreditCardList = () => {\n    if (paymentMethod !== 'credit_card') {\n      return null;\n    }\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginTop: 16\n      },\n      children: [/*#__PURE__*/_jsxDEV(Title, {\n        level: 5,\n        children: \"\\u9009\\u62E9\\u4FE1\\u7528\\u5361\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 457,\n        columnNumber: 9\n      }, this), mockCreditCards.map(card => /*#__PURE__*/_jsxDEV(Card, {\n        size: \"small\",\n        style: {\n          marginBottom: 10,\n          cursor: 'pointer',\n          border: (selectedCard === null || selectedCard === void 0 ? void 0 : selectedCard.id) === card.id ? '2px solid #1890ff' : '1px solid #d9d9d9'\n        },\n        onClick: () => handleCardSelect(card),\n        children: /*#__PURE__*/_jsxDEV(Row, {\n          justify: \"space-between\",\n          align: \"middle\",\n          children: [/*#__PURE__*/_jsxDEV(Col, {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(CreditCardOutlined, {\n                style: {\n                  marginRight: 8\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 472,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Text, {\n                strong: true,\n                children: card.cardNumber\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 473,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 471,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                marginTop: 4\n              },\n              children: /*#__PURE__*/_jsxDEV(Text, {\n                type: \"secondary\",\n                children: [card.cardholderName, \" | \\u6709\\u6548\\u671F: \", card.expiryDate]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 476,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 475,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 470,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Col, {\n            children: /*#__PURE__*/_jsxDEV(Space, {\n              children: /*#__PURE__*/_jsxDEV(Button, {\n                type: \"text\",\n                icon: /*#__PURE__*/_jsxDEV(EditOutlined, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 485,\n                  columnNumber: 27\n                }, this),\n                onClick: e => {\n                  e.stopPropagation();\n                  // 这里应该打开编辑信用卡的模态框\n                  message.info('编辑信用卡功能待实现');\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 483,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 482,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 481,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 469,\n          columnNumber: 13\n        }, this)\n      }, card.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 459,\n        columnNumber: 11\n      }, this)), /*#__PURE__*/_jsxDEV(Button, {\n        type: \"dashed\",\n        block: true,\n        icon: /*#__PURE__*/_jsxDEV(PlusOutlined, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 500,\n          columnNumber: 17\n        }, this),\n        onClick: () => setCardModalVisible(true),\n        children: \"\\u6DFB\\u52A0\\u65B0\\u4FE1\\u7528\\u5361\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 497,\n        columnNumber: 9\n      }, this), selectedCard && mockInstallmentPlans.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginTop: 16\n        },\n        children: [/*#__PURE__*/_jsxDEV(Title, {\n          level: 5,\n          children: \"\\u5206\\u671F\\u4ED8\\u6B3E\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 509,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Select, {\n          style: {\n            width: '100%'\n          },\n          placeholder: \"\\u8BF7\\u9009\\u62E9\\u5206\\u671F\\u65B9\\u6848\",\n          value: (installmentPlan === null || installmentPlan === void 0 ? void 0 : installmentPlan.id) || null,\n          onChange: handleInstallmentChange,\n          allowClear: true,\n          children: mockInstallmentPlans.map(plan => /*#__PURE__*/_jsxDEV(Option, {\n            value: plan.id,\n            children: [plan.planName, \" (\", plan.installmentCount || 0, \"\\u671F)\", plan.interestRate > 0 ? ` - 年利率${plan.interestRate * 100}%` : ' - 免息']\n          }, plan.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 518,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 510,\n          columnNumber: 13\n        }, this), installmentPlan && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginTop: 8\n          },\n          children: installmentPlan.interestRate > 0 ? /*#__PURE__*/_jsxDEV(Space, {\n            direction: \"vertical\",\n            size: \"small\",\n            style: {\n              width: '100%'\n            },\n            children: [/*#__PURE__*/_jsxDEV(Text, {\n              type: \"secondary\",\n              children: [\"\\u8BA2\\u5355\\u91D1\\u989D: \\xA5\", state.actualAmount.toFixed(2)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 528,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(Text, {\n              type: \"secondary\",\n              children: [\"\\u5206\\u671F\\u671F\\u6570: \", installmentPlan.installmentCount || 0, \"\\u671F\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 531,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(Text, {\n              type: \"secondary\",\n              children: [\"\\u5E74\\u5316\\u5229\\u7387: \", (installmentPlan.interestRate * 100).toFixed(2), \"%\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 534,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(Text, {\n              type: \"secondary\",\n              children: [\"\\u603B\\u5229\\u606F: \\xA5\", (state.actualAmount * installmentPlan.interestRate * ((installmentPlan.installmentCount || 0) / 12)).toFixed(2)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 538,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(Text, {\n              type: \"secondary\",\n              children: [\"\\u603B\\u8FD8\\u6B3E\\u91D1\\u989D: \\xA5\", (state.actualAmount * (1 + installmentPlan.interestRate * ((installmentPlan.installmentCount || 0) / 12))).toFixed(2)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 541,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(Text, {\n              type: \"secondary\",\n              children: [\"\\u6BCF\\u671F\\u8FD8\\u6B3E: \\xA5\", (state.actualAmount * (1 + installmentPlan.interestRate * ((installmentPlan.installmentCount || 0) / 12)) / (installmentPlan.installmentCount || 1)).toFixed(2)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 544,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 527,\n            columnNumber: 19\n          }, this) : /*#__PURE__*/_jsxDEV(Space, {\n            direction: \"vertical\",\n            size: \"small\",\n            style: {\n              width: '100%'\n            },\n            children: [/*#__PURE__*/_jsxDEV(Text, {\n              type: \"secondary\",\n              children: [\"\\u8BA2\\u5355\\u91D1\\u989D: \\xA5\", state.actualAmount.toFixed(2)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 550,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(Text, {\n              type: \"secondary\",\n              children: [\"\\u5206\\u671F\\u671F\\u6570: \", installmentPlan.installmentCount || 0, \"\\u671F\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 553,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(Text, {\n              type: \"secondary\",\n              children: [\"\\u6BCF\\u671F\\u8FD8\\u6B3E: \\xA5\", (state.actualAmount / (installmentPlan.installmentCount || 1)).toFixed(2)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 556,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(Text, {\n              type: \"secondary\",\n              strong: true,\n              style: {\n                color: '#52c41a'\n              },\n              children: \"\\u514D\\u606F\\u7279\\u60E0: \\u603B\\u624B\\u7EED\\u8D39\\xA50.00\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 559,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 549,\n            columnNumber: 19\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 525,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 508,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 456,\n      columnNumber: 7\n    }, this);\n  };\n\n  // 渲染商品列表\n  const renderProductList = () => {\n    if (!state || !state.selectedItems) {\n      return null;\n    }\n    const columns = [{\n      title: '商品信息',\n      dataIndex: 'product',\n      key: 'product',\n      render: product => /*#__PURE__*/_jsxDEV(Space, {\n        children: [/*#__PURE__*/_jsxDEV(Image, {\n          width: 50,\n          height: 50,\n          src: product.imageUrl || 'https://via.placeholder.com/50x50?text=暂无图片',\n          alt: product.name,\n          style: {\n            objectFit: 'cover'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 585,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Text, {\n          children: product.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 592,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 584,\n        columnNumber: 11\n      }, this)\n    }, {\n      title: '单价',\n      dataIndex: 'product',\n      key: 'price',\n      width: 100,\n      render: product => /*#__PURE__*/_jsxDEV(Text, {\n        children: [\"\\xA5\", product.price]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 602,\n        columnNumber: 11\n      }, this)\n    }, {\n      title: '数量',\n      dataIndex: 'quantity',\n      key: 'quantity',\n      width: 80,\n      render: quantity => /*#__PURE__*/_jsxDEV(Text, {\n        children: quantity\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 611,\n        columnNumber: 11\n      }, this)\n    }, {\n      title: '小计',\n      key: 'subtotal',\n      width: 100,\n      render: record => /*#__PURE__*/_jsxDEV(Text, {\n        children: [\"\\xA5\", (record.product.price * record.quantity).toFixed(2)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 619,\n        columnNumber: 11\n      }, this)\n    }];\n    return /*#__PURE__*/_jsxDEV(Table, {\n      columns: columns,\n      dataSource: state.selectedItems,\n      rowKey: record => record.product.id,\n      pagination: false,\n      size: \"small\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 625,\n      columnNumber: 7\n    }, this);\n  };\n  if (!state || !state.selectedItems) {\n    return null;\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      padding: '20px'\n    },\n    children: [/*#__PURE__*/_jsxDEV(Title, {\n      level: 2,\n      children: \"\\u786E\\u8BA4\\u8BA2\\u5355\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 641,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Card, {\n      title: \"\\u6536\\u8D27\\u5730\\u5740\",\n      style: {\n        marginBottom: 20\n      },\n      children: renderAddressList()\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 644,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Card, {\n      title: \"\\u5546\\u54C1\\u4FE1\\u606F\",\n      style: {\n        marginBottom: 20\n      },\n      children: renderProductList()\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 649,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Card, {\n      title: \"\\u652F\\u4ED8\\u65B9\\u5F0F\",\n      style: {\n        marginBottom: 20\n      },\n      children: [/*#__PURE__*/_jsxDEV(Radio.Group, {\n        value: paymentMethod,\n        onChange: handlePaymentMethodChange,\n        children: /*#__PURE__*/_jsxDEV(Space, {\n          direction: \"vertical\",\n          style: {\n            width: '100%'\n          },\n          children: [/*#__PURE__*/_jsxDEV(Radio, {\n            value: \"credit_card\",\n            children: /*#__PURE__*/_jsxDEV(Space, {\n              children: [/*#__PURE__*/_jsxDEV(CreditCardOutlined, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 660,\n                columnNumber: 17\n              }, this), \"\\u4FE1\\u7528\\u5361\\u652F\\u4ED8\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 659,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 658,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Radio, {\n            value: \"alipay\",\n            children: /*#__PURE__*/_jsxDEV(Space, {\n              children: [/*#__PURE__*/_jsxDEV(AlipayCircleOutlined, {\n                style: {\n                  color: '#1677FF'\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 666,\n                columnNumber: 17\n              }, this), \"\\u652F\\u4ED8\\u5B9D\\u652F\\u4ED8\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 665,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 664,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Radio, {\n            value: \"wechat\",\n            children: /*#__PURE__*/_jsxDEV(Space, {\n              children: [/*#__PURE__*/_jsxDEV(WechatOutlined, {\n                style: {\n                  color: '#07C160'\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 672,\n                columnNumber: 17\n              }, this), \"\\u5FAE\\u4FE1\\u652F\\u4ED8\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 671,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 670,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Radio, {\n            value: \"bank_transfer\",\n            children: /*#__PURE__*/_jsxDEV(Space, {\n              children: [/*#__PURE__*/_jsxDEV(BankOutlined, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 678,\n                columnNumber: 17\n              }, this), \"\\u94F6\\u884C\\u8F6C\\u8D26\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 677,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 676,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Radio, {\n            value: \"wallet\",\n            children: /*#__PURE__*/_jsxDEV(Space, {\n              children: [/*#__PURE__*/_jsxDEV(WalletOutlined, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 684,\n                columnNumber: 17\n              }, this), \"\\u94B1\\u5305\\u652F\\u4ED8\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 683,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 682,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 656,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 655,\n        columnNumber: 9\n      }, this), paymentMethod === 'credit_card' && renderCreditCardList()]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 654,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Card, {\n      title: \"\\u8BA2\\u5355\\u5907\\u6CE8\",\n      style: {\n        marginBottom: 20\n      },\n      children: /*#__PURE__*/_jsxDEV(TextArea, {\n        rows: 3,\n        placeholder: \"\\u8BF7\\u8F93\\u5165\\u8BA2\\u5355\\u5907\\u6CE8\\u4FE1\\u606F\",\n        value: remark,\n        onChange: e => setRemark(e.target.value),\n        maxLength: 200\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 696,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 695,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Card, {\n      style: {\n        marginBottom: 20\n      },\n      children: /*#__PURE__*/_jsxDEV(Row, {\n        justify: \"end\",\n        children: /*#__PURE__*/_jsxDEV(Col, {\n          children: /*#__PURE__*/_jsxDEV(Space, {\n            direction: \"vertical\",\n            align: \"end\",\n            style: {\n              width: '100%'\n            },\n            children: [/*#__PURE__*/_jsxDEV(Text, {\n              children: [\"\\u5546\\u54C1\\u603B\\u4EF7: \\xA5\", state.selectedItems.reduce((total, item) => total + item.product.price * item.quantity, 0).toFixed(2)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 710,\n              columnNumber: 15\n            }, this), state.discountAmount > 0 && /*#__PURE__*/_jsxDEV(Text, {\n              children: [\"\\u4F18\\u60E0\\u91D1\\u989D: -\\xA5\", state.discountAmount.toFixed(2)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 714,\n              columnNumber: 17\n            }, this), state.pointsUsed > 0 && /*#__PURE__*/_jsxDEV(Text, {\n              children: [\"\\u79EF\\u5206\\u62B5\\u6263: \", state.pointsUsed, \" \\u79EF\\u5206\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 718,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Text, {\n              strong: true,\n              style: {\n                fontSize: 16\n              },\n              children: [\"\\u5E94\\u4ED8\\u91D1\\u989D: \", /*#__PURE__*/_jsxDEV(\"span\", {\n                style: {\n                  color: '#ff4d4f'\n                },\n                children: [\"\\xA5\", state.actualAmount.toFixed(2)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 722,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 721,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 709,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 708,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 707,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 706,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Row, {\n      justify: \"end\",\n      children: /*#__PURE__*/_jsxDEV(Col, {\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          type: \"primary\",\n          size: \"large\",\n          onClick: handleSubmitOrder,\n          children: \"\\u63D0\\u4EA4\\u8BA2\\u5355\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 732,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 731,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 730,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      title: \"\\u6DFB\\u52A0\\u6536\\u8D27\\u5730\\u5740\",\n      open: addressModalVisible,\n      onCancel: () => setAddressModalVisible(false),\n      onOk: () => {\n        form.validateFields().then(values => {\n          console.log('新增地址:', values);\n          message.success('地址添加成功');\n          setAddressModalVisible(false);\n          form.resetFields();\n        }).catch(info => {\n          console.log('验证失败:', info);\n        });\n      },\n      children: /*#__PURE__*/_jsxDEV(Form, {\n        form: form,\n        layout: \"vertical\",\n        children: [/*#__PURE__*/_jsxDEV(Form.Item, {\n          name: \"receiverName\",\n          label: \"\\u6536\\u8D27\\u4EBA\",\n          rules: [{\n            required: true,\n            message: '请输入收货人姓名'\n          }],\n          children: /*#__PURE__*/_jsxDEV(Input, {\n            placeholder: \"\\u8BF7\\u8F93\\u5165\\u6536\\u8D27\\u4EBA\\u59D3\\u540D\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 765,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 760,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n          name: \"phone\",\n          label: \"\\u624B\\u673A\\u53F7\\u7801\",\n          rules: [{\n            required: true,\n            message: '请输入手机号码'\n          }],\n          children: /*#__PURE__*/_jsxDEV(Input, {\n            placeholder: \"\\u8BF7\\u8F93\\u5165\\u624B\\u673A\\u53F7\\u7801\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 773,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 768,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n          name: \"province\",\n          label: \"\\u7701\\u4EFD\",\n          rules: [{\n            required: true,\n            message: '请选择省份'\n          }],\n          children: /*#__PURE__*/_jsxDEV(Select, {\n            placeholder: \"\\u8BF7\\u9009\\u62E9\\u7701\\u4EFD\",\n            children: [/*#__PURE__*/_jsxDEV(Option, {\n              value: \"\\u5E7F\\u4E1C\\u7701\",\n              children: \"\\u5E7F\\u4E1C\\u7701\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 782,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Option, {\n              value: \"\\u5317\\u4EAC\\u5E02\",\n              children: \"\\u5317\\u4EAC\\u5E02\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 783,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Option, {\n              value: \"\\u4E0A\\u6D77\\u5E02\",\n              children: \"\\u4E0A\\u6D77\\u5E02\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 784,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 781,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 776,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n          name: \"city\",\n          label: \"\\u57CE\\u5E02\",\n          rules: [{\n            required: true,\n            message: '请选择城市'\n          }],\n          children: /*#__PURE__*/_jsxDEV(Select, {\n            placeholder: \"\\u8BF7\\u9009\\u62E9\\u57CE\\u5E02\",\n            children: [/*#__PURE__*/_jsxDEV(Option, {\n              value: \"\\u6DF1\\u5733\\u5E02\",\n              children: \"\\u6DF1\\u5733\\u5E02\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 794,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Option, {\n              value: \"\\u5E7F\\u5DDE\\u5E02\",\n              children: \"\\u5E7F\\u5DDE\\u5E02\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 795,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Option, {\n              value: \"\\u4E1C\\u839E\\u5E02\",\n              children: \"\\u4E1C\\u839E\\u5E02\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 796,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 793,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 788,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n          name: \"district\",\n          label: \"\\u533A/\\u53BF\",\n          rules: [{\n            required: true,\n            message: '请选择区/县'\n          }],\n          children: /*#__PURE__*/_jsxDEV(Select, {\n            placeholder: \"\\u8BF7\\u9009\\u62E9\\u533A/\\u53BF\",\n            children: [/*#__PURE__*/_jsxDEV(Option, {\n              value: \"\\u5357\\u5C71\\u533A\",\n              children: \"\\u5357\\u5C71\\u533A\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 806,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Option, {\n              value: \"\\u798F\\u7530\\u533A\",\n              children: \"\\u798F\\u7530\\u533A\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 807,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Option, {\n              value: \"\\u7F57\\u6E56\\u533A\",\n              children: \"\\u7F57\\u6E56\\u533A\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 808,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 805,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 800,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n          name: \"detailAddress\",\n          label: \"\\u8BE6\\u7EC6\\u5730\\u5740\",\n          rules: [{\n            required: true,\n            message: '请输入详细地址'\n          }],\n          children: /*#__PURE__*/_jsxDEV(TextArea, {\n            rows: 2,\n            placeholder: \"\\u8BF7\\u8F93\\u5165\\u8BE6\\u7EC6\\u5730\\u5740\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 817,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 812,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n          name: \"isDefault\",\n          valuePropName: \"checked\",\n          children: /*#__PURE__*/_jsxDEV(Radio, {\n            children: \"\\u8BBE\\u4E3A\\u9ED8\\u8BA4\\u5730\\u5740\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 821,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 820,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 756,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 739,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      title: \"\\u6DFB\\u52A0\\u4FE1\\u7528\\u5361\",\n      open: cardModalVisible,\n      onCancel: () => setCardModalVisible(false),\n      onOk: () => {\n        form.validateFields().then(values => {\n          console.log('新增信用卡:', values);\n          message.success('信用卡添加成功');\n          setCardModalVisible(false);\n          form.resetFields();\n        }).catch(info => {\n          console.log('验证失败:', info);\n        });\n      },\n      children: /*#__PURE__*/_jsxDEV(Form, {\n        form: form,\n        layout: \"vertical\",\n        children: [/*#__PURE__*/_jsxDEV(Form.Item, {\n          name: \"cardNumber\",\n          label: \"\\u5361\\u53F7\",\n          rules: [{\n            required: true,\n            message: '请输入信用卡卡号'\n          }],\n          children: /*#__PURE__*/_jsxDEV(Input, {\n            placeholder: \"\\u8BF7\\u8F93\\u5165\\u4FE1\\u7528\\u5361\\u5361\\u53F7\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 853,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 848,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n          name: \"cardholderName\",\n          label: \"\\u6301\\u5361\\u4EBA\\u59D3\\u540D\",\n          rules: [{\n            required: true,\n            message: '请输入持卡人姓名'\n          }],\n          children: /*#__PURE__*/_jsxDEV(Input, {\n            placeholder: \"\\u8BF7\\u8F93\\u5165\\u6301\\u5361\\u4EBA\\u59D3\\u540D\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 861,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 856,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Row, {\n          gutter: 16,\n          children: [/*#__PURE__*/_jsxDEV(Col, {\n            span: 12,\n            children: /*#__PURE__*/_jsxDEV(Form.Item, {\n              name: \"expiryMonth\",\n              label: \"\\u6709\\u6548\\u671F(\\u6708)\",\n              rules: [{\n                required: true,\n                message: '请选择月份'\n              }],\n              children: /*#__PURE__*/_jsxDEV(Select, {\n                placeholder: \"\\u6708\",\n                children: Array.from({\n                  length: 12\n                }, (_, i) => /*#__PURE__*/_jsxDEV(Option, {\n                  value: i + 1,\n                  children: String(i + 1).padStart(2, '0')\n                }, i + 1, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 873,\n                  columnNumber: 21\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 871,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 866,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 865,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Col, {\n            span: 12,\n            children: /*#__PURE__*/_jsxDEV(Form.Item, {\n              name: \"expiryYear\",\n              label: \"\\u6709\\u6548\\u671F(\\u5E74)\",\n              rules: [{\n                required: true,\n                message: '请选择年份'\n              }],\n              children: /*#__PURE__*/_jsxDEV(Select, {\n                placeholder: \"\\u5E74\",\n                children: Array.from({\n                  length: 10\n                }, (_, i) => {\n                  const year = new Date().getFullYear() + i;\n                  return /*#__PURE__*/_jsxDEV(Option, {\n                    value: year,\n                    children: year\n                  }, year, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 890,\n                    columnNumber: 23\n                  }, this);\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 886,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 881,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 880,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 864,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n          name: \"cvv\",\n          label: \"\\u5B89\\u5168\\u7801\",\n          rules: [{\n            required: true,\n            message: '请输入安全码'\n          }],\n          children: /*#__PURE__*/_jsxDEV(Input, {\n            placeholder: \"\\u8BF7\\u8F93\\u5165\\u5361\\u80CC\\u9762\\u76843\\u4F4D\\u5B89\\u5168\\u7801\",\n            maxLength: 3\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 905,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 900,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n          name: \"isDefault\",\n          valuePropName: \"checked\",\n          children: /*#__PURE__*/_jsxDEV(Radio, {\n            children: \"\\u8BBE\\u4E3A\\u9ED8\\u8BA4\\u5361\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 909,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 908,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 844,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 827,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 640,\n    columnNumber: 5\n  }, this);\n};\n_s(OrderPage, \"dcdBi47QrWMCPejQSnHUl9Rztpk=\", false, function () {\n  return [useLocation, useNavigate, useDispatch, Form.useForm];\n});\n_c = OrderPage;\nexport default OrderPage;\nvar _c;\n$RefreshReg$(_c, \"OrderPage\");","map":{"version":3,"names":["React","useState","useEffect","Card","Typography","Button","Space","Row","Col","Radio","Input","message","Table","Image","Form","Modal","Select","EditOutlined","PlusOutlined","CreditCardOutlined","BankOutlined","WalletOutlined","DeleteOutlined","AlipayCircleOutlined","WechatOutlined","useLocation","useNavigate","useDispatch","clearCart","createOrderAsync","addLocalOrder","jsxDEV","_jsxDEV","Title","Text","TextArea","Option","mockAddresses","id","userId","receiverName","phone","province","city","district","detailAddress","postalCode","isDefault","mockCreditCards","cardNumber","cardType","expiryDate","mockInstallmentPlans","planName","installmentCount","interestRate","minAmount","maxAmount","status","MOCK_USER_ID","OrderPage","_s","location","navigate","dispatch","state","selectedItems","length","error","selectedAddress","setSelectedAddress","find","a","paymentMethod","setPaymentMethod","selectedCard","setSelectedCard","c","installmentPlan","setInstallmentPlan","remark","setRemark","loading","setLoading","addressModalVisible","setAddressModalVisible","cardModalVisible","setCardModalVisible","form","useForm","availableInstallmentPlans","setAvailableInstallmentPlans","fetchAddresses","console","fetchCreditCards","fetchInstallmentPlans","actualAmount","handleAddressSelect","address","handlePaymentMethodChange","e","target","value","handleCardSelect","card","handleInstallmentChange","planId","plan","p","handleSubmitOrder","_state$coupon","orderRequest","cartItemIds","addressId","creditCardId","installmentPlanId","couponId","coupon","pointsUsed","expectedAmount","log","resultAction","fulfilled","match","payload","paymentState","orderId","orderNo","amount","newOrder","items","totalAmount","createdAt","Date","toISOString","success","Error","renderAddressList","children","map","size","style","marginBottom","cursor","border","onClick","justify","align","strong","fileName","_jsxFileName","lineNumber","columnNumber","marginLeft","type","marginTop","icon","stopPropagation","info","danger","block","renderCreditCardList","level","marginRight","cardholderName","width","placeholder","onChange","allowClear","direction","toFixed","color","renderProductList","columns","title","dataIndex","key","render","product","height","src","imageUrl","alt","name","objectFit","price","quantity","record","dataSource","rowKey","pagination","padding","Group","rows","maxLength","reduce","total","item","discountAmount","fontSize","open","onCancel","onOk","validateFields","then","values","resetFields","catch","layout","Item","label","rules","required","valuePropName","gutter","span","Array","from","_","i","String","padStart","year","getFullYear","_c","$RefreshReg$"],"sources":["D:/luckymall/frontend/src/pages/OrderPage.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { \n  Card, \n  Typography, \n  Button, \n  Space, \n  Row, \n  Col, \n  Divider, \n  Radio, \n  Input, \n  message,\n  Table,\n  Image,\n  Form,\n  Modal,\n  Select\n} from 'antd';\nimport { \n  EditOutlined, \n  PlusOutlined, \n  CreditCardOutlined, \n  BankOutlined, \n  WalletOutlined,\n  DeleteOutlined,\n  AlipayCircleOutlined,\n  WechatOutlined\n} from '@ant-design/icons';\nimport { useLocation, useNavigate } from 'react-router-dom';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { RootState, AppDispatch } from '../store';\nimport { clearCart } from '../store/slices/cartSlice';\nimport { createOrderAsync, addLocalOrder } from '../store/slices/orderSlice';\nimport { CartItem, Coupon, UserAddress, UserCreditCard, InstallmentPlan } from '../types';\nimport { OrderService, CreateOrderRequest } from '../services/orderService';\nimport { PaymentService } from '../services/paymentService';\n\nconst { Title, Text } = Typography;\nconst { TextArea } = Input;\nconst { Option } = Select;\n\n// 模拟用户地址数据\nconst mockAddresses: UserAddress[] = [\n  {\n    id: 1,\n    userId: 1,\n    receiverName: '张三',\n    phone: '13800138000',\n    province: '广东省',\n    city: '深圳市',\n    district: '南山区',\n    detailAddress: '科技园南路XX号XX大厦XX室',\n    postalCode: '518000',\n    isDefault: true\n  },\n  {\n    id: 2,\n    userId: 1,\n    receiverName: '李四',\n    phone: '13900139000',\n    province: '广东省',\n    city: '广州市',\n    district: '天河区',\n    detailAddress: '天河路XX号XX公寓XX室',\n    postalCode: '510000',\n    isDefault: false\n  }\n];\n\n// 模拟用户信用卡数据\nconst mockCreditCards: UserCreditCard[] = [\n  {\n    id: 1,\n    userId: 1,\n    cardNumber: '6225 **** **** 8888',\n    cardType: 'VISA',\n    expiryDate: '12/25',\n    isDefault: true\n  },\n  {\n    id: 2,\n    userId: 1,\n    cardNumber: '6222 **** **** 9999',\n    cardType: 'MasterCard',\n    expiryDate: '09/24',\n    isDefault: false\n  }\n];\n\n// 模拟分期方案数据\nconst mockInstallmentPlans: InstallmentPlan[] = [\n  {\n    id: 1,\n    planName: '3期免息',\n    installmentCount: 3,\n    interestRate: 0,\n    minAmount: 500,\n    maxAmount: 50000,\n    status: 1\n  },\n  {\n    id: 2,\n    planName: '6期免息',\n    installmentCount: 6,\n    interestRate: 0,\n    minAmount: 1000,\n    maxAmount: 30000,\n    status: 1\n  },\n  {\n    id: 3,\n    planName: '12期免息',\n    installmentCount: 12,\n    interestRate: 0,\n    minAmount: 2000,\n    maxAmount: 20000,\n    status: 1\n  },\n  {\n    id: 4,\n    planName: '24期',\n    installmentCount: 24,\n    interestRate: 0.05, // 5%年利率\n    minAmount: 5000,\n    maxAmount: 50000,\n    status: 1\n  },\n  {\n    id: 5,\n    planName: '36期',\n    installmentCount: 36,\n    interestRate: 0.06, // 6%年利率\n    minAmount: 10000,\n    maxAmount: 100000,\n    status: 1\n  }\n];\n\n// 模拟用户ID\nconst MOCK_USER_ID = 1;\n\ninterface OrderPageState {\n  cartItemIds: number[];\n  selectedItems: CartItem[];\n  coupon: Coupon | null;\n  pointsUsed: number;\n  discountAmount: number;\n  actualAmount: number;\n}\n\nconst OrderPage: React.FC = () => {\n  const location = useLocation();\n  const navigate = useNavigate();\n  const dispatch = useDispatch<AppDispatch>();\n  \n  // 从路由状态中获取数据\n  const state = location.state as OrderPageState;\n  \n  // 如果没有传递状态，重定向到首页\n  useEffect(() => {\n    if (!state || !state.selectedItems || state.selectedItems.length === 0) {\n      navigate('/');\n      message.error('订单信息不完整');\n    }\n  }, [state, navigate]);\n  \n  // 订单状态\n  const [selectedAddress, setSelectedAddress] = useState<UserAddress | null>(mockAddresses.find(a => a.isDefault) || null);\n  const [paymentMethod, setPaymentMethod] = useState<string>('credit_card');\n  const [selectedCard, setSelectedCard] = useState<UserCreditCard | null>(mockCreditCards.find(c => c.isDefault) || null);\n  const [installmentPlan, setInstallmentPlan] = useState<InstallmentPlan | null>(null);\n  const [remark, setRemark] = useState<string>('');\n  const [loading, setLoading] = useState<boolean>(false);\n  \n  // 模态框状态\n  const [addressModalVisible, setAddressModalVisible] = useState<boolean>(false);\n  const [cardModalVisible, setCardModalVisible] = useState<boolean>(false);\n  \n  // Form实例\n  const [form] = Form.useForm();\n  \n  // 可用的分期方案\n  const [availableInstallmentPlans, setAvailableInstallmentPlans] = useState<InstallmentPlan[]>([]);\n  \n  // 加载用户地址\n  useEffect(() => {\n    const fetchAddresses = async () => {\n      try {\n        // 这里可以从后端加载用户地址\n        // const addresses = await UserService.getUserAddresses(MOCK_USER_ID);\n        // setAddresses(addresses);\n        // setSelectedAddress(addresses.find(a => a.isDefault) || addresses[0] || null);\n      } catch (error) {\n        console.error('获取地址数据失败:', error);\n      }\n    };\n    \n    fetchAddresses();\n  }, []);\n  \n  // 加载用户信用卡\n  useEffect(() => {\n    const fetchCreditCards = async () => {\n      try {\n        // 这里可以从后端加载用户信用卡\n        // const cards = await PaymentService.getUserCreditCards(MOCK_USER_ID);\n        // setCreditCards(cards);\n        // setSelectedCard(cards.find(c => c.isDefault) || cards[0] || null);\n      } catch (error) {\n        console.error('获取信用卡数据失败:', error);\n      }\n    };\n    \n    if (paymentMethod === 'credit_card') {\n      fetchCreditCards();\n    }\n  }, [paymentMethod]);\n  \n  // 加载分期方案\n  useEffect(() => {\n    const fetchInstallmentPlans = async () => {\n      try {\n        if (state?.actualAmount) {\n          // 这里可以从后端加载分期方案\n          // const plans = await PaymentService.getAvailableInstallmentPlans(state.actualAmount);\n          // setInstallmentPlans(plans);\n        }\n      } catch (error) {\n        console.error('获取分期方案数据失败:', error);\n      }\n    };\n    \n    if (paymentMethod === 'credit_card') {\n      fetchInstallmentPlans();\n    }\n  }, [paymentMethod, state?.actualAmount]);\n  \n  // 处理地址选择\n  const handleAddressSelect = (address: UserAddress) => {\n    setSelectedAddress(address);\n  };\n  \n  // 处理支付方式选择\n  const handlePaymentMethodChange = (e: any) => {\n    setPaymentMethod(e.target.value);\n    if (e.target.value !== 'credit_card') {\n      setInstallmentPlan(null);\n    }\n  };\n  \n  // 处理信用卡选择\n  const handleCardSelect = (card: UserCreditCard) => {\n    setSelectedCard(card);\n  };\n  \n  // 处理分期方案选择\n  const handleInstallmentChange = (planId: number | null) => {\n    if (planId === null) {\n      setInstallmentPlan(null);\n    } else {\n      const plan = mockInstallmentPlans.find(p => p.id === planId) || null;\n      setInstallmentPlan(plan);\n    }\n  };\n  \n  // 处理提交订单\n  const handleSubmitOrder = async () => {\n    if (!state) {\n      message.error('订单信息不完整');\n      return;\n    }\n    \n    if (!selectedAddress) {\n      message.error('请选择收货地址');\n      return;\n    }\n    \n    if (paymentMethod === 'credit_card' && !selectedCard) {\n      message.error('请选择信用卡');\n      return;\n    }\n    \n    try {\n      setLoading(true);\n      \n      // 构建订单请求\n      const orderRequest: CreateOrderRequest = {\n        cartItemIds: state.cartItemIds,\n        addressId: selectedAddress.id,\n        paymentMethod,\n        creditCardId: selectedCard?.id,\n        installmentPlanId: installmentPlan?.id,\n        couponId: state.coupon?.id,\n        pointsUsed: state.pointsUsed,\n        expectedAmount: state.actualAmount,\n        remark\n      };\n      \n      console.log('提交订单请求:', orderRequest);\n      \n      // 调用Redux异步action创建订单\n      const resultAction = await dispatch(createOrderAsync(orderRequest));\n      \n      if (createOrderAsync.fulfilled.match(resultAction)) {\n        console.log('订单创建成功，响应:', resultAction.payload);\n        \n        // 清空购物车\n        dispatch(clearCart());\n        \n        // 创建路由状态\n        const paymentState = { \n          orderId: resultAction.payload.orderNo || '123456789',\n          amount: resultAction.payload.actualAmount || state.actualAmount,\n          paymentMethod: paymentMethod,\n          installmentPlanId: installmentPlan?.id\n        };\n        \n        // 添加到本地订单列表（用于模拟）\n        const newOrder: any = {\n          id: resultAction.payload.orderNo,\n          userId: MOCK_USER_ID,\n          items: state.selectedItems,\n          totalAmount: state.actualAmount,\n          status: 'PENDING_PAYMENT', // 明确设置状态为待付款\n          createdAt: new Date().toISOString(),\n          addressId: selectedAddress.id,\n          address: selectedAddress,\n          paymentMethod: paymentMethod\n        };\n        \n        // 添加到Redux订单列表\n        dispatch(addLocalOrder(newOrder));\n        \n        console.log('准备跳转到支付页面，状态:', paymentState);\n        \n        // 跳转到支付页面\n        navigate('/payment', { state: paymentState });\n        \n        message.success('订单提交成功！');\n      } else {\n        throw new Error('创建订单失败');\n      }\n    } catch (error) {\n      console.error('提交订单失败:', error);\n      message.error('提交订单失败，请稍后重试');\n      \n      // 移除模拟数据处理，确保不会执行到这里的模拟数据代码\n      /*\n      // 模拟订单创建成功，使用模拟数据跳转到支付页面\n      const mockPaymentState = { \n        orderId: 'ORD' + Date.now(),\n        amount: state.actualAmount,\n        paymentMethod: paymentMethod,\n        installmentPlanId: installmentPlan?.id\n      };\n      \n      // 添加到本地订单列表（用于模拟）\n      const mockOrder: any = {\n        id: mockPaymentState.orderId,\n        userId: MOCK_USER_ID,\n        items: state.selectedItems,\n        totalAmount: state.actualAmount,\n        status: 'PENDING_PAYMENT', // 明确设置状态为待付款\n        createdAt: new Date().toISOString(),\n        addressId: selectedAddress.id,\n        address: selectedAddress,\n        paymentMethod: paymentMethod\n      };\n      \n      // 添加到Redux订单列表\n      dispatch(addLocalOrder(mockOrder));\n      \n      console.log('使用模拟数据跳转到支付页面，状态:', mockPaymentState);\n      navigate('/payment', { state: mockPaymentState });\n      */\n    } finally {\n      setLoading(false);\n    }\n  };\n  \n  // 渲染地址列表\n  const renderAddressList = () => {\n    return (\n      <div>\n        {mockAddresses.map(address => (\n          <Card\n            key={address.id}\n            size=\"small\"\n            style={{ \n              marginBottom: 10, \n              cursor: 'pointer',\n              border: selectedAddress?.id === address.id ? '2px solid #1890ff' : '1px solid #d9d9d9'\n            }}\n            onClick={() => handleAddressSelect(address)}\n          >\n            <Row justify=\"space-between\" align=\"middle\">\n              <Col>\n                <div>\n                  <Text strong>{address.receiverName}</Text>\n                  <Text style={{ marginLeft: 8 }}>{address.phone}</Text>\n                  {address.isDefault && (\n                    <Text type=\"secondary\" style={{ marginLeft: 8 }}>默认</Text>\n                  )}\n                </div>\n                <div style={{ marginTop: 4 }}>\n                  <Text type=\"secondary\">\n                    {address.province} {address.city} {address.district} {address.detailAddress}\n                  </Text>\n                </div>\n              </Col>\n              <Col>\n                <Space>\n                  <Button \n                    type=\"text\" \n                    icon={<EditOutlined />} \n                    onClick={(e) => {\n                      e.stopPropagation();\n                      // 这里应该打开编辑地址的模态框\n                      message.info('编辑地址功能待实现');\n                    }}\n                  />\n                  <Button \n                    type=\"text\" \n                    danger \n                    icon={<DeleteOutlined />} \n                    onClick={(e) => {\n                      e.stopPropagation();\n                      // 这里应该删除地址\n                      message.info('删除地址功能待实现');\n                    }}\n                  />\n                </Space>\n              </Col>\n            </Row>\n          </Card>\n        ))}\n        <Button \n          type=\"dashed\" \n          block \n          icon={<PlusOutlined />}\n          onClick={() => setAddressModalVisible(true)}\n        >\n          添加新地址\n        </Button>\n      </div>\n    );\n  };\n  \n  // 渲染信用卡列表\n  const renderCreditCardList = () => {\n    if (paymentMethod !== 'credit_card') {\n      return null;\n    }\n    \n    return (\n      <div style={{ marginTop: 16 }}>\n        <Title level={5}>选择信用卡</Title>\n        {mockCreditCards.map(card => (\n          <Card\n            key={card.id}\n            size=\"small\"\n            style={{ \n              marginBottom: 10, \n              cursor: 'pointer',\n              border: selectedCard?.id === card.id ? '2px solid #1890ff' : '1px solid #d9d9d9'\n            }}\n            onClick={() => handleCardSelect(card)}\n          >\n            <Row justify=\"space-between\" align=\"middle\">\n              <Col>\n                <div>\n                  <CreditCardOutlined style={{ marginRight: 8 }} />\n                  <Text strong>{card.cardNumber}</Text>\n                </div>\n                <div style={{ marginTop: 4 }}>\n                  <Text type=\"secondary\">\n                    {card.cardholderName} | 有效期: {card.expiryDate}\n                  </Text>\n                </div>\n              </Col>\n              <Col>\n                <Space>\n                  <Button \n                    type=\"text\" \n                    icon={<EditOutlined />} \n                    onClick={(e) => {\n                      e.stopPropagation();\n                      // 这里应该打开编辑信用卡的模态框\n                      message.info('编辑信用卡功能待实现');\n                    }}\n                  />\n                </Space>\n              </Col>\n            </Row>\n          </Card>\n        ))}\n        <Button \n          type=\"dashed\" \n          block \n          icon={<PlusOutlined />}\n          onClick={() => setCardModalVisible(true)}\n        >\n          添加新信用卡\n        </Button>\n        \n        {/* 分期选择 */}\n        {selectedCard && mockInstallmentPlans.length > 0 && (\n          <div style={{ marginTop: 16 }}>\n            <Title level={5}>分期付款</Title>\n            <Select\n              style={{ width: '100%' }}\n              placeholder=\"请选择分期方案\"\n              value={installmentPlan?.id || null}\n              onChange={handleInstallmentChange}\n              allowClear\n            >\n              {mockInstallmentPlans.map(plan => (\n                <Option key={plan.id} value={plan.id}>\n                  {plan.planName} ({plan.installmentCount || 0}期)\n                  {plan.interestRate > 0 ? ` - 年利率${plan.interestRate * 100}%` : ' - 免息'}\n                </Option>\n              ))}\n            </Select>\n            {installmentPlan && (\n              <div style={{ marginTop: 8 }}>\n                {installmentPlan.interestRate > 0 ? (\n                  <Space direction=\"vertical\" size=\"small\" style={{ width: '100%' }}>\n                    <Text type=\"secondary\">\n                      订单金额: ¥{state.actualAmount.toFixed(2)}\n                    </Text>\n                    <Text type=\"secondary\">\n                      分期期数: {installmentPlan.installmentCount || 0}期\n                    </Text>\n                    <Text type=\"secondary\">\n                      年化利率: {(installmentPlan.interestRate * 100).toFixed(2)}%\n                    </Text>\n                    {/* 简单计算，实际应该使用更复杂的公式 */}\n                    <Text type=\"secondary\">\n                      总利息: ¥{(state.actualAmount * installmentPlan.interestRate * ((installmentPlan.installmentCount || 0) / 12)).toFixed(2)}\n                    </Text>\n                    <Text type=\"secondary\">\n                      总还款金额: ¥{(state.actualAmount * (1 + installmentPlan.interestRate * ((installmentPlan.installmentCount || 0) / 12))).toFixed(2)}\n                    </Text>\n                    <Text type=\"secondary\">\n                      每期还款: ¥{(state.actualAmount * (1 + installmentPlan.interestRate * ((installmentPlan.installmentCount || 0) / 12)) / (installmentPlan.installmentCount || 1)).toFixed(2)}\n                    </Text>\n                  </Space>\n                ) : (\n                  <Space direction=\"vertical\" size=\"small\" style={{ width: '100%' }}>\n                    <Text type=\"secondary\">\n                      订单金额: ¥{state.actualAmount.toFixed(2)}\n                    </Text>\n                    <Text type=\"secondary\">\n                      分期期数: {installmentPlan.installmentCount || 0}期\n                    </Text>\n                    <Text type=\"secondary\">\n                      每期还款: ¥{(state.actualAmount / (installmentPlan.installmentCount || 1)).toFixed(2)}\n                    </Text>\n                    <Text type=\"secondary\" strong style={{ color: '#52c41a' }}>\n                      免息特惠: 总手续费¥0.00\n                    </Text>\n                  </Space>\n                )}\n              </div>\n            )}\n          </div>\n        )}\n      </div>\n    );\n  };\n  \n  // 渲染商品列表\n  const renderProductList = () => {\n    if (!state || !state.selectedItems) {\n      return null;\n    }\n    \n    const columns = [\n      {\n        title: '商品信息',\n        dataIndex: 'product',\n        key: 'product',\n        render: (product: any) => (\n          <Space>\n            <Image\n              width={50}\n              height={50}\n              src={product.imageUrl || 'https://via.placeholder.com/50x50?text=暂无图片'}\n              alt={product.name}\n              style={{ objectFit: 'cover' }}\n            />\n            <Text>{product.name}</Text>\n          </Space>\n        ),\n      },\n      {\n        title: '单价',\n        dataIndex: 'product',\n        key: 'price',\n        width: 100,\n        render: (product: any) => (\n          <Text>¥{product.price}</Text>\n        ),\n      },\n      {\n        title: '数量',\n        dataIndex: 'quantity',\n        key: 'quantity',\n        width: 80,\n        render: (quantity: number) => (\n          <Text>{quantity}</Text>\n        ),\n      },\n      {\n        title: '小计',\n        key: 'subtotal',\n        width: 100,\n        render: (record: CartItem) => (\n          <Text>¥{(record.product.price * record.quantity).toFixed(2)}</Text>\n        ),\n      },\n    ];\n    \n    return (\n      <Table\n        columns={columns}\n        dataSource={state.selectedItems}\n        rowKey={(record) => record.product.id}\n        pagination={false}\n        size=\"small\"\n      />\n    );\n  };\n  \n  if (!state || !state.selectedItems) {\n    return null;\n  }\n  \n  return (\n    <div style={{ padding: '20px' }}>\n      <Title level={2}>确认订单</Title>\n      \n      {/* 收货地址 */}\n      <Card title=\"收货地址\" style={{ marginBottom: 20 }}>\n        {renderAddressList()}\n      </Card>\n      \n      {/* 商品信息 */}\n      <Card title=\"商品信息\" style={{ marginBottom: 20 }}>\n        {renderProductList()}\n      </Card>\n      \n      {/* 支付方式 */}\n      <Card title=\"支付方式\" style={{ marginBottom: 20 }}>\n        <Radio.Group value={paymentMethod} onChange={handlePaymentMethodChange}>\n          <Space direction=\"vertical\" style={{ width: '100%' }}>\n            {/* 模拟支付方式列表 */}\n            <Radio value=\"credit_card\">\n              <Space>\n                <CreditCardOutlined />\n                信用卡支付\n              </Space>\n            </Radio>\n            <Radio value=\"alipay\">\n              <Space>\n                <AlipayCircleOutlined style={{ color: '#1677FF' }} />\n                支付宝支付\n              </Space>\n            </Radio>\n            <Radio value=\"wechat\">\n              <Space>\n                <WechatOutlined style={{ color: '#07C160' }} />\n                微信支付\n              </Space>\n            </Radio>\n            <Radio value=\"bank_transfer\">\n              <Space>\n                <BankOutlined />\n                银行转账\n              </Space>\n            </Radio>\n            <Radio value=\"wallet\">\n              <Space>\n                <WalletOutlined />\n                钱包支付\n              </Space>\n            </Radio>\n          </Space>\n        </Radio.Group>\n        \n        {paymentMethod === 'credit_card' && renderCreditCardList()}\n      </Card>\n      \n      {/* 订单备注 */}\n      <Card title=\"订单备注\" style={{ marginBottom: 20 }}>\n        <TextArea\n          rows={3}\n          placeholder=\"请输入订单备注信息\"\n          value={remark}\n          onChange={(e) => setRemark(e.target.value)}\n          maxLength={200}\n        />\n      </Card>\n      \n      {/* 订单金额 */}\n      <Card style={{ marginBottom: 20 }}>\n        <Row justify=\"end\">\n          <Col>\n            <Space direction=\"vertical\" align=\"end\" style={{ width: '100%' }}>\n              <Text>商品总价: ¥{state.selectedItems.reduce((total, item) => \n                total + item.product.price * item.quantity, 0).toFixed(2)}</Text>\n              \n              {state.discountAmount > 0 && (\n                <Text>优惠金额: -¥{state.discountAmount.toFixed(2)}</Text>\n              )}\n              \n              {state.pointsUsed > 0 && (\n                <Text>积分抵扣: {state.pointsUsed} 积分</Text>\n              )}\n              \n              <Text strong style={{ fontSize: 16 }}>\n                应付金额: <span style={{ color: '#ff4d4f' }}>¥{state.actualAmount.toFixed(2)}</span>\n              </Text>\n            </Space>\n          </Col>\n        </Row>\n      </Card>\n      \n      {/* 提交订单 */}\n      <Row justify=\"end\">\n        <Col>\n          <Button type=\"primary\" size=\"large\" onClick={handleSubmitOrder}>\n            提交订单\n          </Button>\n        </Col>\n      </Row>\n      \n      {/* 添加地址模态框 */}\n      <Modal\n        title=\"添加收货地址\"\n        open={addressModalVisible}\n        onCancel={() => setAddressModalVisible(false)}\n        onOk={() => {\n          form.validateFields()\n            .then(values => {\n              console.log('新增地址:', values);\n              message.success('地址添加成功');\n              setAddressModalVisible(false);\n              form.resetFields();\n            })\n            .catch(info => {\n              console.log('验证失败:', info);\n            });\n        }}\n      >\n        <Form\n          form={form}\n          layout=\"vertical\"\n        >\n          <Form.Item\n            name=\"receiverName\"\n            label=\"收货人\"\n            rules={[{ required: true, message: '请输入收货人姓名' }]}\n          >\n            <Input placeholder=\"请输入收货人姓名\" />\n          </Form.Item>\n          \n          <Form.Item\n            name=\"phone\"\n            label=\"手机号码\"\n            rules={[{ required: true, message: '请输入手机号码' }]}\n          >\n            <Input placeholder=\"请输入手机号码\" />\n          </Form.Item>\n          \n          <Form.Item\n            name=\"province\"\n            label=\"省份\"\n            rules={[{ required: true, message: '请选择省份' }]}\n          >\n            <Select placeholder=\"请选择省份\">\n              <Option value=\"广东省\">广东省</Option>\n              <Option value=\"北京市\">北京市</Option>\n              <Option value=\"上海市\">上海市</Option>\n            </Select>\n          </Form.Item>\n          \n          <Form.Item\n            name=\"city\"\n            label=\"城市\"\n            rules={[{ required: true, message: '请选择城市' }]}\n          >\n            <Select placeholder=\"请选择城市\">\n              <Option value=\"深圳市\">深圳市</Option>\n              <Option value=\"广州市\">广州市</Option>\n              <Option value=\"东莞市\">东莞市</Option>\n            </Select>\n          </Form.Item>\n          \n          <Form.Item\n            name=\"district\"\n            label=\"区/县\"\n            rules={[{ required: true, message: '请选择区/县' }]}\n          >\n            <Select placeholder=\"请选择区/县\">\n              <Option value=\"南山区\">南山区</Option>\n              <Option value=\"福田区\">福田区</Option>\n              <Option value=\"罗湖区\">罗湖区</Option>\n            </Select>\n          </Form.Item>\n          \n          <Form.Item\n            name=\"detailAddress\"\n            label=\"详细地址\"\n            rules={[{ required: true, message: '请输入详细地址' }]}\n          >\n            <TextArea rows={2} placeholder=\"请输入详细地址\" />\n          </Form.Item>\n          \n          <Form.Item name=\"isDefault\" valuePropName=\"checked\">\n            <Radio>设为默认地址</Radio>\n          </Form.Item>\n        </Form>\n      </Modal>\n      \n      {/* 添加信用卡模态框 */}\n      <Modal\n        title=\"添加信用卡\"\n        open={cardModalVisible}\n        onCancel={() => setCardModalVisible(false)}\n        onOk={() => {\n          form.validateFields()\n            .then(values => {\n              console.log('新增信用卡:', values);\n              message.success('信用卡添加成功');\n              setCardModalVisible(false);\n              form.resetFields();\n            })\n            .catch(info => {\n              console.log('验证失败:', info);\n            });\n        }}\n      >\n        <Form\n          form={form}\n          layout=\"vertical\"\n        >\n          <Form.Item\n            name=\"cardNumber\"\n            label=\"卡号\"\n            rules={[{ required: true, message: '请输入信用卡卡号' }]}\n          >\n            <Input placeholder=\"请输入信用卡卡号\" />\n          </Form.Item>\n          \n          <Form.Item\n            name=\"cardholderName\"\n            label=\"持卡人姓名\"\n            rules={[{ required: true, message: '请输入持卡人姓名' }]}\n          >\n            <Input placeholder=\"请输入持卡人姓名\" />\n          </Form.Item>\n          \n          <Row gutter={16}>\n            <Col span={12}>\n              <Form.Item\n                name=\"expiryMonth\"\n                label=\"有效期(月)\"\n                rules={[{ required: true, message: '请选择月份' }]}\n              >\n                <Select placeholder=\"月\">\n                  {Array.from({ length: 12 }, (_, i) => (\n                    <Option key={i + 1} value={i + 1}>\n                      {String(i + 1).padStart(2, '0')}\n                    </Option>\n                  ))}\n                </Select>\n              </Form.Item>\n            </Col>\n            <Col span={12}>\n              <Form.Item\n                name=\"expiryYear\"\n                label=\"有效期(年)\"\n                rules={[{ required: true, message: '请选择年份' }]}\n              >\n                <Select placeholder=\"年\">\n                  {Array.from({ length: 10 }, (_, i) => {\n                    const year = new Date().getFullYear() + i;\n                    return (\n                      <Option key={year} value={year}>\n                        {year}\n                      </Option>\n                    );\n                  })}\n                </Select>\n              </Form.Item>\n            </Col>\n          </Row>\n          \n          <Form.Item\n            name=\"cvv\"\n            label=\"安全码\"\n            rules={[{ required: true, message: '请输入安全码' }]}\n          >\n            <Input placeholder=\"请输入卡背面的3位安全码\" maxLength={3} />\n          </Form.Item>\n          \n          <Form.Item name=\"isDefault\" valuePropName=\"checked\">\n            <Radio>设为默认卡</Radio>\n          </Form.Item>\n        </Form>\n      </Modal>\n    </div>\n  );\n};\n\nexport default OrderPage; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}