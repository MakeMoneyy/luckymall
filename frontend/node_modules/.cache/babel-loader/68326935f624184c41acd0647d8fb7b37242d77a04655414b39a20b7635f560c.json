{"ast":null,"code":"import api from './api';\n/**\r\n * 购物车服务类\r\n */\nexport class CartService {\n  /**\r\n   * 获取用户购物车商品列表\r\n   */\n  static async getCartItems(userId) {\n    const response = await api.get(`/api/cart/${userId}`);\n    return response.data.data;\n  }\n\n  /**\r\n   * 添加商品到购物车\r\n   */\n  static async addToCart(userId, productId, quantity) {\n    const response = await api.post(`/api/cart/${userId}/add`, {\n      productId,\n      quantity\n    });\n    return response.data.message;\n  }\n\n  /**\r\n   * 更新购物车商品数量\r\n   */\n  static async updateCartItemQuantity(userId, cartItemId, quantity) {\n    const response = await api.put(`/api/cart/${userId}/update`, {\n      cartItemId,\n      quantity\n    });\n    return response.data.message;\n  }\n\n  /**\r\n   * 从购物车删除商品\r\n   */\n  static async removeFromCart(userId, cartItemId) {\n    const response = await api.delete(`/api/cart/${userId}/item/${cartItemId}`);\n    return response.data.message;\n  }\n\n  /**\r\n   * 根据商品ID从购物车删除商品\r\n   */\n  static async removeFromCartByProductId(userId, productId) {\n    const response = await api.delete(`/api/cart/${userId}/product/${productId}`);\n    return response.data.message;\n  }\n\n  /**\r\n   * 清空用户购物车\r\n   */\n  static async clearCart(userId) {\n    const response = await api.delete(`/api/cart/${userId}/clear`);\n    return response.data.message;\n  }\n\n  /**\r\n   * 获取用户购物车商品数量\r\n   */\n  static async getCartItemCount(userId) {\n    const response = await api.get(`/api/cart/${userId}/count`);\n    return response.data.data;\n  }\n}","map":{"version":3,"names":["api","CartService","getCartItems","userId","response","get","data","addToCart","productId","quantity","post","message","updateCartItemQuantity","cartItemId","put","removeFromCart","delete","removeFromCartByProductId","clearCart","getCartItemCount"],"sources":["D:/luckymall/frontend/src/services/cartService.ts"],"sourcesContent":["import api from './api';\r\nimport { ApiResponse, CartItem, Product } from '../types';\r\n\r\n/**\r\n * 购物车服务类\r\n */\r\nexport class CartService {\r\n  /**\r\n   * 获取用户购物车商品列表\r\n   */\r\n  static async getCartItems(userId: number): Promise<CartItem[]> {\r\n    const response = await api.get<ApiResponse<CartItem[]>>(`/api/cart/${userId}`);\r\n    return response.data.data;\r\n  }\r\n\r\n  /**\r\n   * 添加商品到购物车\r\n   */\r\n  static async addToCart(userId: number, productId: number, quantity: number): Promise<string> {\r\n    const response = await api.post<ApiResponse<string>>(`/api/cart/${userId}/add`, {\r\n      productId,\r\n      quantity\r\n    });\r\n    return response.data.message;\r\n  }\r\n\r\n  /**\r\n   * 更新购物车商品数量\r\n   */\r\n  static async updateCartItemQuantity(userId: number, cartItemId: number, quantity: number): Promise<string> {\r\n    const response = await api.put<ApiResponse<string>>(`/api/cart/${userId}/update`, {\r\n      cartItemId,\r\n      quantity\r\n    });\r\n    return response.data.message;\r\n  }\r\n\r\n  /**\r\n   * 从购物车删除商品\r\n   */\r\n  static async removeFromCart(userId: number, cartItemId: number): Promise<string> {\r\n    const response = await api.delete<ApiResponse<string>>(`/api/cart/${userId}/item/${cartItemId}`);\r\n    return response.data.message;\r\n  }\r\n\r\n  /**\r\n   * 根据商品ID从购物车删除商品\r\n   */\r\n  static async removeFromCartByProductId(userId: number, productId: number): Promise<string> {\r\n    const response = await api.delete<ApiResponse<string>>(`/api/cart/${userId}/product/${productId}`);\r\n    return response.data.message;\r\n  }\r\n\r\n  /**\r\n   * 清空用户购物车\r\n   */\r\n  static async clearCart(userId: number): Promise<string> {\r\n    const response = await api.delete<ApiResponse<string>>(`/api/cart/${userId}/clear`);\r\n    return response.data.message;\r\n  }\r\n\r\n  /**\r\n   * 获取用户购物车商品数量\r\n   */\r\n  static async getCartItemCount(userId: number): Promise<number> {\r\n    const response = await api.get<ApiResponse<number>>(`/api/cart/${userId}/count`);\r\n    return response.data.data;\r\n  }\r\n} "],"mappings":"AAAA,OAAOA,GAAG,MAAM,OAAO;AAGvB;AACA;AACA;AACA,OAAO,MAAMC,WAAW,CAAC;EACvB;AACF;AACA;EACE,aAAaC,YAAYA,CAACC,MAAc,EAAuB;IAC7D,MAAMC,QAAQ,GAAG,MAAMJ,GAAG,CAACK,GAAG,CAA0B,aAAaF,MAAM,EAAE,CAAC;IAC9E,OAAOC,QAAQ,CAACE,IAAI,CAACA,IAAI;EAC3B;;EAEA;AACF;AACA;EACE,aAAaC,SAASA,CAACJ,MAAc,EAAEK,SAAiB,EAAEC,QAAgB,EAAmB;IAC3F,MAAML,QAAQ,GAAG,MAAMJ,GAAG,CAACU,IAAI,CAAsB,aAAaP,MAAM,MAAM,EAAE;MAC9EK,SAAS;MACTC;IACF,CAAC,CAAC;IACF,OAAOL,QAAQ,CAACE,IAAI,CAACK,OAAO;EAC9B;;EAEA;AACF;AACA;EACE,aAAaC,sBAAsBA,CAACT,MAAc,EAAEU,UAAkB,EAAEJ,QAAgB,EAAmB;IACzG,MAAML,QAAQ,GAAG,MAAMJ,GAAG,CAACc,GAAG,CAAsB,aAAaX,MAAM,SAAS,EAAE;MAChFU,UAAU;MACVJ;IACF,CAAC,CAAC;IACF,OAAOL,QAAQ,CAACE,IAAI,CAACK,OAAO;EAC9B;;EAEA;AACF;AACA;EACE,aAAaI,cAAcA,CAACZ,MAAc,EAAEU,UAAkB,EAAmB;IAC/E,MAAMT,QAAQ,GAAG,MAAMJ,GAAG,CAACgB,MAAM,CAAsB,aAAab,MAAM,SAASU,UAAU,EAAE,CAAC;IAChG,OAAOT,QAAQ,CAACE,IAAI,CAACK,OAAO;EAC9B;;EAEA;AACF;AACA;EACE,aAAaM,yBAAyBA,CAACd,MAAc,EAAEK,SAAiB,EAAmB;IACzF,MAAMJ,QAAQ,GAAG,MAAMJ,GAAG,CAACgB,MAAM,CAAsB,aAAab,MAAM,YAAYK,SAAS,EAAE,CAAC;IAClG,OAAOJ,QAAQ,CAACE,IAAI,CAACK,OAAO;EAC9B;;EAEA;AACF;AACA;EACE,aAAaO,SAASA,CAACf,MAAc,EAAmB;IACtD,MAAMC,QAAQ,GAAG,MAAMJ,GAAG,CAACgB,MAAM,CAAsB,aAAab,MAAM,QAAQ,CAAC;IACnF,OAAOC,QAAQ,CAACE,IAAI,CAACK,OAAO;EAC9B;;EAEA;AACF;AACA;EACE,aAAaQ,gBAAgBA,CAAChB,MAAc,EAAmB;IAC7D,MAAMC,QAAQ,GAAG,MAAMJ,GAAG,CAACK,GAAG,CAAsB,aAAaF,MAAM,QAAQ,CAAC;IAChF,OAAOC,QAAQ,CAACE,IAAI,CAACA,IAAI;EAC3B;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}