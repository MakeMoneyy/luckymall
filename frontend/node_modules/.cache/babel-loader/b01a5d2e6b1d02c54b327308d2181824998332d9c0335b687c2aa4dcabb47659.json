{"ast":null,"code":"var _jsxFileName = \"D:\\\\luckymall\\\\frontend\\\\src\\\\components\\\\SearchBar.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { Input, Button } from 'antd';\nimport { SearchOutlined } from '@ant-design/icons';\nimport { useDispatch } from 'react-redux';\nimport { useNavigate } from 'react-router-dom';\nimport { searchProducts } from '../store/slices/productSlice';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst {\n  Search\n} = Input;\nconst SearchBar = ({\n  placeholder = \"搜索商品...\",\n  size = 'middle',\n  style,\n  onSearch\n}) => {\n  _s();\n  const [keyword, setKeyword] = useState('');\n  const dispatch = useDispatch();\n  const navigate = useNavigate();\n  const handleSearch = value => {\n    const searchKeyword = value.trim();\n    if (searchKeyword) {\n      // 执行搜索\n      dispatch(searchProducts({\n        keyword: searchKeyword,\n        current: 1,\n        size: 12\n      }));\n\n      // 跳转到搜索结果页面\n      navigate(`/search?keyword=${encodeURIComponent(searchKeyword)}`);\n\n      // 如果有自定义搜索回调，也执行它\n      if (onSearch) {\n        onSearch(searchKeyword);\n      }\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(Search, {\n    placeholder: placeholder,\n    size: size,\n    style: style,\n    value: keyword,\n    onChange: e => setKeyword(e.target.value),\n    onSearch: handleSearch,\n    enterButton: /*#__PURE__*/_jsxDEV(Button, {\n      type: \"primary\",\n      icon: /*#__PURE__*/_jsxDEV(SearchOutlined, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 38\n      }, this),\n      children: \"\\u641C\\u7D22\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 9\n    }, this),\n    allowClear: true\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 49,\n    columnNumber: 5\n  }, this);\n};\n_s(SearchBar, \"/WvXz8XZi0UlqYG4b1PdnTOmiZI=\", false, function () {\n  return [useDispatch, useNavigate];\n});\n_c = SearchBar;\nexport default SearchBar;\nvar _c;\n$RefreshReg$(_c, \"SearchBar\");","map":{"version":3,"names":["React","useState","Input","Button","SearchOutlined","useDispatch","useNavigate","searchProducts","jsxDEV","_jsxDEV","Search","SearchBar","placeholder","size","style","onSearch","_s","keyword","setKeyword","dispatch","navigate","handleSearch","value","searchKeyword","trim","current","encodeURIComponent","onChange","e","target","enterButton","type","icon","fileName","_jsxFileName","lineNumber","columnNumber","children","allowClear","_c","$RefreshReg$"],"sources":["D:/luckymall/frontend/src/components/SearchBar.tsx"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { Input, Button, Space } from 'antd';\r\nimport { SearchOutlined } from '@ant-design/icons';\r\nimport { useDispatch } from 'react-redux';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { AppDispatch } from '../store';\r\nimport { searchProducts } from '../store/slices/productSlice';\r\n\r\nconst { Search } = Input;\r\n\r\ninterface SearchBarProps {\r\n  placeholder?: string;\r\n  size?: 'small' | 'middle' | 'large';\r\n  style?: React.CSSProperties;\r\n  onSearch?: (keyword: string) => void;\r\n}\r\n\r\nconst SearchBar: React.FC<SearchBarProps> = ({\r\n  placeholder = \"搜索商品...\",\r\n  size = 'middle',\r\n  style,\r\n  onSearch\r\n}) => {\r\n  const [keyword, setKeyword] = useState('');\r\n  const dispatch = useDispatch<AppDispatch>();\r\n  const navigate = useNavigate();\r\n  \r\n  const handleSearch = (value: string) => {\r\n    const searchKeyword = value.trim();\r\n    if (searchKeyword) {\r\n      // 执行搜索\r\n      dispatch(searchProducts({ \r\n        keyword: searchKeyword,\r\n        current: 1,\r\n        size: 12 \r\n      }));\r\n      \r\n      // 跳转到搜索结果页面\r\n      navigate(`/search?keyword=${encodeURIComponent(searchKeyword)}`);\r\n      \r\n      // 如果有自定义搜索回调，也执行它\r\n      if (onSearch) {\r\n        onSearch(searchKeyword);\r\n      }\r\n    }\r\n  };\r\n  \r\n  return (\r\n    <Search\r\n      placeholder={placeholder}\r\n      size={size}\r\n      style={style}\r\n      value={keyword}\r\n      onChange={(e) => setKeyword(e.target.value)}\r\n      onSearch={handleSearch}\r\n      enterButton={\r\n        <Button type=\"primary\" icon={<SearchOutlined />}>\r\n          搜索\r\n        </Button>\r\n      }\r\n      allowClear\r\n    />\r\n  );\r\n};\r\n\r\nexport default SearchBar; "],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AACvC,SAASC,KAAK,EAAEC,MAAM,QAAe,MAAM;AAC3C,SAASC,cAAc,QAAQ,mBAAmB;AAClD,SAASC,WAAW,QAAQ,aAAa;AACzC,SAASC,WAAW,QAAQ,kBAAkB;AAE9C,SAASC,cAAc,QAAQ,8BAA8B;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE9D,MAAM;EAAEC;AAAO,CAAC,GAAGR,KAAK;AASxB,MAAMS,SAAmC,GAAGA,CAAC;EAC3CC,WAAW,GAAG,SAAS;EACvBC,IAAI,GAAG,QAAQ;EACfC,KAAK;EACLC;AACF,CAAC,KAAK;EAAAC,EAAA;EACJ,MAAM,CAACC,OAAO,EAAEC,UAAU,CAAC,GAAGjB,QAAQ,CAAC,EAAE,CAAC;EAC1C,MAAMkB,QAAQ,GAAGd,WAAW,CAAc,CAAC;EAC3C,MAAMe,QAAQ,GAAGd,WAAW,CAAC,CAAC;EAE9B,MAAMe,YAAY,GAAIC,KAAa,IAAK;IACtC,MAAMC,aAAa,GAAGD,KAAK,CAACE,IAAI,CAAC,CAAC;IAClC,IAAID,aAAa,EAAE;MACjB;MACAJ,QAAQ,CAACZ,cAAc,CAAC;QACtBU,OAAO,EAAEM,aAAa;QACtBE,OAAO,EAAE,CAAC;QACVZ,IAAI,EAAE;MACR,CAAC,CAAC,CAAC;;MAEH;MACAO,QAAQ,CAAC,mBAAmBM,kBAAkB,CAACH,aAAa,CAAC,EAAE,CAAC;;MAEhE;MACA,IAAIR,QAAQ,EAAE;QACZA,QAAQ,CAACQ,aAAa,CAAC;MACzB;IACF;EACF,CAAC;EAED,oBACEd,OAAA,CAACC,MAAM;IACLE,WAAW,EAAEA,WAAY;IACzBC,IAAI,EAAEA,IAAK;IACXC,KAAK,EAAEA,KAAM;IACbQ,KAAK,EAAEL,OAAQ;IACfU,QAAQ,EAAGC,CAAC,IAAKV,UAAU,CAACU,CAAC,CAACC,MAAM,CAACP,KAAK,CAAE;IAC5CP,QAAQ,EAAEM,YAAa;IACvBS,WAAW,eACTrB,OAAA,CAACN,MAAM;MAAC4B,IAAI,EAAC,SAAS;MAACC,IAAI,eAAEvB,OAAA,CAACL,cAAc;QAAA6B,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAE;MAAAC,QAAA,EAAC;IAEjD;MAAAJ,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAQ,CACT;IACDE,UAAU;EAAA;IAAAL,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACX,CAAC;AAEN,CAAC;AAACpB,EAAA,CA9CIL,SAAmC;EAAA,QAOtBN,WAAW,EACXC,WAAW;AAAA;AAAAiC,EAAA,GARxB5B,SAAmC;AAgDzC,eAAeA,SAAS;AAAC,IAAA4B,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}