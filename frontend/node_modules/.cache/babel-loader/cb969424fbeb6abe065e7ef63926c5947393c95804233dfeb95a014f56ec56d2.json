{"ast":null,"code":"var _jsxFileName = \"D:\\\\\\u62DB\\u8D22\\u5546\\u57CE\\\\frontend\\\\src\\\\components\\\\ProductDetail.tsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect } from 'react';\nimport { Card, Row, Col, Button, Typography, Image, Tag, InputNumber, Space, Divider, Spin, Alert, Breadcrumb, message, FloatButton } from 'antd';\nimport { ShoppingCartOutlined, HeartOutlined, HomeOutlined, CustomerServiceOutlined } from '@ant-design/icons';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport { fetchProductById, resetCurrentProduct } from '../store/slices/productSlice';\nimport { addToCartAsync } from '../store/slices/cartSlice';\nimport CustomerServiceChat from './CustomerServiceChat';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst {\n  Title,\n  Text,\n  Paragraph\n} = Typography;\nconst ProductDetail = () => {\n  _s();\n  const {\n    id\n  } = useParams();\n  const navigate = useNavigate();\n  const dispatch = useDispatch();\n  const {\n    currentProduct,\n    detailLoading,\n    detailError\n  } = useSelector(state => state.products);\n  const {\n    loading: cartLoading,\n    currentUserId\n  } = useSelector(state => state.cart);\n  const [quantity, setQuantity] = React.useState(1);\n  const [showCustomerService, setShowCustomerService] = React.useState(false);\n  useEffect(() => {\n    if (id) {\n      dispatch(fetchProductById(Number(id)));\n    }\n\n    // 组件卸载时重置当前商品\n    return () => {\n      dispatch(resetCurrentProduct());\n    };\n  }, [dispatch, id]);\n  const handleQuantityChange = value => {\n    if (value && value > 0) {\n      setQuantity(value);\n    }\n  };\n  const handleAddToCart = async () => {\n    if (currentProduct) {\n      try {\n        await dispatch(addToCartAsync({\n          userId: currentUserId,\n          productId: currentProduct.id,\n          quantity\n        })).unwrap();\n        message.success(`已将 ${currentProduct.name} 加入购物车`);\n      } catch (error) {\n        console.error('添加到购物车失败:', error);\n        message.error('添加到购物车失败，请稍后重试');\n      }\n    }\n  };\n  const handleBuyNow = async () => {\n    if (currentProduct) {\n      // 先添加到购物车，然后跳转到购物车页面\n      try {\n        await dispatch(addToCartAsync({\n          userId: currentUserId,\n          productId: currentProduct.id,\n          quantity\n        })).unwrap();\n        message.success('商品已加入购物车，正在跳转...');\n        setTimeout(() => {\n          navigate('/cart');\n        }, 1000);\n      } catch (error) {\n        console.error('立即购买失败:', error);\n        message.error('操作失败，请稍后重试');\n      }\n    }\n  };\n\n  // 加载状态\n  if (detailLoading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        padding: '20px',\n        textAlign: 'center'\n      },\n      children: [/*#__PURE__*/_jsxDEV(Spin, {\n        size: \"large\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginTop: 16\n        },\n        children: \"\\u52A0\\u8F7D\\u5546\\u54C1\\u8BE6\\u60C5\\u4E2D...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 7\n    }, this);\n  }\n\n  // 错误状态\n  if (detailError) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        padding: '20px'\n      },\n      children: /*#__PURE__*/_jsxDEV(Alert, {\n        message: \"\\u52A0\\u8F7D\\u5931\\u8D25\",\n        description: detailError,\n        type: \"error\",\n        action: /*#__PURE__*/_jsxDEV(Button, {\n          onClick: () => id && dispatch(fetchProductById(Number(id))),\n          children: \"\\u91CD\\u8BD5\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 7\n    }, this);\n  }\n\n  // 商品不存在\n  if (!currentProduct) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        padding: '20px'\n      },\n      children: /*#__PURE__*/_jsxDEV(Alert, {\n        message: \"\\u5546\\u54C1\\u4E0D\\u5B58\\u5728\",\n        description: \"\\u60A8\\u8BBF\\u95EE\\u7684\\u5546\\u54C1\\u53EF\\u80FD\\u5DF2\\u4E0B\\u67B6\\u6216\\u4E0D\\u5B58\\u5728\",\n        type: \"warning\",\n        action: /*#__PURE__*/_jsxDEV(Button, {\n          onClick: () => navigate('/'),\n          children: \"\\u8FD4\\u56DE\\u9996\\u9875\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 7\n    }, this);\n  }\n  const isOutOfStock = currentProduct.stockQuantity <= 0;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      padding: '20px'\n    },\n    children: [/*#__PURE__*/_jsxDEV(Breadcrumb, {\n      style: {\n        marginBottom: 20\n      },\n      children: [/*#__PURE__*/_jsxDEV(Breadcrumb.Item, {\n        children: [/*#__PURE__*/_jsxDEV(HomeOutlined, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          onClick: () => navigate('/'),\n          style: {\n            cursor: 'pointer',\n            marginLeft: 8\n          },\n          children: \"\\u9996\\u9875\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Breadcrumb.Item, {\n        children: currentProduct.categoryName\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Breadcrumb.Item, {\n        children: currentProduct.name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Row, {\n      gutter: 40,\n      children: [/*#__PURE__*/_jsxDEV(Col, {\n        xs: 24,\n        md: 12,\n        children: /*#__PURE__*/_jsxDEV(Card, {\n          children: /*#__PURE__*/_jsxDEV(Image, {\n            width: \"100%\",\n            height: 400,\n            src: currentProduct.imageUrl,\n            alt: currentProduct.name,\n            style: {\n              objectFit: 'cover'\n            },\n            fallback: \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMIAAADDCAYAAADQvc6UAAABRWlDQ1BJQ0MgUHJvZmlsZQAAKJFjYGASSSwoyGFhYGDIzSspCnJ3UoiIjFJgf8LAwSDCIMogwMCcmFxc4BgQ4ANUwgCjUcG3awyMIPqyLsis7PPOq3QdDFcvjV3jOD1boQVTPQrgSkktTgbSf4A4LbmgqISBgTEFyFYuLykAsTuAbJEioKOA7DkgdjqEvQHEToKwj4DVhAQ5A9k3gGyB5IxEoBmML4BsnSQk8XQkNtReEOBxcfXxUQg1Mjc0dyHgXNJBSWpFCYh2zi+oLMpMzyhRcASGUqqCZ16yno6CkYGRAQMDKMwhqj/fAIcloxgHQqxAjIHBEugw5sUIsSQpBobtQPdLciLEVJYzMPBHMDBsayhILEqEO4DxG0txmrERhM29nYGBddr//5/DGRjYNRkY/l7////39v///y4Dmn+LgeHANwDrkl1AuO+pmgAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAwqADAAQAAAABAAAAwwAAAAD9b/HnAAAHlklEQVR4Ae3dP3Ik1RnG8Q8Jgb/DH2eFGCO2+B2+gS4hc2iBKQsNBvLfIQvO4S8hEy5hl3f2S6gFy5IxBE2VV0hGqGFiYntOy38qHdW8rBKbdH4IZ7a6eoetd7b9a7a6ektOx6KiYhCjAMhFQGKIKAA=\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 169,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Col, {\n        xs: 24,\n        md: 12,\n        children: /*#__PURE__*/_jsxDEV(Space, {\n          direction: \"vertical\",\n          size: \"large\",\n          style: {\n            width: '100%'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(Title, {\n              level: 2,\n              style: {\n                marginBottom: 8\n              },\n              children: currentProduct.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 185,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Space, {\n              children: [/*#__PURE__*/_jsxDEV(Tag, {\n                color: \"blue\",\n                children: currentProduct.categoryName\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 189,\n                columnNumber: 17\n              }, this), isOutOfStock && /*#__PURE__*/_jsxDEV(Tag, {\n                color: \"red\",\n                children: \"\\u7F3A\\u8D27\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 190,\n                columnNumber: 34\n              }, this), currentProduct.salesCount > 100 && /*#__PURE__*/_jsxDEV(Tag, {\n                color: \"orange\",\n                children: \"\\u70ED\\u9500\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 191,\n                columnNumber: 53\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 188,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 184,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(Text, {\n              style: {\n                fontSize: 28,\n                color: '#ff4d4f',\n                fontWeight: 'bold'\n              },\n              children: [\"\\xA5\", currentProduct.price]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 197,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Text, {\n              style: {\n                fontSize: 14,\n                color: '#999',\n                marginLeft: 16\n              },\n              children: [\"\\u5DF2\\u552E \", currentProduct.salesCount, \" \\u4EF6\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 200,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 196,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(Title, {\n              level: 4,\n              children: \"\\u5546\\u54C1\\u63CF\\u8FF0\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 207,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Paragraph, {\n              style: {\n                color: '#666'\n              },\n              children: currentProduct.description\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 208,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 206,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Divider, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 213,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Row, {\n            justify: \"space-between\",\n            align: \"middle\",\n            children: [/*#__PURE__*/_jsxDEV(Text, {\n              children: \"\\u5E93\\u5B58\\u6570\\u91CF\\uFF1A\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 217,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Text, {\n              strong: true,\n              style: {\n                color: isOutOfStock ? '#ff4d4f' : '#52c41a'\n              },\n              children: [currentProduct.stockQuantity, \" \\u4EF6\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 218,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 216,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Row, {\n            justify: \"space-between\",\n            align: \"middle\",\n            children: [/*#__PURE__*/_jsxDEV(Text, {\n              children: \"\\u8D2D\\u4E70\\u6570\\u91CF\\uFF1A\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 225,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(InputNumber, {\n              min: 1,\n              max: currentProduct.stockQuantity,\n              value: quantity,\n              onChange: handleQuantityChange,\n              disabled: isOutOfStock,\n              style: {\n                width: 120\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 226,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 224,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Divider, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 236,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Space, {\n            direction: \"vertical\",\n            size: \"middle\",\n            style: {\n              width: '100%'\n            },\n            children: [/*#__PURE__*/_jsxDEV(Row, {\n              gutter: 16,\n              children: [/*#__PURE__*/_jsxDEV(Col, {\n                span: 12,\n                children: /*#__PURE__*/_jsxDEV(Button, {\n                  type: \"primary\",\n                  icon: /*#__PURE__*/_jsxDEV(ShoppingCartOutlined, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 244,\n                    columnNumber: 27\n                  }, this),\n                  size: \"large\",\n                  block: true,\n                  onClick: handleAddToCart,\n                  disabled: isOutOfStock,\n                  loading: cartLoading,\n                  children: \"\\u52A0\\u5165\\u8D2D\\u7269\\u8F66\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 242,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 241,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Col, {\n                span: 12,\n                children: /*#__PURE__*/_jsxDEV(Button, {\n                  type: \"primary\",\n                  danger: true,\n                  size: \"large\",\n                  block: true,\n                  onClick: handleBuyNow,\n                  disabled: isOutOfStock,\n                  loading: cartLoading,\n                  children: \"\\u7ACB\\u5373\\u8D2D\\u4E70\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 255,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 254,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 240,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              icon: /*#__PURE__*/_jsxDEV(HeartOutlined, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 270,\n                columnNumber: 23\n              }, this),\n              size: \"large\",\n              block: true,\n              style: {\n                borderColor: '#ff4d4f',\n                color: '#ff4d4f'\n              },\n              children: \"\\u6536\\u85CF\\u5546\\u54C1\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 269,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 239,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 182,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(FloatButton, {\n      icon: /*#__PURE__*/_jsxDEV(CustomerServiceOutlined, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 284,\n        columnNumber: 15\n      }, this),\n      tooltip: \"\\u8054\\u7CFB\\u5BA2\\u670D\",\n      type: \"primary\",\n      style: {\n        right: 24,\n        bottom: 24\n      },\n      onClick: () => setShowCustomerService(true)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 283,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(CustomerServiceChat, {\n      isVisible: showCustomerService,\n      onClose: () => setShowCustomerService(false),\n      context: {\n        productId: currentProduct === null || currentProduct === void 0 ? void 0 : currentProduct.id,\n        productPrice: currentProduct === null || currentProduct === void 0 ? void 0 : currentProduct.price,\n        currentPage: 'product_detail'\n      },\n      userId: currentUserId || 1\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 292,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 152,\n    columnNumber: 5\n  }, this);\n};\n_s(ProductDetail, \"68DLxYr5L65YGOpCGjH8a6QXLc4=\", false, function () {\n  return [useParams, useNavigate, useDispatch, useSelector, useSelector];\n});\n_c = ProductDetail;\nexport default ProductDetail;\nvar _c;\n$RefreshReg$(_c, \"ProductDetail\");","map":{"version":3,"names":["React","useEffect","Card","Row","Col","Button","Typography","Image","Tag","InputNumber","Space","Divider","Spin","Alert","Breadcrumb","message","FloatButton","ShoppingCartOutlined","HeartOutlined","HomeOutlined","CustomerServiceOutlined","useDispatch","useSelector","useParams","useNavigate","fetchProductById","resetCurrentProduct","addToCartAsync","CustomerServiceChat","jsxDEV","_jsxDEV","Title","Text","Paragraph","ProductDetail","_s","id","navigate","dispatch","currentProduct","detailLoading","detailError","state","products","loading","cartLoading","currentUserId","cart","quantity","setQuantity","useState","showCustomerService","setShowCustomerService","Number","handleQuantityChange","value","handleAddToCart","userId","productId","unwrap","success","name","error","console","handleBuyNow","setTimeout","style","padding","textAlign","children","size","fileName","_jsxFileName","lineNumber","columnNumber","marginTop","description","type","action","onClick","isOutOfStock","stockQuantity","marginBottom","Item","cursor","marginLeft","categoryName","gutter","xs","md","width","height","src","imageUrl","alt","objectFit","fallback","direction","level","color","salesCount","fontSize","fontWeight","price","justify","align","strong","min","max","onChange","disabled","span","icon","block","danger","borderColor","tooltip","right","bottom","isVisible","onClose","context","productPrice","currentPage","_c","$RefreshReg$"],"sources":["D:/招财商城/frontend/src/components/ProductDetail.tsx"],"sourcesContent":["import React, { useEffect } from 'react';\r\nimport { \r\n  Card, \r\n  Row, \r\n  Col, \r\n  Button, \r\n  Typography, \r\n  Image, \r\n  Tag, \r\n  InputNumber, \r\n  Space, \r\n  Divider,\r\n  Spin,\r\n  Alert,\r\n  Breadcrumb,\r\n  message,\r\n  FloatButton\r\n} from 'antd';\r\nimport { ShoppingCartOutlined, HeartOutlined, HomeOutlined, CustomerServiceOutlined } from '@ant-design/icons';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { useParams, useNavigate } from 'react-router-dom';\r\nimport { RootState, AppDispatch } from '../store';\r\nimport { fetchProductById, resetCurrentProduct } from '../store/slices/productSlice';\r\nimport { addToCartAsync } from '../store/slices/cartSlice';\r\nimport CustomerServiceChat from './CustomerServiceChat';\r\n\r\nconst { Title, Text, Paragraph } = Typography;\r\n\r\nconst ProductDetail: React.FC = () => {\r\n  const { id } = useParams<{ id: string }>();\r\n  const navigate = useNavigate();\r\n  const dispatch = useDispatch<AppDispatch>();\r\n  \r\n  const { \r\n    currentProduct, \r\n    detailLoading, \r\n    detailError \r\n  } = useSelector((state: RootState) => state.products);\r\n  \r\n  const { \r\n    loading: cartLoading, \r\n    currentUserId \r\n  } = useSelector((state: RootState) => state.cart);\r\n  \r\n  const [quantity, setQuantity] = React.useState(1);\r\n  const [showCustomerService, setShowCustomerService] = React.useState(false);\r\n  \r\n  useEffect(() => {\r\n    if (id) {\r\n      dispatch(fetchProductById(Number(id)));\r\n    }\r\n    \r\n    // 组件卸载时重置当前商品\r\n    return () => {\r\n      dispatch(resetCurrentProduct());\r\n    };\r\n  }, [dispatch, id]);\r\n  \r\n  const handleQuantityChange = (value: number | null) => {\r\n    if (value && value > 0) {\r\n      setQuantity(value);\r\n    }\r\n  };\r\n  \r\n  const handleAddToCart = async () => {\r\n    if (currentProduct) {\r\n      try {\r\n        await dispatch(addToCartAsync({\r\n          userId: currentUserId,\r\n          productId: currentProduct.id,\r\n          quantity\r\n        })).unwrap();\r\n        \r\n        message.success(`已将 ${currentProduct.name} 加入购物车`);\r\n      } catch (error) {\r\n        console.error('添加到购物车失败:', error);\r\n        message.error('添加到购物车失败，请稍后重试');\r\n      }\r\n    }\r\n  };\r\n  \r\n  const handleBuyNow = async () => {\r\n    if (currentProduct) {\r\n      // 先添加到购物车，然后跳转到购物车页面\r\n      try {\r\n        await dispatch(addToCartAsync({\r\n          userId: currentUserId,\r\n          productId: currentProduct.id,\r\n          quantity\r\n        })).unwrap();\r\n        \r\n        message.success('商品已加入购物车，正在跳转...');\r\n        setTimeout(() => {\r\n          navigate('/cart');\r\n        }, 1000);\r\n      } catch (error) {\r\n        console.error('立即购买失败:', error);\r\n        message.error('操作失败，请稍后重试');\r\n      }\r\n    }\r\n  };\r\n\r\n  // 加载状态\r\n  if (detailLoading) {\r\n    return (\r\n      <div style={{ padding: '20px', textAlign: 'center' }}>\r\n        <Spin size=\"large\" />\r\n        <div style={{ marginTop: 16 }}>加载商品详情中...</div>\r\n      </div>\r\n    );\r\n  }\r\n  \r\n  // 错误状态\r\n  if (detailError) {\r\n    return (\r\n      <div style={{ padding: '20px' }}>\r\n        <Alert\r\n          message=\"加载失败\"\r\n          description={detailError}\r\n          type=\"error\"\r\n          action={\r\n            <Button onClick={() => id && dispatch(fetchProductById(Number(id)))}>\r\n              重试\r\n            </Button>\r\n          }\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n  \r\n  // 商品不存在\r\n  if (!currentProduct) {\r\n    return (\r\n      <div style={{ padding: '20px' }}>\r\n        <Alert\r\n          message=\"商品不存在\"\r\n          description=\"您访问的商品可能已下架或不存在\"\r\n          type=\"warning\"\r\n          action={\r\n            <Button onClick={() => navigate('/')}>\r\n              返回首页\r\n            </Button>\r\n          }\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n  \r\n  const isOutOfStock = currentProduct.stockQuantity <= 0;\r\n  \r\n  return (\r\n    <div style={{ padding: '20px' }}>\r\n      {/* 面包屑导航 */}\r\n      <Breadcrumb style={{ marginBottom: 20 }}>\r\n        <Breadcrumb.Item>\r\n          <HomeOutlined />\r\n          <span onClick={() => navigate('/')} style={{ cursor: 'pointer', marginLeft: 8 }}>\r\n            首页\r\n          </span>\r\n        </Breadcrumb.Item>\r\n        <Breadcrumb.Item>{currentProduct.categoryName}</Breadcrumb.Item>\r\n        <Breadcrumb.Item>{currentProduct.name}</Breadcrumb.Item>\r\n      </Breadcrumb>\r\n      \r\n      <Row gutter={40}>\r\n        {/* 商品图片 */}\r\n        <Col xs={24} md={12}>\r\n          <Card>\r\n            <Image\r\n              width=\"100%\"\r\n              height={400}\r\n              src={currentProduct.imageUrl}\r\n              alt={currentProduct.name}\r\n              style={{ objectFit: 'cover' }}\r\n              fallback=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMIAAADDCAYAAADQvc6UAAABRWlDQ1BJQ0MgUHJvZmlsZQAAKJFjYGASSSwoyGFhYGDIzSspCnJ3UoiIjFJgf8LAwSDCIMogwMCcmFxc4BgQ4ANUwgCjUcG3awyMIPqyLsis7PPOq3QdDFcvjV3jOD1boQVTPQrgSkktTgbSf4A4LbmgqISBgTEFyFYuLykAsTuAbJEioKOA7DkgdjqEvQHEToKwj4DVhAQ5A9k3gGyB5IxEoBmML4BsnSQk8XQkNtReEOBxcfXxUQg1Mjc0dyHgXNJBSWpFCYh2zi+oLMpMzyhRcASGUqqCZ16yno6CkYGRAQMDKMwhqj/fAIcloxgHQqxAjIHBEugw5sUIsSQpBobtQPdLciLEVJYzMPBHMDBsayhILEqEO4DxG0txmrERhM29nYGBddr//5/DGRjYNRkY/l7////39v///y4Dmn+LgeHANwDrkl1AuO+pmgAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAwqADAAQAAAABAAAAwwAAAAD9b/HnAAAHlklEQVR4Ae3dP3Ik1RnG8Q8Jgb/DH2eFGCO2+B2+gS4hc2iBKQsNBvLfIQvO4S8hEy5hl3f2S6gFy5IxBE2VV0hGqGFiYntOy38qHdW8rBKbdH4IZ7a6eoetd7b9a7a6ektOx6KiYhCjAMhFQGKIKAA=\"\r\n            />\r\n          </Card>\r\n        </Col>\r\n        \r\n        {/* 商品信息 */}\r\n        <Col xs={24} md={12}>\r\n          <Space direction=\"vertical\" size=\"large\" style={{ width: '100%' }}>\r\n            {/* 标题和标签 */}\r\n            <div>\r\n              <Title level={2} style={{ marginBottom: 8 }}>\r\n                {currentProduct.name}\r\n              </Title>\r\n              <Space>\r\n                <Tag color=\"blue\">{currentProduct.categoryName}</Tag>\r\n                {isOutOfStock && <Tag color=\"red\">缺货</Tag>}\r\n                {currentProduct.salesCount > 100 && <Tag color=\"orange\">热销</Tag>}\r\n              </Space>\r\n            </div>\r\n            \r\n            {/* 价格 */}\r\n            <div>\r\n              <Text style={{ fontSize: 28, color: '#ff4d4f', fontWeight: 'bold' }}>\r\n                ¥{currentProduct.price}\r\n              </Text>\r\n              <Text style={{ fontSize: 14, color: '#999', marginLeft: 16 }}>\r\n                已售 {currentProduct.salesCount} 件\r\n              </Text>\r\n            </div>\r\n            \r\n            {/* 商品描述 */}\r\n            <div>\r\n              <Title level={4}>商品描述</Title>\r\n              <Paragraph style={{ color: '#666' }}>\r\n                {currentProduct.description}\r\n              </Paragraph>\r\n            </div>\r\n            \r\n            <Divider />\r\n            \r\n            {/* 库存信息 */}\r\n            <Row justify=\"space-between\" align=\"middle\">\r\n              <Text>库存数量：</Text>\r\n              <Text strong style={{ color: isOutOfStock ? '#ff4d4f' : '#52c41a' }}>\r\n                {currentProduct.stockQuantity} 件\r\n              </Text>\r\n            </Row>\r\n            \r\n            {/* 数量选择 */}\r\n            <Row justify=\"space-between\" align=\"middle\">\r\n              <Text>购买数量：</Text>\r\n              <InputNumber\r\n                min={1}\r\n                max={currentProduct.stockQuantity}\r\n                value={quantity}\r\n                onChange={handleQuantityChange}\r\n                disabled={isOutOfStock}\r\n                style={{ width: 120 }}\r\n              />\r\n            </Row>\r\n            \r\n            <Divider />\r\n            \r\n            {/* 操作按钮 */}\r\n            <Space direction=\"vertical\" size=\"middle\" style={{ width: '100%' }}>\r\n              <Row gutter={16}>\r\n                <Col span={12}>\r\n                  <Button\r\n                    type=\"primary\"\r\n                    icon={<ShoppingCartOutlined />}\r\n                    size=\"large\"\r\n                    block\r\n                    onClick={handleAddToCart}\r\n                    disabled={isOutOfStock}\r\n                    loading={cartLoading}\r\n                  >\r\n                    加入购物车\r\n                  </Button>\r\n                </Col>\r\n                <Col span={12}>\r\n                  <Button\r\n                    type=\"primary\"\r\n                    danger\r\n                    size=\"large\"\r\n                    block\r\n                    onClick={handleBuyNow}\r\n                    disabled={isOutOfStock}\r\n                    loading={cartLoading}\r\n                  >\r\n                    立即购买\r\n                  </Button>\r\n                </Col>\r\n              </Row>\r\n              \r\n              <Button\r\n                icon={<HeartOutlined />}\r\n                size=\"large\"\r\n                block\r\n                style={{ borderColor: '#ff4d4f', color: '#ff4d4f' }}\r\n              >\r\n                收藏商品\r\n              </Button>\r\n            </Space>\r\n          </Space>\r\n        </Col>\r\n      </Row>\r\n\r\n      {/* 客服浮动按钮 */}\r\n      <FloatButton\r\n        icon={<CustomerServiceOutlined />}\r\n        tooltip=\"联系客服\"\r\n        type=\"primary\"\r\n        style={{ right: 24, bottom: 24 }}\r\n        onClick={() => setShowCustomerService(true)}\r\n      />\r\n\r\n      {/* 客服聊天组件 */}\r\n      <CustomerServiceChat\r\n        isVisible={showCustomerService}\r\n        onClose={() => setShowCustomerService(false)}\r\n        context={{\r\n          productId: currentProduct?.id,\r\n          productPrice: currentProduct?.price,\r\n          currentPage: 'product_detail'\r\n        }}\r\n        userId={currentUserId || 1}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProductDetail; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}